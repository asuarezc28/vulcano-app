{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{\"1kEK\":function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return i});const i={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,n){const i=new s(t.getPointX(e),t.getPointY(e),n),r=t.hasZ(e),a=t.hasM(e);return r&&(i.z=t.getPointZ(e)),a&&(i.m=t.getPointM(e)),i},exportPolygon:function(t,e,n){return new r(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,n){return new a(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,n){return new o(t.exportPoints(e),n,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,n){const i=t.hasZ(e),s=t.hasM(e),r=new u(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),n);if(i){const n=t.getZExtent(e);r.zmin=n.vmin,r.zmax=n.vmax}if(s){const n=t.getMExtent(e);r.mmin=n.vmin,r.mmax=n.vmax}return r}};class s{constructor(t,e,n){this.x=t,this.y=e,this.spatialReference=n,this.z=void 0,this.m=void 0}}class r{constructor(t,e,n,i){this.rings=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(t,e,n,i){this.paths=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(t,e,n,i){this.points=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class u{constructor(t,e,n,i,s){this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=i,this.spatialReference=s,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},\"2X7Z\":function(t,e,n){\"use strict\";function i(t,e){return t?e?4:3:e?3:2}function s(t,e,n,s,o){if(!e||!e.lengths.length)return null;const u=\"upperLeft\"===(null==o?void 0:o.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const l=t.coords,c=[],h=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:d,coords:f}=e,m=i(n,s);let p=0;for(const i of d){const t=r(h,f,p,i,n,s,u);t&&c.push(t),p+=i*m}if(c.sort((t,e)=>{let i=u*t[2]-u*e[2];return 0===i&&n&&(i=t[4]-e[4]),i}),c.length){let t=6*c[0][2];l[0]=c[0][0]/t,l[1]=c[0][1]/t,n&&(t=6*c[0][4],l[2]=0!==t?c[0][3]/t:0),(l[0]<h[0]||l[0]>h[1]||l[1]<h[2]||l[1]>h[3]||n&&(l[2]<h[4]||l[2]>h[5]))&&(l.length=0)}if(!l.length){const t=e.lengths[0]?a(f,0,d[0],n,s):null;if(!t)return null;l[0]=t[0],l[1]=t[1],n&&t.length>2&&(l[2]=t[2])}return t}function r(t,e,n,s,r,a,o=1){const u=i(r,a);let l=n,c=n+u,h=0,d=0,f=0,m=0,p=0;for(let i=0,y=s-1;i<y;i++,l+=u,c+=u){const n=e[l],i=e[l+1],s=e[l+2],a=e[c],o=e[c+1],u=e[c+2];let g=n*o-a*i;m+=g,h+=(n+a)*g,d+=(i+o)*g,r&&(g=n*u-a*s,f+=(s+u)*g,p+=g),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),i<t[2]&&(t[2]=i),i>t[3]&&(t[3]=i),r&&(s<t[4]&&(t[4]=s),s>t[5]&&(t[5]=s))}if(m*o>0&&(m*=-1),p*o>0&&(p*=-1),!m)return null;const g=[h,d,.5*m];return r&&(g[3]=f,g[4]=.5*p),g}function a(t,e,n,s,r){const a=i(s,r);let h=e,d=e+a,f=0,m=0,p=0,g=0;for(let i=0,y=n-1;i<y;i++,h+=a,d+=a){const e=t[h],n=t[h+1],i=t[h+2],r=t[d],a=t[d+1],y=t[d+2],x=s?u(e,n,i,r,a,y):o(e,n,r,a);if(x)if(f+=x,s){const t=c(e,n,i,r,a,y);m+=x*t[0],p+=x*t[1],g+=x*t[2]}else{const t=l(e,n,r,a);m+=x*t[0],p+=x*t[1]}}return f>0?s?[m/f,p/f,g/f]:[m/f,p/f]:n>0?s?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function o(t,e,n,i){const s=n-t,r=i-e;return Math.sqrt(s*s+r*r)}function u(t,e,n,i,s,r){const a=i-t,o=s-e,u=r-n;return Math.sqrt(a*a+o*o+u*u)}function l(t,e,n,i){return[t+.5*(n-t),e+.5*(i-e)]}function c(t,e,n,i,s,r){return[t+.5*(i-t),e+.5*(s-e),n+.5*(r-n)]}n.d(e,\"a\",function(){return s})},AIxD:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return b}),n.d(e,\"b\",function(){return g}),n.d(e,\"c\",function(){return o}),n.d(e,\"d\",function(){return _}),n.d(e,\"e\",function(){return I}),n.d(e,\"f\",function(){return j}),n.d(e,\"g\",function(){return M});var i=n(\"qatw\");const s=(t,e,n)=>[e,n],r=(t,e,n)=>[e,n,t[2]],a=(t,e,n)=>[e,n,t[2],t[3]];function o(t){return t?{originPosition:\"upper-left\"===t.originPosition?\"upperLeft\":\"lower-left\"===t.originPosition?\"lowerLeft\":t.originPosition,scale:[t.tolerance,t.tolerance],translate:[t.extent.xmin,t.extent.ymax]}:null}function u({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function l({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function c(t,e,n){const i=[];let s,r,a,o;for(let c=0;c<n.length;c++){const h=n[c];c>0?(a=u(t,h[0]),o=l(t,h[1]),a===s&&o===r||(i.push(e(h,a-s,o-r)),s=a,r=o)):(s=u(t,h[0]),r=l(t,h[1]),i.push(e(h,s,r)))}return i.length>0?i:null}function h({scale:t,translate:e},n){return n*t[0]+e[0]}function d({scale:t,translate:e},n){return e[1]-n*t[1]}function f(t,e,n){const i=new Array(n.length);if(!n.length)return i;const[s,r]=t.scale;let a=h(t,n[0][0]),o=d(t,n[0][1]);i[0]=e(n[0],a,o);for(let u=1;u<n.length;u++){const t=n[u];a+=t[0]*s,o-=t[1]*r,i[u]=e(t,a,o)}return i}function m(t,e,n){const i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=f(t,e,n[s]);return i}function p(t,e,n,i,o){return e.points=function(t,e,n,i){return c(t,n?i?a:r:i?r:s,e)}(t,n.points,i,o),e}function g(t,e,n,i,s){return e.x=u(t,n.x),e.y=l(t,n.y),e!==n&&(i&&(e.z=n.z),s&&(e.m=n.m)),e}function y(t,e,n,i,o){const u=function(t,e,n,i){const o=[],u=n?i?a:r:i?r:s;for(let s=0;s<e.length;s++){const n=c(t,u,e[s]);n&&n.length>=3&&o.push(n)}return o.length?o:null}(t,n.rings,i,o);return u?(e.rings=u,e):null}function x(t,e,n,i,o){const u=function(t,e,n,i){const o=[],u=n?i?a:r:i?r:s;for(let s=0;s<e.length;s++){const n=c(t,u,e[s]);n&&n.length>=2&&o.push(n)}return o.length?o:null}(t,n.paths,i,o);return u?(e.paths=u,e):null}function b(t,e){return t&&e?Object(i.f)(e)?g(t,{},e,!1,!1):Object(i.h)(e)?x(t,{},e,!1,!1):Object(i.g)(e)?y(t,{},e,!1,!1):Object(i.e)(e)?p(t,{},e,!1,!1):Object(i.d)(e)?((s={}).xmin=u(n=t,(r=e).xmin),s.ymin=l(n,r.ymin),s.xmax=u(n,r.xmax),s.ymax=l(n,r.ymax),s):null:null;var n,s,r}function _(t,e,n,i,o){return e.points=function(t,e,n,i){return f(t,n?i?a:r:i?r:s,e)}(t,n.points,i,o),e}function I(t,e,n,i,s){return e.x=h(t,n.x),e.y=d(t,n.y),e!==n&&(i&&(e.z=n.z),s&&(e.m=n.m)),e}function j(t,e,n,i,o){return e.rings=function(t,e,n,i){return m(t,n?i?a:r:i?r:s,e)}(t,n.rings,i,o),e}function M(t,e,n,i,o){return e.paths=function(t,e,n,i){return m(t,n?i?a:r:i?r:s,e)}(t,n.paths,i,o),e}},BUoz:function(t,e,n){\"use strict\";n.r(e);var i=n(\"zlDU\"),s=n(\"9MzC\"),r=n(\"f4Nx\"),a=n(\"qatw\"),o=n(\"wdpY\"),u=n(\"Lqtk\"),l=n(\"Z4F+\"),c=n(\"ZlUD\"),h=n(\"gLc9\"),d=n(\"HsO1\"),f=n(\"46M0\"),m=n(\"iNG6\"),p=n(\"ZRfE\"),g=n(\"ZBG3\"),y=n(\"IcpP\");const x={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};e.default=class{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const e=[];await this._checkProjection(t.spatialReference);let n=null;t.url&&(n=(await Object(u.default)(t.url,{responseType:\"json\"})).data,await Object(f.c)(n));const s=Object(f.b)(n,{geometryType:t.geometryType}),a=t.fields||s.fields||[],y=null!=t.hasZ?t.hasZ:s.hasZ,b=s.geometryType,_=t.objectIdField||(\"number\"===s.objectIdFieldType?s.objectIdFieldName:\"OBJECTID\")||\"OBJECTID\",I=t.spatialReference||r.a;let j=t.timeInfo;if(!b)throw new i.a(\"geojson-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(\"string\"===s.objectIdFieldType&&e.push({name:\"geojson-layer:unsupported-id-type\",message:\"Feature ids are of type string and can't be honored.\"}),a===s.fields&&s.unknownFields.length>0&&e.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:s.unknownFields}}),_){let t=null;a.some(e=>e.name===_&&(t=e,!0))?(t.type=\"esriFieldTypeOID\",t.editable=!1,t.nullable=!1):a.unshift({alias:_,name:_,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const r of a){if(null==r.name&&(r.name=r.alias),null==r.alias&&(r.alias=r.name),!r.name)throw new i.a(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:r});if(r.name===_&&(r.type=\"esriFieldTypeOID\"),-1===l.a.jsonValues.indexOf(r.type))throw new i.a(\"geojson-layer:invalid-field-type\",`invalid type for field \"${r.name}\"`,{field:r})}const M={};this._requiredFields=[];for(const i of a)if(\"esriFieldTypeOID\"!==i.type&&\"esriFieldTypeGlobalID\"!==i.type){i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable;const t=Object(o.o)(i);i.nullable||void 0!==t?M[i.name]=t:this._requiredFields.push(i)}if(this._fieldsIndex=new h.a(a),j){if(j.startTimeField){const t=this._fieldsIndex.get(j.startTimeField);t?(j.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.startTimeField=null}if(j.endTimeField){const t=this._fieldsIndex.get(j.endTimeField);t?(j.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.endTimeField=null}if(j.trackIdField){const t=this._fieldsIndex.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,e.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(e.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:j}}),j=null)}const O={warnings:e,featureErrors:[],layerDefinition:{...x,drawingInfo:Object(m.c)(b),templates:Object(m.b)(M),extent:null,geometryType:b,objectIdField:_,fields:a,hasZ:!!y,timeInfo:j}};this._queryEngine=new g.a({fields:a,geometryType:b,hasM:!1,hasZ:y,objectIdField:_,spatialReference:I,timeInfo:j,featureStore:new p.a({geometryType:b,hasM:!1,hasZ:y})}),this._createDefaultAttributes=Object(m.a)(M,_),this._nextObjectId=s.maxObjectId+1;const F=Object(f.a)(n,{geometryType:b,hasZ:y,objectIdFieldName:\"number\"===s.objectIdFieldType?_:null});if(!Object(r.c)(I,r.a))for(const i of F)i.geometry&&(i.geometry=Object(c.d)(Object(d.b)(Object(c.k)(i.geometry,b,y,!1),r.a,I)));return this._loadInitialFeatures(O,F),O}async applyEdits(t){const{spatialReference:e,geometryType:n}=this._queryEngine;return await Object(s.b)([Object(y.c)(e,n),Object(d.a)(t.adds,e),Object(d.a)(t.updates,e)]),this._applyEdits(t)}async queryFeatures(t={},e={}){return this._queryEngine.executeQuery(t,e.signal)}async queryFeatureCount(t={},e={}){return this._queryEngine.executeQueryForCount(t,e.signal)}async queryObjectIds(t={},e={}){return this._queryEngine.executeQueryForIds(t,e.signal)}async queryExtent(t={},e={}){return this._queryEngine.executeQueryForExtent(t,e.signal)}_loadInitialFeatures(t,e){const{featureStore:n,objectIdField:i}=this._queryEngine,s=[];for(const r of e){const e=this._createDefaultAttributes(),n=Object(y.d)(this._fieldsIndex,this._requiredFields,e,r.attributes,!0,t.warnings);n?t.featureErrors.push(n):(this._assignObjectId(e,r.attributes,!0),r.attributes=e,r.objectId=e[i],s.push(r))}if(n.addMany(s),t.layerDefinition.extent=this._queryEngine.fullExtent,t.layerDefinition.timeInfo){const{start:e,end:n}=this._queryEngine.timeExtent;t.layerDefinition.timeInfo.timeExtent=[e,n]}return t}_applyEdits(t){const{adds:e,updates:n,deletes:i}=t,s={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(e&&e.length&&this._applyAddEdits(s,e),n&&n.length&&this._applyUpdateEdits(s,n),i&&i.length){for(const t of i)s.deleteResults.push(Object(y.b)(t));this._queryEngine.featureStore.removeManyById(i)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:s}}_applyAddEdits(t,e){const{addResults:n}=t,{geometryType:i,hasM:s,hasZ:r,objectIdField:o,spatialReference:u,featureStore:l}=this._queryEngine,h=[];for(const c of e){if(c.geometry&&i!==Object(a.c)(c.geometry)){n.push(Object(y.a)(\"Incorrect geometry type.\"));continue}const e=this._createDefaultAttributes(),s=Object(y.d)(this._fieldsIndex,this._requiredFields,e,c.attributes);s?n.push(s):(this._assignObjectId(e,c.attributes),c.attributes=e,null!=c.uid&&(t.uidToObjectId[c.uid]=c.attributes[o]),c.geometry&&(c.geometry=Object(d.b)(Object(y.e)(c.geometry,u),c.geometry.spatialReference,u)),h.push(c),n.push(Object(y.b)(c.attributes[o])))}l.addMany(Object(c.c)([],h,i,r,s,o))}_applyUpdateEdits({updateResults:t},e){const{geometryType:n,hasM:i,hasZ:s,objectIdField:r,spatialReference:o,featureStore:u}=this._queryEngine;for(const l of e){const{attributes:e,geometry:h}=l,f=e&&e[r];if(null==f){t.push(Object(y.a)(`Identifier field ${r} missing`));continue}if(!u.has(f)){t.push(Object(y.a)(`Feature with object id ${f} missing`));continue}const m=Object(c.i)(u.getFeature(f),n,s,i);if(h){if(n!==Object(a.c)(h)){t.push(Object(y.a)(\"Incorrect geometry type.\"));continue}m.geometry=Object(d.b)(Object(y.e)(h,o),h.spatialReference,o)}if(e){const n=Object(y.d)(this._fieldsIndex,this._requiredFields,m.attributes,e);if(n){t.push(n);continue}}u.add(Object(c.a)(m,n,s,i,r)),t.push(Object(y.b)(f))}}_assignObjectId(t,e,n=!1){const i=this._queryEngine.objectIdField;t[i]=n&&isFinite(e[i])?e[i]:this._nextObjectId++}async _checkProjection(t){try{await Object(d.a)(r.a,t)}catch{throw new i.a(\"geojson-layer\",\"Projection not supported\")}}}},HsO1:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return d}),n.d(e,\"b\",function(){return p}),n.d(e,\"c\",function(){return y});var i=n(\"9MzC\"),s=n(\"f4Nx\"),r=n(\"l4ZG\"),a=n(\"gYg2\"),o=n(\"1kEK\");const u=[0,0];function l(t,e){if(!e)return null;if(\"x\"in e){const n={x:0,y:0};return[n.x,n.y]=t(e.x,e.y,u),null!=e.z&&(n.z=e.z),null!=e.m&&(n.m=e.m),n}if(\"xmin\"in e){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=t(e.xmin,e.ymin,u),[n.xmax,n.ymax]=t(e.xmax,e.ymax,u),e.hasZ&&(n.zmin=e.zmin,n.zmax=e.zmax,n.hasZ=!0),e.hasM&&(n.mmin=e.mmin,n.mmax=e.mmax,n.hasM=!0),n}return\"rings\"in e?{rings:c(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:\"paths\"in e?{paths:c(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:\"points\"in e?{points:h(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:void 0}function c(t,e){const n=[];for(const i of t)n.push(h(i,e));return n}function h(t,e){const n=[];for(const i of t){const t=e(i[0],i[1],[0,0]);n.push(t),i.length>2&&t.push(i[2]),i.length>3&&t.push(i[3])}return n}async function d(t,e){if(!e)return;const n=Array.isArray(t)?t.map(t=>{var e;return null==(e=t.geometry)?void 0:e.spatialReference}):[t];await Object(a.b)(n.map(t=>({source:t,dest:e})))}const f=l.bind(null,r.c),m=l.bind(null,r.f);function p(t,e,n){return t?(n||(n=e,e=t.spatialReference),Object(s.i)(e)&&Object(s.i)(n)&&!Object(s.c)(e,n)?Object(r.a)(e,n)?Object(s.m)(n)?f(t):m(t):Object(a.h)(o.a,[t],e,n,null)[0]:t):t}const g=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,n){!t||!t.length||!e||!n||Object(s.c)(e,n);const r={geometries:t,inSpatialReference:e,outSpatialReference:n,resolve:null};return this._jobs.push(r),Object(i.c)(t=>{r.resolve=t,null===this._timer&&(this._timer=setTimeout(this._process,10))})}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:e,inSpatialReference:n,outSpatialReference:i,resolve:u}=t;Object(r.a)(n,i)?Object(s.m)(i)?u(e.map(f)):u(e.map(m)):u(Object(a.h)(o.a,e,n,i,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};async function y(t,e,n){return g.push(t,e,n)}},RjdO:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return s});var i=n(\"X2wA\"),s=Object(i.b)(function(t){var e;void 0!==(e=function(){function t(n,i,s,r,a){for(;r>s;){if(r-s>600){var o=r-s+1,u=i-s+1,l=Math.log(o),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(o-c)/o)*(u-o/2<0?-1:1);t(n,i,Math.max(s,Math.floor(i-u*c/o+h)),Math.min(r,Math.floor(i+(o-u)*c/o+h)),a)}var d=n[i],f=s,m=r;for(e(n,s,i),a(n[r],d)>0&&e(n,s,r);f<m;){for(e(n,f,m),f++,m--;a(n[f],d)<0;)f++;for(;a(n[m],d)>0;)m--}0===a(n[s],d)?e(n,s,m):e(n,++m,r),m<=i&&(s=m+1),i<=m&&(r=m-1)}}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}return function(e,i,s,r,a){t(e,i,s||0,r||e.length-1,a||n)}}())&&(t.exports=e)})},\"kB+0\":function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return s});var i=n(\"RjdO\");function s(t,e){if(!(this instanceof s))return new s(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(\"function\"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function a(t,e){o(t,0,t.children.length,e,t)}function o(t,e,n,i,s){s||(s=p(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var r,a=e;a<n;a++)r=t.children[a],u(s,t.leaf?i(r):r);return s}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,s,r){for(var a,o=[e,n];o.length;)(n=o.pop())-(e=o.pop())<=s||(a=e+Math.ceil((n-e)/s/2)*s,Object(i.a)(t,a,e,n,r),o.push(e,a,a,n))}s.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!m(t,e))return n;for(var s,r,a,o,u=[];e;){for(s=0,r=e.children.length;s<r;s++)a=e.children[s],m(t,o=e.leaf?i(a):a)&&(e.leaf?n.push(a):f(t,o)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!m(t,e))return!1;for(var i,s,r,a,o=[];e;){for(i=0,s=e.children.length;i<s;i++)if(r=e.children[i],m(t,a=e.leaf?n(r):r)){if(e.leaf||f(t,a))return!0;o.push(r)}e=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var s=this.data;this.data=i,i=s}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,e){if(!t)return this;for(var n,i,s,a,o=this.data,u=this.toBBox(t),l=[],c=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=c.pop(),a=!0),o.leaf&&-1!==(s=r(t,o.children,e)))return o.children.splice(s,1),l.push(o),this._condense(l),this;a||o.leaf||!f(o,u)?i?(n++,o=i.children[n],a=!1):o=null:(l.push(o),c.push(n),n=0,i=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var s,r=n-e+1,o=this._maxEntries;if(r<=o)return a(s=p(t.slice(e,n+1)),this.toBBox),s;i||(i=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,i-1))),(s=p([])).leaf=!1,s.height=i;var u,l,c,h,d=Math.ceil(r/o),f=d*Math.ceil(Math.sqrt(o));for(g(t,e,n,f,this.compareMinX),u=e;u<=n;u+=f)for(g(t,u,c=Math.min(u+f-1,n),d,this.compareMinY),l=u;l<=c;l+=d)h=Math.min(l+d-1,c),s.children.push(this._build(t,l,h,i-1));return a(s,this.toBBox),s},_chooseSubtree:function(t,e,n,i){for(var s,r,a,o,u,l,c,d,f,m;i.push(e),!e.leaf&&i.length-1!==n;){for(c=d=1/0,s=0,r=e.children.length;s<r;s++)u=h(a=e.children[s]),f=t,m=a,(l=(Math.max(m.maxX,f.maxX)-Math.min(m.minX,f.minX))*(Math.max(m.maxY,f.maxY)-Math.min(m.minY,f.minY))-u)<d?(d=l,c=u<c?u:c,o=a):l===d&&u<c&&(c=u,o=a);e=o||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),s=[],r=this._chooseSubtree(i,this.data,e,s);for(r.children.push(t),u(r,i);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(i,s,e)},_split:function(t,e){var n=t[e],i=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,i);var r=this._chooseSplitIndex(n,s,i),o=p(n.children.splice(r,n.children.length-r));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,s,r,a,u,l,c,d,f,m,p,g,y,x;for(l=c=1/0,i=e;i<=n-e;i++)f=s=o(t,0,i,this.toBBox),m=r=o(t,i,n,this.toBBox),p=Math.max(f.minX,m.minX),g=Math.max(f.minY,m.minY),y=Math.min(f.maxX,m.maxX),x=Math.min(f.maxY,m.maxY),a=Math.max(0,y-p)*Math.max(0,x-g),u=h(s)+h(r),a<l?(l=a,d=i,c=u<c?u:c):a===l&&u<c&&(c=u,d=i);return d},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,s)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var s,r,a=this.toBBox,l=o(t,0,e,a),c=o(t,n-e,n,a),h=d(l)+d(c);for(s=e;s<n-e;s++)r=t.children[s],u(l,t.leaf?a(r):r),h+=d(l);for(s=n-e-1;s>=e;s--)r=t.children[s],u(c,t.leaf?a(r):r),h+=d(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",e.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",e.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}}}]);","name":"42.f87b948a9334644b89cd.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[42],{\n\n/***/ \"1kEK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return t; });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t={convertToGEGeometry:function(t,s){if(null==s)return null;return t.convertJSONToGeometry(s)},exportPoint:function(t,i,n){const e=new s(t.getPointX(i),t.getPointY(i),n),o=t.hasZ(i),h=t.hasM(i);o&&(e.z=t.getPointZ(i));h&&(e.m=t.getPointM(i));return e},exportPolygon:function(t,s,n){return new i(t.exportPaths(s),n,t.hasZ(s),t.hasM(s))},exportPolyline:function(t,s,i){return new n(t.exportPaths(s),i,t.hasZ(s),t.hasM(s))},exportMultipoint:function(t,s,i){return new e(t.exportPoints(s),i,t.hasZ(s),t.hasM(s))},exportExtent:function(t,s,i){const n=t.hasZ(s),e=t.hasM(s),h=new o(t.getXMin(s),t.getYMin(s),t.getXMax(s),t.getYMax(s),i);if(n){const i=t.getZExtent(s);h.zmin=i.vmin,h.zmax=i.vmax}if(e){const i=t.getMExtent(s);h.mmin=i.vmin,h.mmax=i.vmax}return h}};class s{constructor(t,s,i){this.x=t,this.y=s,this.spatialReference=i,this.z=void 0,this.m=void 0}}class i{constructor(t,s,i,n){this.rings=t,this.spatialReference=s,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}class n{constructor(t,s,i,n){this.paths=t,this.spatialReference=s,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}class e{constructor(t,s,i,n){this.points=t,this.spatialReference=s,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}class o{constructor(t,s,i,n,e){this.xmin=t,this.ymin=s,this.xmax=i,this.ymax=n,this.spatialReference=e,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}\n\n\n/***/ }),\n\n/***/ \"2X7Z\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return t; });\n/* unused harmony export lineCentroid */\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(t,I,o,u,l){if(!I||!I.lengths.length)return null;const N=\"upperLeft\"===(null==l?void 0:l.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const s=t.coords,c=[],f=o?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:i,coords:T}=I,h=n(o,u);let g=0;for(const n of i){const t=e(f,T,g,n,o,u,N);t&&c.push(t),g+=n*h}if(c.sort(((n,t)=>{let e=N*n[2]-N*t[2];return 0===e&&o&&(e=n[4]-t[4]),e})),c.length){let n=6*c[0][2];s[0]=c[0][0]/n,s[1]=c[0][1]/n,o&&(n=6*c[0][4],s[2]=0!==n?c[0][3]/n:0),(s[0]<f[0]||s[0]>f[1]||s[1]<f[2]||s[1]>f[3]||o&&(s[2]<f[4]||s[2]>f[5]))&&(s.length=0)}if(!s.length){const n=I.lengths[0]?r(T,0,i[0],o,u):null;if(!n)return null;s[0]=n[0],s[1]=n[1],o&&n.length>2&&(s[2]=n[2])}return t}function e(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,r=I-1;n<r;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function r(t,e,r,N,s){const c=n(N,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,e=r-1;n<e;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],b=t[i+2],m=N?o(n,e,r,s,c,b):I(n,e,s,c);if(m)if(T+=m,N){const t=l(n,e,r,s,c,b);h+=m*t[0],g+=m*t[1],E+=m*t[2]}else{const t=u(n,e,s,c);h+=m*t[0],g+=m*t[1]}}return T>0?N?[h/T,g/T,E/T]:[h/T,g/T]:r>0?N?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function I(n,t,e,r){const I=e-n,o=r-t;return Math.sqrt(I*I+o*o)}function o(n,t,e,r,I,o){const u=r-n,l=I-t,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function u(n,t,e,r){return[n+.5*(e-n),t+.5*(r-t)]}function l(n,t,e,r,I,o){return[n+.5*(r-n),t+.5*(I-t),e+.5*(o-e)]}\n\n\n/***/ }),\n\n/***/ \"AIxD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export equals */\n/* unused harmony export getQuantizedBoundsCoordsArray */\n/* unused harmony export getQuantizedBoundsCoordsArrayArray */\n/* unused harmony export getQuantizedBoundsPaths */\n/* unused harmony export getQuantizedBoundsPoints */\n/* unused harmony export getQuantizedBoundsRings */\n/* unused harmony export quantizeBounds */\n/* unused harmony export quantizeExtent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return d; });\n/* unused harmony export quantizeMultipoint */\n/* unused harmony export quantizePaths */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return L; });\n/* unused harmony export quantizePoints */\n/* unused harmony export quantizePolygon */\n/* unused harmony export quantizePolyline */\n/* unused harmony export quantizeRings */\n/* unused harmony export quantizeX */\n/* unused harmony export quantizeY */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return m; });\n/* unused harmony export unquantizeBounds */\n/* unused harmony export unquantizeCoordsArray */\n/* unused harmony export unquantizeCoordsArrayArray */\n/* unused harmony export unquantizeExtent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return U; });\n/* unused harmony export unquantizePaths */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return k; });\n/* unused harmony export unquantizePoints */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return q; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return v; });\n/* unused harmony export unquantizeRings */\n/* unused harmony export unquantizeX */\n/* unused harmony export unquantizeY */\n/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"qatw\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(n){return n&&\"upperLeft\"===n.originPosition}const o=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:[n.tolerance,n.tolerance],translate:[n.extent.xmin,n.extent.ymax]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,o,l,a;return i(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),i(t)?(o=t.translate[0],l=t.translate[1],a=t.scale[0]):(o=t.extent.xmin,l=t.extent.ymax,a=t.tolerance),r===o&&e===l&&u===a}function s({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function f({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function x(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=s(n,m[0]),l=f(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=s(n,m[0]),i=f(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function h(n,t,r){return t[0]=s(n,r[0]),t[3]=f(n,r[1]),t[2]=s(n,r[2]),t[1]=f(n,r[3]),t}function I(n,t,r,e){return x(n,r?e?a:l:e?l:o,t)}function g(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let r=0;r<t.length;r++){const e=x(n,i,t[r]);e&&e.length>=3&&u.push(e)}return u.length?u:null}function N(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let r=0;r<t.length;r++){const e=x(n,i,t[r]);e&&e.length>=2&&u.push(e)}return u.length?u:null}function p({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function z(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=p(n,r[0][0]),l=y(n,r[0][1]);e[0]=t(r[0],o,l);for(let n=1;n<r.length;n++){const a=r[n];o+=a[0]*u,l-=a[1]*i,e[n]=t(a,o,l)}return e}function T(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=z(n,t,r[u]);return e}function M(n,t,r){return r?(t[0]=p(n,r[0]),t[1]=y(n,r[3]),t[2]=p(n,r[2]),t[3]=y(n,r[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,r,e){return z(n,r?e?a:l:e?l:o,t)}function P(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function b(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function F(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let n=1;n<r.length;n++){const[t,m]=r[n];e+=t,u+=m,t<0&&(i=Math.min(i,e)),t>0&&(l=Math.max(l,e)),m<0?o=Math.min(o,u):m>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)F(n,n,t[r]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,r,e,u){return t.xmin=s(n,r.xmin),t.ymin=f(n,r.ymin),t.xmax=s(n,r.xmax),t.ymax=f(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function G(n,t,r,e,u){return t.points=I(n,r.points,e,u),t}function L(n,t,r,e,u){return t.x=s(n,r.x),t.y=f(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function O(n,t,r,e,u){const i=g(n,r.rings,e,u);return i?(t.rings=i,t):null}function S(n,t,r,e,u){const i=N(n,r.paths,e,u);return i?(t.paths=i,t):null}function d(i,o){return i&&o?Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__[/* isPoint */ \"f\"])(o)?L(i,{},o,!1,!1):Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__[/* isPolyline */ \"h\"])(o)?S(i,{},o,!1,!1):Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__[/* isPolygon */ \"g\"])(o)?O(i,{},o,!1,!1):Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__[/* isMultipoint */ \"e\"])(o)?G(i,{},o,!1,!1):Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__[/* isExtent */ \"d\"])(o)?w(i,{},o,!1,!1):null:null}function j(n,t,r,e,u){return t.xmin=p(n,r.xmin),t.ymin=y(n,r.ymin),t.xmax=p(n,r.xmax),t.ymax=y(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function U(n,t,r,e,u){return t.points=E(n,r.points,e,u),t}function k(n,t,r,e,u){return t.x=p(n,r.x),t.y=y(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function q(n,t,r,e,u){return t.rings=b(n,r.rings,e,u),t}function v(n,t,r,e,u){return t.paths=P(n,r.paths,e,u),t}\n\n\n/***/ }),\n\n/***/ \"BUoz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"zlDU\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"9MzC\");\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"f4Nx\");\n/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"qatw\");\n/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"wdpY\");\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"Lqtk\");\n/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"Z4F+\");\n/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"ZlUD\");\n/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"gLc9\");\n/* harmony import */ var _data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"HsO1\");\n/* harmony import */ var _geojson_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"46M0\");\n/* harmony import */ var _support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"iNG6\");\n/* harmony import */ var _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"ZRfE\");\n/* harmony import */ var _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"ZBG3\");\n/* harmony import */ var _support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"IcpP\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};/* harmony default export */ __webpack_exports__[\"default\"] = (class{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const r=[];await this._checkProjection(t.spatialReference);let u=null;if(t.url){u=(await Object(_request_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(t.url,{responseType:\"json\"})).data,await Object(_geojson_js__WEBPACK_IMPORTED_MODULE_10__[/* validateGeoJSON */ \"c\"])(u)}const p=Object(_geojson_js__WEBPACK_IMPORTED_MODULE_10__[/* inferLayerProperties */ \"b\"])(u,{geometryType:t.geometryType}),y=t.fields||p.fields||[],c=null!=t.hasZ?t.hasZ:p.hasZ,T=p.geometryType,q=t.objectIdField||(\"number\"===p.objectIdFieldType?p.objectIdFieldName:\"OBJECTID\")||\"OBJECTID\",x=t.spatialReference||_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* WGS84 */ \"a\"];let w=t.timeInfo;if(!T)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"](\"geojson-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(\"string\"===p.objectIdFieldType&&r.push({name:\"geojson-layer:unsupported-id-type\",message:\"Feature ids are of type string and can't be honored.\"}),y===p.fields&&p.unknownFields.length>0&&r.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:p.unknownFields}}),q){let e=null;y.some((t=>t.name===q&&(e=t,!0)))?(e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):y.unshift({alias:q,name:q,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const t of y){if(null==t.name&&(t.name=t.alias),null==t.alias&&(t.alias=t.name),!t.name)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"](\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:t});if(t.name===q&&(t.type=\"esriFieldTypeOID\"),-1===_support_fieldType_js__WEBPACK_IMPORTED_MODULE_6__[/* kebabDict */ \"a\"].jsonValues.indexOf(t.type))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"](\"geojson-layer:invalid-field-type\",`invalid type for field \"${t.name}\"`,{field:t})}const R={};this._requiredFields=[];for(const e of y)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable;const t=Object(_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_4__[/* getFieldDefaultValue */ \"o\"])(e);e.nullable||void 0!==t?R[e.name]=t:this._requiredFields.push(e)}if(this._fieldsIndex=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"](y),w){if(w.startTimeField){const e=this._fieldsIndex.get(w.startTimeField);e?(w.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.startTimeField=null}if(w.endTimeField){const e=this._fieldsIndex.get(w.endTimeField);e?(w.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.endTimeField=null}if(w.trackIdField){const e=this._fieldsIndex.get(w.trackIdField);e?w.trackIdField=e.name:(w.trackIdField=null,r.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:w}}))}w.startTimeField||w.endTimeField||(r.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:w}}),w=null)}const O={warnings:r,featureErrors:[],layerDefinition:{...D,drawingInfo:Object(_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_11__[/* createDrawingInfo */ \"c\"])(T),templates:Object(_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_11__[/* createDefaultTemplate */ \"b\"])(R),extent:null,geometryType:T,objectIdField:q,fields:y,hasZ:!!c,timeInfo:w}};this._queryEngine=new _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"]({fields:y,geometryType:T,hasM:!1,hasZ:c,objectIdField:q,spatialReference:x,timeInfo:w,featureStore:new _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"]({geometryType:T,hasM:!1,hasZ:c})}),this._createDefaultAttributes=Object(_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_11__[/* createDefaultAttributesFunction */ \"a\"])(R,q),this._nextObjectId=p.maxObjectId+1;const S=Object(_geojson_js__WEBPACK_IMPORTED_MODULE_10__[/* createOptimizedFeatures */ \"a\"])(u,{geometryType:T,hasZ:c,objectIdFieldName:\"number\"===p.objectIdFieldType?q:null});if(!Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* equals */ \"c\"])(x,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* WGS84 */ \"a\"]))for(const e of S)e.geometry&&(e.geometry=Object(_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__[/* convertFromGeometry */ \"d\"])(Object(_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__[/* project */ \"b\"])(Object(_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__[/* convertToGeometry */ \"k\"])(e.geometry,T,c,!1),_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* WGS84 */ \"a\"],x)));return this._loadInitialFeatures(O,S),O}async applyEdits(e){const{spatialReference:i,geometryType:s}=this._queryEngine;return await Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* all */ \"b\"])([Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* loadGeometryEngineForSimplify */ \"c\"])(i,s),Object(_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__[/* checkProjectionSupport */ \"a\"])(e.adds,i),Object(_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__[/* checkProjectionSupport */ \"a\"])(e.updates,i)]),this._applyEdits(e)}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}_loadInitialFeatures(e,t){const{featureStore:i,objectIdField:s}=this._queryEngine,r=[];for(const i of t){const t=this._createDefaultAttributes(),n=Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* mixAttributes */ \"d\"])(this._fieldsIndex,this._requiredFields,t,i.attributes,!0,e.warnings);n?e.featureErrors.push(n):(this._assignObjectId(t,i.attributes,!0),i.attributes=t,i.objectId=t[s],r.push(i))}if(i.addMany(r),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),i&&i.length&&this._applyUpdateEdits(r,i),s&&s.length){for(const e of s)r.deleteResults.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditSuccessResult */ \"b\"])(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:i}=e,{geometryType:s,hasM:n,hasZ:o,objectIdField:a,spatialReference:l,featureStore:d}=this._queryEngine,p=[];for(const n of t){if(n.geometry&&s!==Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__[/* getJsonType */ \"c\"])(n.geometry)){i.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditErrorResult */ \"a\"])(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),o=Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* mixAttributes */ \"d\"])(this._fieldsIndex,this._requiredFields,t,n.attributes);if(o)i.push(o);else{if(this._assignObjectId(t,n.attributes),n.attributes=t,null!=n.uid){const t=n.attributes[a];e.uidToObjectId[n.uid]=t}n.geometry&&(n.geometry=Object(_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__[/* project */ \"b\"])(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* simplify */ \"e\"])(n.geometry,l),n.geometry.spatialReference,l)),p.push(n),i.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditSuccessResult */ \"b\"])(n.attributes[a]))}}d.addMany(Object(_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__[/* convertFromFeatures */ \"c\"])([],p,s,o,n,a))}_applyUpdateEdits({updateResults:e},t){const{geometryType:i,hasM:s,hasZ:n,objectIdField:o,spatialReference:a,featureStore:l}=this._queryEngine;for(const d of t){const{attributes:t,geometry:u}=d,f=t&&t[o];if(null==f){e.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditErrorResult */ \"a\"])(`Identifier field ${o} missing`));continue}if(!l.has(f)){e.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditErrorResult */ \"a\"])(`Feature with object id ${f} missing`));continue}const c=Object(_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__[/* convertToFeature */ \"i\"])(l.getFeature(f),i,n,s);if(u){if(i!==Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__[/* getJsonType */ \"c\"])(u)){e.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditErrorResult */ \"a\"])(\"Incorrect geometry type.\"));continue}c.geometry=Object(_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__[/* project */ \"b\"])(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* simplify */ \"e\"])(u,a),u.spatialReference,a)}if(t){const i=Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* mixAttributes */ \"d\"])(this._fieldsIndex,this._requiredFields,c.attributes,t);if(i){e.push(i);continue}}l.add(Object(_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__[/* convertFromFeature */ \"a\"])(c,i,n,s,o)),e.push(Object(_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_14__[/* createFeatureEditSuccessResult */ \"b\"])(f))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}async _checkProjection(t){try{await Object(_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__[/* checkProjectionSupport */ \"a\"])(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* WGS84 */ \"a\"],t)}catch{throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"](\"geojson-layer\",\"Projection not supported\")}}});\n\n\n/***/ }),\n\n/***/ \"HsO1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return f; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return g; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return j; });\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"9MzC\");\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"f4Nx\");\n/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"l4ZG\");\n/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"gYg2\");\n/* harmony import */ var _geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"1kEK\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst u=[0,0];function c(s,t){if(!t)return null;if(\"x\"in t){const n={x:0,y:0};return[n.x,n.y]=s(t.x,t.y,u),null!=t.z&&(n.z=t.z),null!=t.m&&(n.m=t.m),n}if(\"xmin\"in t){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=s(t.xmin,t.ymin,u),[n.xmax,n.ymax]=s(t.xmax,t.ymax,u),t.hasZ&&(n.zmin=t.zmin,n.zmax=t.zmax,n.hasZ=!0),t.hasM&&(n.mmin=t.mmin,n.mmax=t.mmax,n.hasM=!0),n}return\"rings\"in t?{rings:p(t.rings,s),hasM:t.hasM,hasZ:t.hasZ}:\"paths\"in t?{paths:p(t.paths,s),hasM:t.hasM,hasZ:t.hasZ}:\"points\"in t?{points:l(t.points,s),hasM:t.hasM,hasZ:t.hasZ}:void 0}function p(s,t){const n=[];for(const e of s)n.push(l(e,t));return n}function l(s,t){const n=[];for(const e of s){const s=t(e[0],e[1],[0,0]);n.push(s),e.length>2&&s.push(e[2]),e.length>3&&s.push(e[3])}return n}async function f(s,t){if(!t)return;const n=Array.isArray(s)?s.map((s=>{var t;return null==(t=s.geometry)?void 0:t.spatialReference})):[s];await Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__[/* initializeProjection */ \"b\"])(n.map((s=>({source:s,dest:t}))))}const x=c.bind(null,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* lngLatToXY */ \"c\"]),y=c.bind(null,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* xyToLngLat */ \"f\"]);function g(s,r,i){return s?(i||(i=r,r=s.spatialReference),Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* isValid */ \"i\"])(r)&&Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* isValid */ \"i\"])(i)&&!Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* equals */ \"c\"])(r,i)?Object(_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* canProject */ \"a\"])(r,i)?Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* isWebMercator */ \"m\"])(i)?x(s):y(s):Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__[/* projectMany */ \"h\"])(_geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_4__[/* jsonAdapter */ \"a\"],[s],r,i,null)[0]:s):s}const _=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,r){!t||!t.length||!e||!r||Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* equals */ \"c\"])(e,r);const i={geometries:t,inSpatialReference:e,outSpatialReference:r,resolve:null};return this._jobs.push(i),Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__[/* create */ \"c\"])((s=>{i.resolve=s,null===this._timer&&(this._timer=setTimeout(this._process,10))}))}_process(){this._timer=null;const s=this._jobs.shift();if(!s)return;const{geometries:t,inSpatialReference:n,outSpatialReference:r,resolve:i}=s;Object(_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__[/* canProject */ \"a\"])(n,r)?Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__[/* isWebMercator */ \"m\"])(r)?i(t.map(x)):i(t.map(y)):i(Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__[/* projectMany */ \"h\"])(_geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_4__[/* jsonAdapter */ \"a\"],t,n,r,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};async function j(s,t,n){return _.push(s,t,n)}\n\n\n/***/ }),\n\n/***/ \"RjdO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return r; });\n/* harmony import */ var _commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"X2wA\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar r=Object(_commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__[/* c */ \"b\"])((function(o){var r;void 0!==(r=function(){function o(o,t,a,f,i){r(o,t,a||0,f||o.length-1,i||n)}function r(o,n,a,f,i){for(;f>a;){if(f-a>600){var c=f-a+1,e=n-a+1,h=Math.log(c),u=.5*Math.exp(2*h/3),s=.5*Math.sqrt(h*u*(c-u)/c)*(e-c/2<0?-1:1);r(o,n,Math.max(a,Math.floor(n-e*u/c+s)),Math.min(f,Math.floor(n+(c-e)*u/c+s)),i)}var M=o[n],m=a,v=f;for(t(o,a,n),i(o[f],M)>0&&t(o,a,f);m<v;){for(t(o,m,v),m++,v--;i(o[m],M)<0;)m++;for(;i(o[v],M)>0;)v--}0===i(o[a],M)?t(o,a,v):t(o,++v,f),v<=n&&(a=v+1),n<=v&&(f=v-1)}}function t(o,r,t){var n=o[r];o[r]=o[t],o[t]=n}function n(o,r){return o<r?-1:o>r?1:0}return o}())&&(o.exports=r)}));\n\n\n/***/ }),\n\n/***/ \"kB+0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return i; });\n/* harmony import */ var _quickselect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"RjdO\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&(\"function\"==typeof n?this.toBBox=n:this._initFormat(n)),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var h=0;h<i.length;h++)if(n(t,i[h]))return h;return-1}function h(t,i){a(t,0,t.children.length,i,t)}function a(t,i,n,h,a){a||(a=u(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var e,o=i;o<n;o++)e=t.children[o],r(a,t.leaf?h(e):e);return a}function r(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function e(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function u(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(i,n,h,a,r){for(var e,o=[n,h];o.length;)(h=o.pop())-(n=o.pop())<=a||(e=n+Math.ceil((h-n)/a/2)*a,Object(_quickselect_js__WEBPACK_IMPORTED_MODULE_0__[/* q */ \"a\"])(i,e,n,h,r),o.push(n,e,e,h))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!c(t,i))return n;for(var a,r,e,o,s=[];i;){for(a=0,r=i.children.length;a<r;a++)e=i.children[a],c(t,o=i.leaf?h(e):e)&&(i.leaf?n.push(e):m(t,o)?this._all(e,n):s.push(e));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!c(t,i))return!1;for(var h,a,r,e,o=[];i;){for(h=0,a=i.children.length;h<a;h++)if(r=i.children[h],c(t,e=i.leaf?n(r):r)){if(i.leaf||m(t,e))return!0;o.push(r)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var a=this.data;this.data=h,h=a}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=u([]),this},remove:function(t,i){if(!t)return this;for(var h,a,r,e,o=this.data,s=this.toBBox(t),l=[],c=[];o||l.length;){if(o||(o=l.pop(),a=l[l.length-1],h=c.pop(),e=!0),o.leaf&&-1!==(r=n(t,o.children,i)))return o.children.splice(r,1),l.push(o),this._condense(l),this;e||o.leaf||!m(o,s)?a?(h++,o=a.children[h],e=!1):o=null:(l.push(o),c.push(h),h=0,a=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:e,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,a){var r,e=n-i+1,o=this._maxEntries;if(e<=o)return h(r=u(t.slice(i,n+1)),this.toBBox),r;a||(a=Math.ceil(Math.log(e)/Math.log(o)),o=Math.ceil(e/Math.pow(o,a-1))),(r=u([])).leaf=!1,r.height=a;var s,l,m,c,x=Math.ceil(e/o),d=x*Math.ceil(Math.sqrt(o));for(f(t,i,n,d,this.compareMinX),s=i;s<=n;s+=d)for(f(t,s,m=Math.min(s+d-1,n),x,this.compareMinY),l=s;l<=m;l+=x)c=Math.min(l+x-1,m),r.children.push(this._build(t,l,c,a-1));return h(r,this.toBBox),r},_chooseSubtree:function(t,i,n,h){for(var a,r,e,o,l,m,c,u,f,x;h.push(i),!i.leaf&&h.length-1!==n;){for(c=u=1/0,a=0,r=i.children.length;a<r;a++)l=s(e=i.children[a]),f=t,x=e,(m=(Math.max(x.maxX,f.maxX)-Math.min(x.minX,f.minX))*(Math.max(x.maxY,f.maxY)-Math.min(x.minY,f.minY))-l)<u?(u=m,c=l<c?l:c,o=e):m===u&&l<c&&(c=l,o=e);i=o||i.children[0]}return i},_insert:function(t,i,n){var h=this.toBBox,a=n?t:h(t),e=[],o=this._chooseSubtree(a,this.data,i,e);for(o.children.push(t),r(o,a);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(a,e,i)},_split:function(t,i){var n=t[i],a=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,a);var e=this._chooseSplitIndex(n,r,a),o=u(n.children.splice(e,n.children.length-e));o.height=n.height,o.leaf=n.leaf,h(n,this.toBBox),h(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=u([t,i]),this.data.height=t.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var h,r,e,o,l,m,c,u,f,x,d,p,M,X;for(m=c=1/0,h=i;h<=n-i;h++)r=a(t,0,h,this.toBBox),e=a(t,h,n,this.toBBox),f=r,x=e,d=void 0,p=void 0,M=void 0,X=void 0,d=Math.max(f.minX,x.minX),p=Math.max(f.minY,x.minY),M=Math.min(f.maxX,x.maxX),X=Math.min(f.maxY,x.maxY),o=Math.max(0,M-d)*Math.max(0,X-p),l=s(r)+s(e),o<m?(m=o,u=h,c=l<c?l:c):o===m&&l<c&&(c=l,u=h);return u},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:e,a=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,h)<this._allDistMargin(t,i,n,a)&&t.children.sort(h)},_allDistMargin:function(t,i,n,h){t.children.sort(h);var e,o,s=this.toBBox,m=a(t,0,i,s),c=a(t,n-i,n,s),u=l(m)+l(c);for(e=i;e<n-i;e++)o=t.children[e],r(m,t.leaf?s(o):o),u+=l(m);for(e=n-i-1;e>=i;e--)o=t.children[e],r(c,t.leaf?s(o):o),u+=l(c);return u},_adjustParentBBoxes:function(t,i,n){for(var h=n;h>=0;h--)r(i[h],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():h(t[n],this.toBBox)},_initFormat:function(t){var i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}};\n\n\n/***/ })\n\n}]);","inputSourceMap":null}