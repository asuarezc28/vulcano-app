{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{\"5Q/x\":function(e,a,r){\"use strict\";r.r(a),r.d(a,\"populateOperationalLayers\",function(){return u}),r(\"wSAH\");var t=r(\"9MzC\"),y=r(\"LE9a\"),i=r(\"p+Gi\"),n=r(\"YOx9\"),L=r(\"oLSx\"),c=r(\"Dfpg\");async function o(e,a,r,t){if(!e.layerType||\"ArcGISFeatureLayer\"!==e.layerType)return!1;if(e.url)return!1;if(e.featureCollectionType&&e.featureCollectionType===r)return!0;if(e.itemId){const r=new i.default({id:e.itemId,portal:a});return await r.load(),\"Feature Collection\"===r.type&&Object(c.a)(r,t)}return!1}var l=r(\"XJLX\");async function u(e,a,r){if(!a)return;const y=[];for(const t of a){const e=f(t,r);y.push(\"GroupLayer\"===t.layerType?G(e,t,r):e)}const i=await Object(t.j)(y);for(const t of i)!t.value||r.filter&&!r.filter(t.value)||e.add(t.value)}const p={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\"},s={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},S={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",DefaultTileLayer:\"TileLayer\"},d={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",VectorTileLayer:\"VectorTileLayer\",GroupLayer:\"GroupLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",GeoRSS:\"GeoRSSLayer\",KML:\"KMLLayer\",WFS:\"UnsupportedLayer\",SubtypeGroupLayer:\"UnsupportedLayer\",WMS:\"WMSLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",DefaultTileLayer:\"TileLayer\"},I={ArcGISFeatureLayer:\"FeatureLayer\"},T={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"};async function f(e,a){return async function(e,a,r){const t=new e;return t.read(a,r.context),\"group\"===t.type&&g(a)&&await async function(e,a,r){const t=L.a.FeatureLayer,y=await t(),i=a.featureCollection,n=i.showLegend,c=i.layers.map(e=>{const a=new y;return a.read(e,r),null!=n&&a.read({showLegend:n},r),a});e.layers.addMany(c)}(t,a,r.context),await Object(n.a)(t,r.context),t}(await async function(e,a){const r=a.context,t=function(e){let a;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":a=S;break;case\"ground\":a=s;break;default:a=p}break;default:switch(e.layerContainerType){case\"basemap\":a=T;break;case\"tables\":a=I;break;default:a=d}}return a}(r);let y=e.layerType||e.type;!y&&a&&a.defaultLayerType&&(y=a.defaultLayerType);const n=t[y];let c=n?L.a[n]:L.a.UnknownLayer;const u=r&&r.portal;if(M(e)){if(e.itemId){const a=new i.default({id:e.itemId,portal:u});await a.load();const r=(await Object(l.selectLayerClassPath)(a)).className||\"UnknownLayer\";c=L.a[r]}}else\"ArcGISFeatureLayer\"===y&&(await function(e,a){return o(e,a,\"notes\",\"Map Notes\")}(e,u)?c=L.a.MapNotesLayer:await function(e,a){return o(e,a,\"route\",\"Route Layer\")}(e,u)?c=L.a.RouteLayer:g(e)&&(c=L.a.GroupLayer));return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(c=L.a.WMTSLayer),c()}(e,a),e,a)}function g(e){if(\"ArcGISFeatureLayer\"!==e.layerType||M(e))return!1;const a=e.featureCollection;return!!(a&&a.layers&&a.layers.length>1)}function M(e){return\"Feature Collection\"===e.type}async function G(e,a,r){const t=new y.a,i=u(t,Array.isArray(a.layers)?a.layers:[],r),n=await e;if(await i,\"group\"===n.type)return n.layers.addMany(t),n}}}]);","name":"33.7c7b8ee11308ff45d62d.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[33],{\n\n/***/ \"5Q/x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"populateOperationalLayers\", function() { return /* binding */ layersCreator_n; });\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(\"wSAH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(\"9MzC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Collection.js\nvar Collection = __webpack_require__(\"LE9a\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/PortalItem.js + 2 modules\nvar PortalItem = __webpack_require__(\"p+Gi\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/styleUtils.js\nvar styleUtils = __webpack_require__(\"YOx9\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js\nvar lazyLayerLoader = __webpack_require__(\"oLSx\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/support/portalItemUtils.js\nvar portalItemUtils = __webpack_require__(\"Dfpg\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/portal/support/featureCollectionUtils.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction featureCollectionUtils_r(e,t){return featureCollectionUtils_n(e,t,\"notes\",\"Map Notes\")}function featureCollectionUtils_o(e,t){return featureCollectionUtils_n(e,t,\"route\",\"Route Layer\")}async function featureCollectionUtils_n(r,o,n,i){if(!r.layerType||\"ArcGISFeatureLayer\"!==r.layerType)return!1;if(r.url)return!1;if(r.featureCollectionType&&r.featureCollectionType===n)return!0;if(r.itemId){const n=new PortalItem[\"default\"]({id:r.itemId,portal:o});return await n.load(),\"Feature Collection\"===n.type&&Object(portalItemUtils[\"a\" /* hasTypeKeyword */])(n,i)}return!1}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/support/portalLayers.js\nvar portalLayers = __webpack_require__(\"XJLX\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/layersCreator.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nasync function layersCreator_n(r,a,t){if(!a)return;const y=[];for(const e of a){const r=layersCreator_I(e,t);\"GroupLayer\"===e.layerType?y.push(layersCreator_m(r,e,t)):y.push(r)}const i=await Object(promiseUtils[\"j\" /* eachAlways */])(y);for(const e of i)!e.value||t.filter&&!t.filter(e.value)||r.add(e.value)}const l={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\"},c={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},s={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",DefaultTileLayer:\"TileLayer\"},p={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",VectorTileLayer:\"VectorTileLayer\",GroupLayer:\"GroupLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",GeoRSS:\"GeoRSSLayer\",KML:\"KMLLayer\",WFS:\"UnsupportedLayer\",SubtypeGroupLayer:\"UnsupportedLayer\",WMS:\"WMSLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",DefaultTileLayer:\"TileLayer\"},S={ArcGISFeatureLayer:\"FeatureLayer\"},u={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"};async function layersCreator_I(e,r){return async function(e,r,a){const i=new e;i.read(r,a.context),\"group\"===i.type&&d(r)&&await async function(e,r,a){const t=lazyLayerLoader[\"a\" /* layerLookupMap */].FeatureLayer,i=await t(),L=r.featureCollection,o=L.showLegend,n=L.layers.map((e=>{const r=new i;return r.read(e,a),null!=o&&r.read({showLegend:o},a),r}));e.layers.addMany(n)}(i,r,a.context);return await Object(styleUtils[\"a\" /* loadStyleRenderer */])(i,a.context),i}(await async function(e,r){const t=r.context,n=function(e){let r;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":r=s;break;case\"ground\":r=c;break;default:r=l}break;default:switch(e.layerContainerType){case\"basemap\":r=u;break;case\"tables\":r=S;break;default:r=p}}return r}(t);let I=e.layerType||e.type;!I&&r&&r.defaultLayerType&&(I=r.defaultLayerType);const m=n[I];let g=m?lazyLayerLoader[\"a\" /* layerLookupMap */][m]:lazyLayerLoader[\"a\" /* layerLookupMap */].UnknownLayer;const f=t&&t.portal;if(T(e)){if(e.itemId){const r=new PortalItem[\"default\"]({id:e.itemId,portal:f});await r.load();const t=(await Object(portalLayers[\"selectLayerClassPath\"])(r)).className||\"UnknownLayer\";g=lazyLayerLoader[\"a\" /* layerLookupMap */][t]}}else\"ArcGISFeatureLayer\"===I&&(await featureCollectionUtils_r(e,f)?g=lazyLayerLoader[\"a\" /* layerLookupMap */].MapNotesLayer:await featureCollectionUtils_o(e,f)?g=lazyLayerLoader[\"a\" /* layerLookupMap */].RouteLayer:d(e)&&(g=lazyLayerLoader[\"a\" /* layerLookupMap */].GroupLayer));e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(g=lazyLayerLoader[\"a\" /* layerLookupMap */].WMTSLayer);return g()}(e,r),e,r)}function d(e){if(\"ArcGISFeatureLayer\"!==e.layerType||T(e))return!1;const r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function T(e){return\"Feature Collection\"===e.type}async function layersCreator_m(e,a,t){const y=new Collection[\"a\" /* default */],i=layersCreator_n(y,Array.isArray(a.layers)?a.layers:[],t),L=await e;if(await i,\"group\"===L.type)return L.layers.addMany(y),L}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}