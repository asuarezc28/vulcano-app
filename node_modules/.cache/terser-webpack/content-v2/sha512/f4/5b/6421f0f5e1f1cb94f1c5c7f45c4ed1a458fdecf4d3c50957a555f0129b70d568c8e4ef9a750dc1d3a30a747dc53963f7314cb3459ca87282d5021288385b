{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13,120,121],{\"1/KW\":function(e,t,i){\"use strict\";var s=i(\"rvq7\");t.a=class{constructor(e,t){this._storage=new s.c,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc(\"\",t)}put(e,t){this._storage.put(e,t,1,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}}},\"1Rg/\":function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return w}),i.d(t,\"b\",function(){return A}),i.d(t,\"c\",function(){return V}),i.d(t,\"d\",function(){return M}),i.d(t,\"e\",function(){return D}),i.d(t,\"f\",function(){return F}),i.d(t,\"g\",function(){return P}),i.d(t,\"h\",function(){return Q}),i.d(t,\"i\",function(){return R});var s=i(\"srIe\"),r=i(\"+opI\"),n=i(\"zlDU\"),a=i(\"9MzC\"),u=i(\"f4Nx\"),o=i(\"IXLn\"),c=i(\"PNY3\"),l=i(\"+NQI\"),h=i(\"qatw\"),f=i(\"gEht\"),d=i(\"qNUd\"),p=i(\"gVKr\"),m=i(\"ZlUD\"),y=(i(\"2X7Z\"),i(\"HsO1\"));function g(e,t){return e?t?4:3:t?3:2}function b(e,t,i,s,r){if(!e)return!1;const n=g(t,i),{coords:a,lengths:u}=e;let o=!1,c=0;for(const l of u)o=_(o,a,n,c,l,s,r),c+=l*n;return o}function _(e,t,i,s,r,n,a){let u=e,o=s;for(let c=s,l=s+r*i;c<l;c+=i){o=c+i,o===l&&(o=s);const e=t[c],r=t[c+1],h=t[o],f=t[o+1];(r<a&&f>=a||f<a&&r>=a)&&e+(a-r)/(f-r)*(h-e)<n&&(u=!u)}return u}const x=new r.a({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),w=Object.freeze({}),I=new p.a,S=new p.a,O=new p.a,j={esriGeometryPoint:m.m,esriGeometryPolyline:m.o,esriGeometryPolygon:m.n,esriGeometryMultipoint:m.l};function R(e,t,i,s=e.hasZ,r=e.hasM){const n=e.hasZ&&s,a=e.hasM&&r;if(i){const u=Object(m.u)(O,t,e.hasZ,e.hasM,\"esriGeometryPoint\",i,s,r);return Object(m.m)(u,n,a)}return Object(m.m)(t,n,a)}function F(e,t,i,s,r,n,a=t,u=i){const o=t&&a,c=i&&u,l=s?\"coords\"in s?s:s.geometry:null;if(!l)return null;if(r){let s=Object(m.q)(S,l,t,i,e,r,a,u);return n&&(s=Object(m.u)(O,s,o,c,e,n)),j[e](s,o,c)}if(n){const s=Object(m.u)(O,l,t,i,e,n,a,u);return j[e](s,o,c)}return Object(m.x)(I,l,t,i,a,u),j[e](I,o,c)}async function A(e,t,i){const{outFields:s,orderByFields:r,groupByFieldsForStatistics:n,outStatistics:a}=e;if(s)for(let u=0;u<s.length;u++)s[u]=s[u].trim();if(r)for(let u=0;u<r.length;u++)r[u]=r[u].trim();if(n)for(let u=0;u<n.length;u++)n[u]=n[u].trim();if(a)for(let u=0;u<a.length;u++)a[u].onStatisticField&&(a[u].onStatisticField=a[u].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),Q(e,t,i)}async function Q(e,t,i){if(!e)return null;let{where:r}=e;if(e.where=r=r&&r.trim(),(!r||/^1 *= *1$/.test(r)||t&&t===r)&&(e.where=null),!e.geometry)return e;let n=await async function(e){const{geometry:t,distance:i,units:s}=e;if(null==i||\"vertexAttributes\"in t)return t;const r=t.spatialReference,n=s?x.fromJSON(s):Object(f.e)(r),a=r&&(Object(u.f)(r)||Object(u.m)(r))?t:await Object(y.a)(r,u.a).then(()=>Object(y.b)(t,u.a));return(await q().then(e=>e.geodesicBuffer))(a.spatialReference,a,i,n)}(e);if(e.distance=0,e.units=null,\"esriSpatialRelEnvelopeIntersects\"===e.spatialRel){const{spatialReference:t}=e.geometry;n=Object(l.a)(n),n.spatialReference=t}e.geometry=n,await Object(y.a)(n.spatialReference,i);const a=(await Object(d.a)(Object(h.a)(n)))[0];if(Object(s.g)(a))throw w;const o=a.toJSON(),c=await Object(y.b)(o,o.spatialReference,i);if(!c)throw w;return c.spatialReference=i,e.geometry=c,e}function M(e){return e&&T in e?JSON.parse(JSON.stringify(e,N)):e}const T=\"_geVersion\",N=(e,t)=>e!==T?t:void 0,v={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},C={esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},E={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},G={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};function q(){return Promise.all([i.e(12),i.e(0),i.e(28)]).then(i.bind(null,\"AKzY\"))}function P(e,t,i,s,r){if(Object(h.g)(t)&&\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=Object(m.g)(new p.a,t,!1,!1);return Object(a.u)(t=>function(e,t,i,s){return b(e,!1,!1,s.coords[0],s.coords[1])}(e,0,0,t))}if(Object(h.g)(t)&&\"esriGeometryMultipoint\"===i){const i=Object(m.g)(new p.a,t,!1,!1);if(\"esriSpatialRelContains\"===e)return Object(a.u)(e=>function(e,t,i,s,r,n){const a=g(r,n),{coords:u,lengths:o}=s;if(!o)return!1;for(let c=0,l=0;c<o.length;c++,l+=a)if(!b(e,!1,!1,u[l],u[l+1]))return!1;return!0}(i,0,0,e,s,r))}if(Object(h.d)(t)&&\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Object(a.u)(e=>Object(o.e)(t,F(i,s,r,e)));if(Object(h.d)(t)&&\"esriGeometryMultipoint\"===i&&\"esriSpatialRelContains\"===e)return Object(a.u)(e=>Object(o.d)(t,F(i,s,r,e)));if(Object(h.d)(t)&&\"esriSpatialRelIntersects\"===e){const e=Object(c.b)(i);return Object(a.u)(n=>e(t,F(i,s,r,n)))}return q().then(n=>{const a=n[v[e]].bind(null,t.spatialReference,t);return e=>a(F(i,s,r,e))})}async function D(e,t,i){const{spatialRel:s,geometry:r}=e;if(r){if(!0!==C[s])throw new n.a(\"feature-store:unsupported-query\",\"Unsupported query spatial relationship\",{query:e});if(Object(u.i)(r.spatialReference)&&Object(u.i)(i)){if(!function(e){return!0===E[Object(h.c)(e)]}(r))throw new n.a(\"feature-store:unsupported-query\",\"Unsupported query geometry type\",{query:e});if(!function(e){return!0===G[e]}(t))throw new n.a(\"feature-store:unsupported-query\",\"Unsupported layer geometry type\",{query:e});if(e.outSR)return Object(y.a)(e.geometry&&e.geometry.spatialReference,e.outSR)}}}function V(e){if(Object(h.d)(e))return!0;if(Object(h.g)(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}},QmHG:function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return g}),i.d(t,\"b\",function(){return r}),i.d(t,\"c\",function(){return d}),i.d(t,\"d\",function(){return y}),i.d(t,\"e\",function(){return a}),i.d(t,\"f\",function(){return o}),i.d(t,\"g\",function(){return u}),i.d(t,\"h\",function(){return p}),i.d(t,\"i\",function(){return n}),i.d(t,\"j\",function(){return f}),i.d(t,\"k\",function(){return h}),i.d(t,\"l\",function(){return l}),i.d(t,\"m\",function(){return c});var s=i(\"srIe\");function r(e=b){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function n(e,t,i,s,n,a,u=r()){return u[0]=e,u[1]=t,u[2]=i,u[3]=s,u[4]=n,u[5]=a,u}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function u(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function o(e,t,i){const s=t.length;let r=e[0],n=e[1],a=e[2],u=e[3],o=e[4],c=e[5];if(i)for(let l=0;l<s;l++){const e=t[l];r=Math.min(r,e[0]),n=Math.min(n,e[1]),a=Math.min(a,e[2]),u=Math.max(u,e[0]),o=Math.max(o,e[1]),c=Math.max(c,e[2])}else for(let l=0;l<s;l++){const e=t[l];r=Math.min(r,e[0]),n=Math.min(n,e[1]),u=Math.max(u,e[0]),o=Math.max(o,e[1])}e[0]=r,e[1]=n,e[2]=a,e[3]=u,e[4]=o,e[5]=c}function c(e,t=[0,0,0]){return t[0]=function(e){return e[0]>=e[3]?0:e[3]-e[0]}(e),t[1]=function(e){return e[1]>=e[4]?0:e[4]-e[1]}(e),t[2]=function(e){return e[2]>=e[5]?0:e[5]-e[2]}(e),t}function l(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function h(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function d(e){return e?f(e,g):r(g)}function p(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function m(e){return 6===e.length}function y(e,t,i){if(Object(s.g)(e)||Object(s.g)(t))return e===t;if(!m(e)||!m(t))return!1;if(i){for(let s=0;s<e.length;s++)if(!i(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}i(\"OvF4\"),i(\"kYAx\");const g=[1/0,1/0,1/0,-1/0,-1/0,-1/0],b=[0,0,0,0,0,0];r()},X2wA:function(e,t,i){\"use strict\";function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function r(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return n()}},i.exports),i.exports}function n(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}i.d(t,\"a\",function(){return n}),i.d(t,\"b\",function(){return r}),i.d(t,\"c\",function(){return s}),\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self},ZBG3:function(e,t,i){\"use strict\";var s=i(\"f/qv\"),r=i(\"srIe\"),n=i(\"zlDU\"),a=i(\"9MzC\"),u=i(\"f4Nx\"),o=i(\"KLE9\"),c=i(\"qatw\"),l=i(\"gEht\"),h=i(\"kYAx\"),f=i(\"rvq7\"),d=i(\"MG+P\"),p=i(\"gLc9\"),m=i(\"qUyK\"),y=i(\"QmHG\"),g=i(\"HsO1\"),b=i(\"1/KW\"),_=i(\"ZqIb\");const x=new class{constructor(e,t){this._cache=new b.a(e),this._invalidCache=new b.a(t)}get(e,t){const i=`${t.uid}:${e}`,s=this._cache.get(i);if(s)return s;if(void 0!==this._invalidCache.get(i))return null;try{const s=_.WhereClause.create(e,t);return this._cache.put(i,s),s}catch{return this._invalidCache.put(i,null),null}}}(50,500),w=\"feature-store:unsupported-query\",I=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function S(e,t){return e?x.get(e,t):null}function O(e,t,i,s=!0){const r=[];for(const u of t)if(\"*\"!==u&&!e.has(u))if(s){const t=j(u);try{const i=S(t,e);if(!i)throw new n.a(w,\"invalid SQL expression\",{where:t});if(!i.isStandardized)throw new n.a(w,\"expression is not standard\",{clause:i});O(e,i.fieldNames,\"expression contains missing fields\")}catch(a){const e=a&&a.details;if(e&&(e.clause||e.where))throw a;e&&e.missingFields?r.push(...e.missingFields):r.push(u)}}else r.push(u);if(r.length)throw new n.a(w,i,{missingFields:r})}function j(e){return e.split(\" as \")[0]}function R(e,t){const i=t.get(e);return!!i&&!I.has(i.type)}var F=i(\"1Rg/\"),A=i(\"q7ja\"),Q=i(\"ZlUD\"),M=i(\"AIxD\"),T=class{constructor(e,t,i){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=e.returnDistinctValues,this.fieldsIndex=i,this.featureAdapter=t;const s=e.outFields;if(s&&-1===s.indexOf(\"*\")){this.outFields=s;let e=0;for(const t of s){const s=j(t),r=this.fieldsIndex.get(s),n=r?null:S(s,i),a=r?r.name:t.split(\" as \")[1]||\"FIELD_EXP_\"+e++;this._fieldDataCache.set(t,{alias:a,clause:n})}}}countDistinctValues(e){return this.returnDistinctValues?(e.forEach(e=>this.getAttributes(e)),this._returnDistinctMap.size):e.length}getAttributes(e){const t=this._processAttributesForOutFields(e);return this._processAttributesForDistinctValues(t)}getFieldValue(e,t,i){const s=i?i.name:t;let r=null;return this._fieldDataCache.has(s)?r=this._fieldDataCache.get(s).clause:i||(r=S(t,this.fieldsIndex),this._fieldDataCache.set(s,{alias:s,clause:r})),i?this.featureAdapter.getAttribute(e,s):r.calculateValue(e,this.featureAdapter)}validateItem(e,t){return this._fieldDataCache.has(t)||this._fieldDataCache.set(t,{alias:t,clause:S(t,this.fieldsIndex)}),this._fieldDataCache.get(t).clause.testFeature(e,this.featureAdapter)}validateItems(e,t){return this._fieldDataCache.has(t)||this._fieldDataCache.set(t,{alias:t,clause:S(t,this.fieldsIndex)}),this._fieldDataCache.get(t).clause.testSet(e,this.featureAdapter)}_processAttributesForOutFields(e){const t=this.outFields;if(!t||!t.length)return this.featureAdapter.getAttributes(e);const i={};for(const s of t){const{alias:t,clause:r}=this._fieldDataCache.get(s);i[t]=r?r.calculateValue(e,this.featureAdapter):this.featureAdapter.getAttribute(e,t)}return i}_processAttributesForDistinctValues(e){if(Object(r.g)(e)||!this.returnDistinctValues)return e;const t=this.outFields,i=[];if(t)for(const r of t){const{alias:t}=this._fieldDataCache.get(r);i.push(e[t])}else for(const r in e)i.push(e[r]);const s=`${(t||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let n=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++n),n>1?null:e}};function N(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function v(e,t,i){return(i?e>t:e<t)?-1:(i?e<t:e>t)?1:0}function C(e,t,i){return i?t-e:e-t}function E(e,t,i,s){if(i&&\"esriFieldTypeDate\"===i.type){const i=new Date(e).getTime(),r=new Date(t).getTime();if(!isNaN(i)&&!isNaN(r))return C(i,r,s)}if(\"number\"==typeof e&&\"number\"==typeof t)return C(e,t,s);if(\"string\"==typeof e&&\"string\"==typeof t){const r=e.toUpperCase(),n=t.toUpperCase();return!i||\"esriFieldTypeGUID\"!==i.type&&\"esriFieldTypeGlobalID\"!==i.type?v(r,n,s):v(N(r),N(n),s)}return s?1:-1}class G{constructor(e,t,i){this.items=e,this.queryGeometry=t,this.definitionExpression=i.definitionExpression,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.fieldsIndex=i.fieldsIndex,this.timeInfo=i.timeInfo,this.featureAdapter=i.featureAdapter,this.aggregateAdapter=i.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(e){const t=new T(e,this.featureAdapter,this.fieldsIndex);if(!e.outStatistics)return t.countDistinctValues(this.items);const{groupByFieldsForStatistics:i,having:s}=e;if(!(null==i?void 0:i.length))return 1;const r=new Map,n=new Map,a=new Set,u=e.outStatistics;for(const o of u){const{statisticType:e}=o,u=\"exceedslimit\"!==e?o.onStatisticField:void 0;if(!n.has(u)){const e=[];for(const s of i){const i=this._getAttributeValues(t,s,r);e.push(i)}n.set(u,this._calculateUniqueValues(e))}const c=n.get(u);for(const i in c){const{data:e,items:r}=c[i],n=e.join(\",\");s&&!t.validateItems(r,s)||a.add(n)}}return a.size}createQueryResponse(e){let t;return t=e.outStatistics?e.outStatistics.some(e=>\"exceedslimit\"===e.statisticType)?this._createExceedsLimitQueryResponse(e):this._createStatisticsQueryResponse(e):this._createFeatureQueryResponse(e),e.returnQueryGeometry&&(t.queryGeometry=Object(u.i)(e.outSR)&&!Object(u.c)(this.queryGeometry.spatialReference,e.outSR)?Object(F.d)({spatialReference:e.outSR,...Object(g.b)(this.queryGeometry,this.queryGeometry.spatialReference,e.outSR)}):Object(F.d)({spatialReference:e.outSR,...this.queryGeometry})),t}executeAttributesQuery(e){const t=S(e.where,this.fieldsIndex);if(!t)return Object(a.u)(this);if(t.isStandardized){let i=0;const s=[];for(const e of this.items)t.testFeature(e,this.featureAdapter)&&(s[i++]=e);const r=new G(s,this.queryGeometry,this);return r.definitionExpression=e.where,Object(a.u)(r)}return Object(a.t)(new TypeError(\"Where clause is not standardized\"))}executeAggregateIdsQuery(e){if(!e.aggregateIds||!e.aggregateIds.length||Object(r.g)(this.aggregateAdapter))return Object(a.u)(this);const t=new Set;for(const s of e.aggregateIds)this.aggregateAdapter.getFeatureObjectIds(s).forEach(e=>t.add(e));const i=this.featureAdapter.getObjectId;return Object(a.u)(new G(this.items.filter(e=>t.has(i(e))),this.queryGeometry,this))}executeObjectIdsQuery(e){if(!e.objectIds||!e.objectIds.length)return Object(a.u)(this);const t=new Set(e.objectIds),i=this.featureAdapter.getObjectId;return Object(a.u)(new G(this.items.filter(e=>t.has(i(e))),this.queryGeometry,this))}executeTimeQuery(e){const t=Object(A.b)(this.timeInfo,e.timeExtent,this.featureAdapter);if(!Object(r.h)(t))return Object(a.u)(this);const i=this.items.filter(t);return Object(a.u)(new G(i,this.queryGeometry,this))}filterLatest(){const{trackIdField:e,startTimeField:t,endTimeField:i}=this.timeInfo,s=i||t,r=new Map,n=this.featureAdapter.getAttribute;for(const a of this.items){const t=n(a,e),i=n(a,s),u=r.get(t);(!u||i>n(u,s))&&r.set(t,a)}const u=Array.from(r.values());return Object(a.u)(new G(u,this.queryGeometry,this))}async project(e){if(!e||Object(u.c)(this.spatialReference,e))return this;const t=this.featureAdapter,i=(await Object(g.c)(this.items.map(e=>Object(F.f)(this.geometryType,this.hasZ,this.hasM,t.getGeometry(e))),this.spatialReference,e)).map((e,i)=>t.cloneWithGeometry(this.items[i],Object(Q.d)(e,this.hasZ,this.hasM)));return new G(i,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:e,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}_sortFeatures(e,t,i){if(e.length>1&&t&&t.length)for(const s of t.reverse()){const t=s.split(\" \"),r=t[0],n=this.fieldsIndex.get(r),a=t[1]&&\"desc\"===t[1].toLowerCase();e.sort((e,t)=>E(i(e,r,n),i(t,r,n),n,a))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:i,hasM:s,hasZ:r,objectIdField:n,spatialReference:a}=this,{outFields:u,outSR:o,quantizationParameters:c,resultRecordCount:l,resultOffset:h,returnZ:f,returnM:d}=e,p=null!=l&&t.length>(h||0)+l,m=u&&(u.indexOf(\"*\")>-1?[...this.fieldsIndex.fields]:u.map(e=>this.fieldsIndex.get(e)));return{exceededTransferLimit:p,features:this._createFeatures(e,t),fields:m,geometryType:i,hasM:s&&d,hasZ:r&&f,objectIdFieldName:n,spatialReference:Object(F.d)(o||a),transform:c&&Object(M.c)(c)||null}}_createFeatures(e,t){const i=new T(e,this.featureAdapter,this.fieldsIndex),{hasM:s,hasZ:r}=this,{orderByFields:n,quantizationParameters:a,returnGeometry:u,returnCentroid:o,maxAllowableOffset:c,resultOffset:l,resultRecordCount:h,returnZ:f=!1,returnM:d=!1}=e,p=r&&f,m=s&&d;let y=[],g=0;const b=[...t];if(this._sortFeatures(b,n,(e,t,s)=>i.getFieldValue(e,t,s)),u||o){const e=Object(M.c)(a);if(u&&!o)for(const t of b)y[g++]={attributes:i.getAttributes(t),geometry:Object(F.f)(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),c,e,p,m)};else if(!u&&o)for(const t of b)y[g++]={attributes:i.getAttributes(t),centroid:Object(F.i)(this,this.featureAdapter.getCentroid(t,this),e)};else for(const t of b)y[g++]={attributes:i.getAttributes(t),centroid:Object(F.i)(this,this.featureAdapter.getCentroid(t,this),e),geometry:Object(F.f)(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),c,e,p,m)}}else for(const x of b){const e=i.getAttributes(x);e&&(y[g++]={attributes:e})}const _=l||0;return null!=h&&(y=y.slice(_,Math.min(y.length,_+h))),y}_createExceedsLimitQueryResponse(e){let t=!1,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const n of e.outStatistics)if(\"exceedslimit\"===n.statisticType){i=null!=n.maxPointCount?n.maxPointCount:Number.POSITIVE_INFINITY,s=null!=n.maxRecordCount?n.maxRecordCount:Number.POSITIVE_INFINITY,r=null!=n.maxVertexCount?n.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)t=this.items.length>i;else if(this.items.length>s)t=!0;else{const e=this.hasZ?this.hasM?4:3:this.hasM?3:2,i=this.featureAdapter;t=this.items.reduce((e,t)=>{const s=i.getGeometry(t);return e+(s&&s.coords.length||0)},0)/e>r}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}}_createStatisticsQueryResponse(e){const t={attributes:{}},i=[],s=new Map,r=new Map,n=new Map,a=new Map,u=new T(e,this.featureAdapter,this.fieldsIndex),o=e.outStatistics,{groupByFieldsForStatistics:c,having:l,orderByFields:h}=e,f=c&&c.length,d=!!f,p=d&&c[0],m=d&&!this.fieldsIndex.get(p);for(const g of o){const{outStatisticFieldName:e,statisticType:o}=g,h=g,y=\"exceedslimit\"!==o?g.onStatisticField:void 0,b=\"percentile_disc\"===o||\"percentile_cont\"===o,_=d&&1===f&&(y===p||m)&&\"count\"===o;if(d){if(!n.has(y)){const e=[];for(const t of c){const i=this._getAttributeValues(u,t,s);e.push(i)}n.set(y,this._calculateUniqueValues(e))}const t=n.get(y);for(const i in t){const{count:r,data:n,items:o,itemPositions:f}=t[i],d=n.join(\",\");if(!l||u.validateItems(o,l)){const t=a.get(d)||{attributes:{}};let i=null;if(_)i=r;else{const e=this._getAttributeValues(u,y,s),t=f.map(t=>e[t]);i=b&&\"statisticParameters\"in h?this._getPercentileValue(h,t):this._getStatisticValue(h,t)}t.attributes[e]=i,c.forEach((e,i)=>t.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+(i+1)]=n[i]),a.set(d,t)}}}else{const i=this._getAttributeValues(u,y,s);t.attributes[e]=b&&\"statisticParameters\"in h?this._getPercentileValue(h,i):this._getStatisticValue(h,i,r)}i.push({name:e,alias:e,type:\"esriFieldTypeDouble\"})}const y=d?Array.from(a.values()):[t];return this._sortFeatures(y,h,(e,t)=>e.attributes[t]),{fields:i,features:y}}_getStatisticValue(e,t,i){const{onStatisticField:s,statisticType:r}=e,n=i&&i.has(s)?i.get(s):this._calculateStatistics(t);return i&&i.set(s,n),n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:r}=e,{value:n,orderBy:a}=s,u=\"desc\"===a,o=this.fieldsIndex.get(i),c=[...t].filter(e=>null!=e).sort((e,t)=>E(e,t,o,u));return this._calculatePercentile(c,n,\"percentile_disc\"===r)}_getAttributeValues(e,t,i){if(i.has(t))return i.get(t);const s=this.fieldsIndex.get(t),r=this.items.map(i=>e.getFieldValue(i,t,s));return i.set(t,r),r}_calculateStatistics(e){let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=null,r=null,n=null,a=null;const u=[];let o=0;for(const c of e)\"string\"==typeof c?o++:null==c||isNaN(c)||(s+=c,t=Math.min(t,c),i=Math.max(i,c),u.push(c),o++);if(o){r=s/o;let e=0;for(const t of u)e+=Math.pow(t-r,2);a=o>1?e/(o-1):0,n=Math.sqrt(a)}else t=null,i=null;return{avg:r,count:o,max:i,min:t,stddev:n,sum:s,variance:a}}_calculateUniqueValues(e){const t={},i=this.items,s=i.length;for(let r=0;r<s;r++){const s=i[r],n=[];for(const t of e)n.push(t[r]);const a=n.join(\",\");null==t[a]?t[a]={count:1,data:n,items:[s],itemPositions:[r]}:(t[a].count++,t[a].items.push(s),t[a].itemPositions.push(r))}return t}_calculatePercentile(e,t,i){if(0===e.length)return null;if(t<=0)return e[0];if(t>=1)return e[e.length-1];const s=(e.length-1)*t,r=Math.floor(s),n=r+1,a=s%1,u=e[r],o=e[n];return n>=e.length||i||\"string\"==typeof u||\"string\"==typeof o?u:u*(1-a)+o*a}}var q=G;const P=new Set,D=new f.c(2e6);let V=0;const z=Object(y.b)(),k=Object(y.b)();t.a=class{constructor(e){this.capabilities={query:m.a},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",()=>this.clearCache()),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new f.b(V+++\"$$\",D)),this.fieldsIndex=new p.a(e.fields),e.scheduler&&e.task&&(this._frameQueue=new d.a,this._frameTask=e.scheduler.registerTask(e.task,e=>this._update(e),()=>this._frameQueue.length>0))}destroy(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null),this.clearCache(),this._geometryQueryCache&&this._geometryQueryCache.destroy(),this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null),this.fieldsIndex.destroy()}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:Object(F.d)(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=Object(A.a)(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e={},t){let i,r=Object(s.a)(e);try{r=await this._schedule(()=>Object(F.b)(r,this.definitionExpression,this.spatialReference),t),r=await this._reschedule(()=>this._checkQuerySupport(r),t),i=await this._reschedule(()=>this._executeGeometryQuery(r,t),t),i=await this._reschedule(()=>i.executeAggregateIdsQuery(r),t),i=await this._reschedule(()=>i.executeObjectIdsQuery(r),t),i=await this._reschedule(()=>i.executeTimeQuery(r),t),i=await this._reschedule(()=>i.executeAttributesQuery(r),t)}catch(n){if(n!==F.a)throw n;i=new q([],null,this)}return i.createQueryResponse(r)}async executeQueryForCount(e={},t){let i,r=Object(s.a)(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule(()=>Object(F.b)(r,this.definitionExpression,this.spatialReference),t),r=await this._reschedule(()=>this._checkQuerySupport(r),t),i=await this._reschedule(()=>this._executeGeometryQuery(r,t),t),i=await this._reschedule(()=>i.executeAggregateIdsQuery(r),t),i=await this._reschedule(()=>i.executeObjectIdsQuery(r),t),i=await this._reschedule(()=>i.executeTimeQuery(r),t),i=await this._reschedule(()=>i.executeAttributesQuery(r),t)}catch(n){if(n!==F.a)throw n;return 0}return i.createQueryResponseForCount(r)}async executeQueryForExtent(e={},t){let i,r=Object(s.a)(e);const n=r.outSR;try{r=await this._schedule(()=>Object(F.b)(r,this.definitionExpression,this.spatialReference),t),r=await this._reschedule(()=>this._checkQuerySupport(r),t),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,i=await this._reschedule(()=>this._executeGeometryQuery(r,t),t),i=await this._reschedule(()=>i.executeAggregateIdsQuery(r),t),i=await this._reschedule(()=>i.executeObjectIdsQuery(r),t),i=await this._reschedule(()=>i.executeTimeQuery(r),t),i=await this._reschedule(()=>i.executeAttributesQuery(r),t);const e=i.size;if(!e)return{count:e,extent:null};Object(y.j)(k,y.a),this.featureStore.forEachBounds(i.items,e=>Object(y.e)(k,e),z);const s={xmin:k[0],ymin:k[1],xmax:k[3],ymax:k[4],spatialReference:Object(F.d)(this.spatialReference)};this.hasZ&&isFinite(k[2])&&isFinite(k[5])&&(s.zmin=k[2],s.zmax=k[5]);const a=Object(g.b)(s,i.spatialReference,n);if(a.spatialReference=Object(F.d)(n||this.spatialReference),a.xmax-a.xmin==0){const e=Object(l.c)(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin==0){const e=Object(l.c)(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0){const e=Object(l.c)(a.spatialReference);a.zmin-=e,a.zmax+=e}return{count:e,extent:a}}catch(a){if(a===F.a)return{count:0,extent:null};throw a}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then(e=>Array.from(e))}async executeQueryForIdSet(e={},t){let i,r=Object(s.a)(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule(()=>Object(F.b)(r,this.definitionExpression,this.spatialReference),t),r=await this._reschedule(()=>this._checkQuerySupport(r),t),i=await this._reschedule(()=>this._executeGeometryQuery(r,t),t),i=await this._reschedule(()=>i.executeAggregateIdsQuery(r),t),i=await this._reschedule(()=>i.executeObjectIdsQuery(r),t),i=await this._reschedule(()=>i.executeTimeQuery(r),t),i=await this._reschedule(()=>i.executeAttributesQuery(r),t);const e=i.items,s=new Set;return await this._reschedule(()=>{for(const t of e)s.add(i.featureAdapter.getObjectId(t))},t),s}catch(n){if(n===F.a)return new Set;throw n}}async executeQueryForLatestObservations(e={},t){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new n.a(\"feature-store:unsupported-query\",\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});let i,r=Object(s.a)(e);try{r=await this._schedule(()=>Object(F.b)(r,this.definitionExpression,this.spatialReference),t),r=await this._reschedule(()=>this._checkQuerySupport(r),t),i=await this._reschedule(()=>this._executeGeometryQuery(r,t),t),i=await this._reschedule(()=>i.executeAggregateIdsQuery(r),t),i=await this._reschedule(()=>i.executeObjectIdsQuery(r),t),i=await this._reschedule(()=>i.executeTimeQuery(r),t),i=await this._reschedule(()=>i.executeAttributesQuery(r),t),i=await this._reschedule(()=>i.filterLatest(),t)}catch(a){if(a!==F.a)throw a;i=new q([],null,this)}return i.createQueryResponse(r)}async _schedule(e,t){return this._frameQueue?this._frameQueue.push(e,t):e()}async _reschedule(e,t){return this._frameQueue?this._frameQueue.unshift(e,t):e()}_update(e){for(this._budget=e;!e.done&&this._frameQueue&&this._frameQueue.process();)e.madeProgress();this._budget=null}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach(t=>e.push(t)),this._allItems=new q(e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:i,outSR:s,spatialRel:n}=e,a=Object(u.i)(s)&&!Object(u.c)(this.spatialReference,s),o=this._geometryQueryCache?a?JSON.stringify({geometry:i,spatialRelationship:n,outSpatialReference:s}):JSON.stringify({geometry:i,spatialRelationship:n}):null;if(o){const e=this._geometryQueryCache.get(o);if(!Object(r.i)(e))return e}const c=async t=>{if(a&&(e.returnGeometry||e.returnCentroid)){const e=await t.project(s);return o&&this._geometryQueryCache.put(o,e,e.size||1),e}return o&&this._geometryQueryCache.put(o,t,t.size||1),t};if(!i)return c(this._getAll());const l=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===n){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return c(this._getAll());let s,r;const a=new Set;for(const t of e)a.add(l.getObjectId(t));return await this._reschedule(()=>{let e=0;s=new Array(a.size),this.featureStore.forEach(t=>s[e++]=t),r=a},t),c(await this._reschedule(async()=>{const e=await Object(F.g)(n,i,this.geometryType,this.hasZ,this.hasM);return new q(await this._runSpatialFilter(s,t=>!r.has(l.getObjectId(t))||e(l.getGeometry(t)),t),i,this)},t))}const h=this._searchFeatures(this._getQueryBBoxes(i));if(!h.length){const e=new q([],i,this);return o&&this._geometryQueryCache.put(o,e,e.size||1),e}if(this._canExecuteSoloPass(i,e))return c(new q(h,i,this));const f=await Object(F.g)(n,i,this.geometryType,this.hasZ,this.hasM),d=await this._runSpatialFilter(h,e=>f(l.getGeometry(e)),t);return c(new q(d,i,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if(!this._budget)return e.filter(e=>t(e));let s=0;const r=new Array,n=async()=>{for(;s<e.length;){const a=e[s];t(a)&&r.push(a),this._budget.done&&await this._reschedule(()=>n(),i),++s}};return this._reschedule(()=>n(),i).then(()=>r)}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return Object(F.c)(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s||\"esriSpatialRelWithin\"===s))}_getQueryBBoxes(e){if(Object(F.c)(e)){if(Object(c.d)(e))return[Object(h.i)(e.xmin,e.ymin,e.xmax,e.ymax)];if(Object(c.g)(e))return e.rings.map(e=>Object(h.i)(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1])))}return[Object(o.a)(Object(h.d)(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,e=>{P.add(e)});const t=new Array(P.size);let i=0;return P.forEach(e=>t[i++]=e),P.clear(),t}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new n.a(\"feature-store:unsupported-query\",\"Unsupported query options\",{query:e});return Object(a.b)([this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Object(F.e)(e,this.geometryType,this.spatialReference),Object(g.a)(this.spatialReference,e.outSR)]).then(()=>e)}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:i,returnDistinctValues:s,outStatistics:r}=e,a=r?r.map(e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase()):[];if(i&&i.length>0){const e=\" asc\",t=\" desc\",s=i.map(i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i}).filter(e=>-1===a.indexOf(e));O(this.fieldsIndex,s,\"orderByFields contains missing fields\")}if(t&&t.length>0)O(this.fieldsIndex,t,\"outFields contains missing fields\");else if(s)throw new n.a(\"feature-store:unsupported-query\",\"outFields should be specified for returnDistinctValues\",{query:e});!function(e,t){if(!t)return!0;const i=x.get(t,e);if(!i)throw new n.a(w,\"invalid SQL expression\",{where:t});if(!i.isStandardized)throw new n.a(w,\"where clause is not standard\",{where:t});O(e,i.fieldNames,\"where clause contains missing fields\")}(this.fieldsIndex,e.where)}async _checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:i,having:s}=e,r=i&&i.length,a=t&&t.length;if(s){if(!r||!a)throw new n.a(\"feature-store:unsupported-query\",\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});!function(e,t,i){if(!t)return!0;const s=x.get(t,e);if(!s)throw new n.a(w,\"invalid SQL expression\",{having:t});if(!s.isAggregate)throw new n.a(w,\"having does not contain a valid aggregate function\",{having:t});if(O(e,s.fieldNames,\"having contains missing fields\"),!s.getExpressions().every(t=>{const{aggregateType:s,field:r}=t,n=e.has(r)&&e.get(r).name;return i.some(t=>{const{onStatisticField:i,statisticType:r}=t;return(e.has(i)&&e.get(i).name)===n&&r.toLowerCase().trim()===s})}))throw new n.a(w,\"expressions in having should also exist in outStatistics\",{having:t})}(this.fieldsIndex,s,t)}if(a){if(!function(e){return e.every(e=>\"exceedslimit\"!==e.statisticType)}(t))return;const s=t.map(e=>e.onStatisticField);O(this.fieldsIndex,s,\"onStatisticFields contains missing fields\"),r&&O(this.fieldsIndex,i,\"groupByFieldsForStatistics contains missing fields\");for(const i of t){const{onStatisticField:t,statisticType:s}=i;if(\"percentile_disc\"!==s&&\"percentile_cont\"!==s||!(\"statisticParameters\"in i)){if(\"count\"!==s&&t&&R(t,this.fieldsIndex))throw new n.a(\"feature-store:unsupported-query\",\"outStatistics contains non-numeric fields\",{definition:i,query:e})}else{const{statisticParameters:t}=i;if(!t)throw new n.a(\"feature-store:unsupported-query\",\"statisticParamters should be set for percentile type\",{definition:i,query:e})}}}}}},iNG6:function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return u}),i.d(t,\"b\",function(){return o}),i.d(t,\"c\",function(){return a});var s=i(\"wSAH\"),r=i(\"f/qv\"),n=i(\"gkbi\");function a(e){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===e||\"esriGeometryMultipoint\"===e?n.a:\"esriGeometryPolyline\"===e?n.c:n.b}}}function u(e,t){if(Object(s.a)(\"csp-restrictions\"))return()=>({[t]:null,...e});try{let i=`this.${t} = null;`;for(const t in e)i+=`this${t.indexOf(\".\")?`[\"${t}\"]`:\".\"+t} = ${JSON.stringify(e[t])};`;const s=new Function(i);return()=>new s}catch(i){return()=>({[t]:null,...e})}}function o(e={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:Object(r.a)(e)}}]}},q7ja:function(e,t,i){\"use strict\";function s(e,t){if(!e)return null;const i=t.featureAdapter,{startTimeField:s,endTimeField:r}=e;let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if(s&&r)t.forEach(e=>{const t=i.getAttribute(e,s),u=i.getAttribute(e,r);null==t||isNaN(t)||(n=Math.min(n,t)),null==u||isNaN(u)||(a=Math.max(a,u))});else{const e=s||r;t.forEach(t=>{const s=i.getAttribute(t,e);null==s||isNaN(s)||(n=Math.min(n,s),a=Math.max(a,s))})}return{start:n,end:a}}function r(e,t,i){if(!t||!e)return null;const{startTimeField:s,endTimeField:r}=e;if(!s&&!r)return null;const{start:n,end:a}=t;return null===n&&null===a?null:void 0===n&&void 0===a?()=>!1:s&&r?function(e,t,i,s,r){return null!=s&&null!=r?n=>{const a=e.getAttribute(n,t),u=e.getAttribute(n,i);return(null==a||a<=r)&&(null==u||u>=s)}:null!=s?t=>{const r=e.getAttribute(t,i);return null==r||r>=s}:null!=r?i=>{const s=e.getAttribute(i,t);return null==s||s<=r}:void 0}(i,s,r,n,a):function(e,t,i,s){return null!=i&&null!=s&&i===s?s=>e.getAttribute(s,t)===i:null!=i&&null!=s?r=>{const n=e.getAttribute(r,t);return n>=i&&n<=s}:null!=i?s=>e.getAttribute(s,t)>=i:null!=s?i=>e.getAttribute(i,t)<=s:void 0}(i,s||r,n,a)}i.d(t,\"a\",function(){return s}),i.d(t,\"b\",function(){return r})},qUyK:function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return s});const s={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}}}]);","name":"13.02f3e418fafbadc645a8.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[13,120,121],{\n\n/***/ \"1/KW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _MemCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"rvq7\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\n/* harmony default export */ __webpack_exports__[\"a\"] = (class{constructor(e,r){this._storage=new _MemCache_js__WEBPACK_IMPORTED_MODULE_0__[/* MemCacheStorage */ \"c\"],this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e){this._storage.put(t,e,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}});\n\n\n/***/ }),\n\n/***/ \"1Rg/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ N; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* binding */ T; });\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* binding */ te; });\n__webpack_require__.d(__webpack_exports__, \"d\", function() { return /* binding */ k; });\n__webpack_require__.d(__webpack_exports__, \"e\", function() { return /* binding */ ee; });\n__webpack_require__.d(__webpack_exports__, \"f\", function() { return /* binding */ B; });\n__webpack_require__.d(__webpack_exports__, \"g\", function() { return /* binding */ Y; });\n__webpack_require__.d(__webpack_exports__, \"h\", function() { return /* binding */ W; });\n__webpack_require__.d(__webpack_exports__, \"i\", function() { return /* binding */ Z; });\n\n// UNUSED EXPORTS: f, h, i, j\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(\"srIe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js\nvar jsonMap = __webpack_require__(\"+opI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(\"zlDU\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(\"9MzC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\nvar spatialReferenceUtils = __webpack_require__(\"f4Nx\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/contains.js\nvar contains = __webpack_require__(\"IXLn\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/intersects.js\nvar intersects = __webpack_require__(\"PNY3\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/extentUtils.js\nvar extentUtils = __webpack_require__(\"+NQI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(\"qatw\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/unitUtils.js\nvar unitUtils = __webpack_require__(\"gEht\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/normalizeUtils.js + 2 modules\nvar normalizeUtils = __webpack_require__(\"qNUd\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js\nvar OptimizedGeometry = __webpack_require__(\"gVKr\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js\nvar featureConversionUtils = __webpack_require__(\"ZlUD\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/centroid.js\nvar centroid = __webpack_require__(\"2X7Z\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js\nvar projectionSupport = __webpack_require__(\"HsO1\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/contains.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction contains_n(n,t){return n?t?4:3:t?3:2}function contains_t(n,t,r,e){return contains_o(n,t,r,e.coords[0],e.coords[1])}function contains_r(t,r,e,c,u,f){const s=contains_n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,c=0;n<l.length;n++,c+=s)if(!contains_o(t,r,e,i[c],i[c+1]))return!1;return!0}function contains_o(t,r,o,c,u){if(!t)return!1;const f=contains_n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=contains_e(l,s,f,d,n,c,u),d+=n*f;return l}function contains_e(n,t,r,o,e,c,u){let f=n,s=o;for(let n=o,i=o+e*r;n<i;n+=r){s=n+r,s===i&&(s=o);const e=t[n],l=t[n+1],d=t[s],g=t[s+1];(l<u&&g>=u||g<u&&l>=u)&&e+(u-l)/(g-l)*(d-e)<c&&(f=!f)}return f}\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/chunks/spatialQuerySupport.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst E=new jsonMap[\"a\" /* JSONMap */]({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),N=Object.freeze({}),_=new OptimizedGeometry[\"a\" /* default */],b=new OptimizedGeometry[\"a\" /* default */],x=new OptimizedGeometry[\"a\" /* default */],J={esriGeometryPoint:featureConversionUtils[\"m\" /* convertToPoint */],esriGeometryPolyline:featureConversionUtils[\"o\" /* convertToPolyline */],esriGeometryPolygon:featureConversionUtils[\"n\" /* convertToPolygon */],esriGeometryMultipoint:featureConversionUtils[\"l\" /* convertToMultipoint */]};function Z(e,t,r,i=e.hasZ,s=e.hasM){const n=e.hasZ&&i,o=e.hasM&&s;if(r){const a=Object(featureConversionUtils[\"u\" /* quantizeOptimizedGeometry */])(x,t,e.hasZ,e.hasM,\"esriGeometryPoint\",r,i,s);return Object(featureConversionUtils[\"m\" /* convertToPoint */])(a,n,o)}return Object(featureConversionUtils[\"m\" /* convertToPoint */])(t,n,o)}function z(e,t,r){return\"esriGeometryPolygon\"===e.geometryType&&t&&(t.centroid||t.geometry)?(t.centroid||(t.centroid=Object(centroid[\"a\" /* getCentroidOptimizedGeometry */])(new OptimizedGeometry[\"a\" /* default */],t.geometry,e.hasZ,e.hasM)),Z(e,t.centroid,r)):null}function B(e,t,r,i,s,n,o=t,a=r){const l=t&&o,p=r&&a,u=i?\"coords\"in i?i:i.geometry:null;if(!u)return null;if(s){let i=Object(featureConversionUtils[\"q\" /* generalizeOptimizedGeometry */])(b,u,t,r,e,s,o,a);return n&&(i=Object(featureConversionUtils[\"u\" /* quantizeOptimizedGeometry */])(x,i,l,p,e,n)),J[e](i,l,p)}if(n){const i=Object(featureConversionUtils[\"u\" /* quantizeOptimizedGeometry */])(x,u,t,r,e,n,o,a);return J[e](i,l,p)}return Object(featureConversionUtils[\"x\" /* removeZMValues */])(_,u,t,r,o,a),J[e](_,l,p)}async function T(e,t,r){const{outFields:i,orderByFields:s,groupByFieldsForStatistics:n,outStatistics:o}=e;if(i)for(let e=0;e<i.length;e++)i[e]=i[e].trim();if(s)for(let e=0;e<s.length;e++)s[e]=s[e].trim();if(n)for(let e=0;e<n.length;e++)n[e]=n[e].trim();if(o)for(let e=0;e<o.length;e++)o[e].onStatisticField&&(o[e].onStatisticField=o[e].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),W(e,t,r)}async function D(e,t,r){return W(e,t,r)}async function W(t,r,i){if(!t)return null;let{where:a}=t;if(t.where=a=a&&a.trim(),(!a||/^1 *= *1$/.test(a)||r&&r===a)&&(t.where=null),!t.geometry)return t;let l=await async function(e){const{geometry:t,distance:r,units:i}=e;if(null==r||\"vertexAttributes\"in t)return t;const a=t.spatialReference,l=i?E.fromJSON(i):Object(unitUtils[\"e\" /* getUnitString */])(a),p=a&&(Object(spatialReferenceUtils[\"f\" /* isGeographic */])(a)||Object(spatialReferenceUtils[\"m\" /* isWebMercator */])(a))?t:await Object(projectionSupport[\"a\" /* checkProjectionSupport */])(a,spatialReferenceUtils[\"a\" /* WGS84 */]).then((()=>Object(projectionSupport[\"b\" /* project */])(t,spatialReferenceUtils[\"a\" /* WGS84 */])));return(await X())(p.spatialReference,p,r,l)}(t);if(t.distance=0,t.units=null,\"esriSpatialRelEnvelopeIntersects\"===t.spatialRel){const{spatialReference:e}=t.geometry;l=Object(extentUtils[\"a\" /* getGeometryExtent */])(l),l.spatialReference=e}t.geometry=l,await Object(projectionSupport[\"a\" /* checkProjectionSupport */])(l.spatialReference,i);const p=(await Object(normalizeUtils[\"a\" /* normalizeCentralMeridian */])(Object(jsonUtils[\"a\" /* fromJSON */])(l)))[0];if(Object(maybe[\"g\" /* isNone */])(p))throw N;const u=p.toJSON(),f=await Object(projectionSupport[\"b\" /* project */])(u,u.spatialReference,i);if(!f)throw N;return f.spatialReference=i,t.geometry=f,t}function k(e){return e&&A in e?JSON.parse(JSON.stringify(e,K)):e}const A=\"_geVersion\",K=(e,t)=>e!==A?t:void 0,Q={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},V={esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},$={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},H={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};function L(){return Promise.all(/* import() */[__webpack_require__.e(12), __webpack_require__.e(0), __webpack_require__.e(28)]).then(__webpack_require__.bind(null, \"AKzY\"))}function X(){return L().then((e=>e.geodesicBuffer))}function Y(e,t,r,s,n){if(Object(jsonUtils[\"g\" /* isPolygon */])(t)&&\"esriGeometryPoint\"===r&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=Object(featureConversionUtils[\"g\" /* convertFromPolygon */])(new OptimizedGeometry[\"a\" /* default */],t,!1,!1);return Object(promiseUtils[\"u\" /* resolve */])((t=>contains_t(e,!1,!1,t)))}if(Object(jsonUtils[\"g\" /* isPolygon */])(t)&&\"esriGeometryMultipoint\"===r){const r=Object(featureConversionUtils[\"g\" /* convertFromPolygon */])(new OptimizedGeometry[\"a\" /* default */],t,!1,!1);if(\"esriSpatialRelContains\"===e)return Object(promiseUtils[\"u\" /* resolve */])((e=>contains_r(r,!1,!1,e,s,n)))}if(Object(jsonUtils[\"d\" /* isExtent */])(t)&&\"esriGeometryPoint\"===r&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Object(promiseUtils[\"u\" /* resolve */])((e=>Object(contains[\"e\" /* extentContainsPoint */])(t,B(r,s,n,e))));if(Object(jsonUtils[\"d\" /* isExtent */])(t)&&\"esriGeometryMultipoint\"===r&&\"esriSpatialRelContains\"===e)return Object(promiseUtils[\"u\" /* resolve */])((e=>Object(contains[\"d\" /* extentContainsMultipoint */])(t,B(r,s,n,e))));if(Object(jsonUtils[\"d\" /* isExtent */])(t)&&\"esriSpatialRelIntersects\"===e){const e=Object(intersects[\"b\" /* getExtentIntersector */])(r);return Object(promiseUtils[\"u\" /* resolve */])((i=>e(t,B(r,s,n,i))))}return L().then((i=>{const o=i[Q[e]].bind(null,t.spatialReference,t);return e=>o(B(r,s,n,e))}))}async function ee(e,t,i){const{spatialRel:s,geometry:n}=e;if(n){if(!0!==V[s])throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"Unsupported query spatial relationship\",{query:e});if(Object(spatialReferenceUtils[\"i\" /* isValid */])(n.spatialReference)&&Object(spatialReferenceUtils[\"i\" /* isValid */])(i)){if(!function(e){return!0===$[Object(jsonUtils[\"c\" /* getJsonType */])(e)]}(n))throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"Unsupported query geometry type\",{query:e});if(!function(e){return!0===H[e]}(t))throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"Unsupported layer geometry type\",{query:e});if(e.outSR)return Object(projectionSupport[\"a\" /* checkProjectionSupport */])(e.geometry&&e.geometry.spatialReference,e.outSR)}}}function te(e){if(Object(jsonUtils[\"d\" /* isExtent */])(e))return!0;if(Object(jsonUtils[\"g\" /* isPolygon */])(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}\n\n\n/***/ }),\n\n/***/ \"QmHG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return C; });\n/* unused harmony export POSITIVE_INFINITY */\n/* unused harmony export ZERO */\n/* unused harmony export allFinite */\n/* unused harmony export center */\n/* unused harmony export contains */\n/* unused harmony export containsPoint */\n/* unused harmony export containsPointWithMargin */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return i; });\n/* unused harmony export depth */\n/* unused harmony export diameter */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return A; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return S; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return o; });\n/* unused harmony export expandWithBuffer */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return x; });\n/* unused harmony export expandWithOffset */\n/* unused harmony export expandWithRect */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return h; });\n/* unused harmony export fromExtent */\n/* unused harmony export fromMinMax */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return G; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return a; });\n/* unused harmony export getMax */\n/* unused harmony export getMin */\n/* unused harmony export height */\n/* unused harmony export intersects */\n/* unused harmony export intersectsClippingArea */\n/* unused harmony export is */\n/* unused harmony export isPoint */\n/* unused harmony export maximumDimension */\n/* unused harmony export offset */\n/* unused harmony export scale */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return w; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return q; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return d; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return p; });\n/* unused harmony export toExtent */\n/* unused harmony export toRect */\n/* unused harmony export width */\n/* unused harmony export wrap */\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"srIe\");\n/* harmony import */ var _Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"OvF4\");\n/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"kYAx\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(n=D){return[n[0],n[1],n[2],n[3],n[4],n[5]]}function a(n,t,r,a,u,e,m=i()){return m[0]=n,m[1]=t,m[2]=r,m[3]=a,m[4]=u,m[5]=e,m}function u(n,t=i()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.zmin,t[3]=n.xmax,t[4]=n.ymax,t[5]=n.zmax,t}function e(n,r){const i=isFinite(n[2])||isFinite(n[5]);return new _Extent_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"](i?{xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],zmin:n[2],zmax:n[5],spatialReference:r}:{xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],spatialReference:r})}function m(n,t,r=i()){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r}function o(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.min(n[2],t[2]),n[3]=Math.max(n[3],t[3]),n[4]=Math.max(n[4],t[4]),n[5]=Math.max(n[5],t[5])}function f(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[3]=Math.max(n[3],t[2]),n[4]=Math.max(n[4],t[3])}function h(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.min(n[2],t[2]),n[3]=Math.max(n[3],t[0]),n[4]=Math.max(n[4],t[1]),n[5]=Math.max(n[5],t[2])}function c(n,t,r=0,i=t.length/3){let a=n[0],u=n[1],e=n[2],m=n[3],o=n[4],f=n[5];for(let n=0;n<i;n++)a=Math.min(a,t[r+3*n]),u=Math.min(u,t[r+3*n+1]),e=Math.min(e,t[r+3*n+2]),m=Math.max(m,t[r+3*n]),o=Math.max(o,t[r+3*n+1]),f=Math.max(f,t[r+3*n+2]);n[0]=a,n[1]=u,n[2]=e,n[3]=m,n[4]=o,n[5]=f}function M(n,t,r,i){n[0]=Math.min(n[0],n[0]+t),n[3]=Math.max(n[3],n[3]+t),n[1]=Math.min(n[1],n[1]+r),n[4]=Math.max(n[4],n[4]+r),n[2]=Math.min(n[2],n[2]+i),n[5]=Math.max(n[5],n[5]+i)}function x(n,t,r){const i=t.length;let a=n[0],u=n[1],e=n[2],m=n[3],o=n[4],f=n[5];if(r)for(let n=0;n<i;n++){const r=t[n];a=Math.min(a,r[0]),u=Math.min(u,r[1]),e=Math.min(e,r[2]),m=Math.max(m,r[0]),o=Math.max(o,r[1]),f=Math.max(f,r[2])}else for(let n=0;n<i;n++){const r=t[n];a=Math.min(a,r[0]),u=Math.min(u,r[1]),m=Math.max(m,r[0]),o=Math.max(o,r[1])}n[0]=a,n[1]=u,n[2]=e,n[3]=m,n[4]=o,n[5]=f}function s(n){for(let t=0;t<6;t++)if(!isFinite(n[t]))return!1;return!0}function l(n){return n[0]>=n[3]?0:n[3]-n[0]}function I(n){return n[1]>=n[4]?0:n[4]-n[1]}function y(n){return n[2]>=n[5]?0:n[5]-n[2]}function N(n){const t=l(n),r=y(n),i=I(n);return Math.sqrt(t*t+r*r+i*i)}function g(n,t=[0,0,0]){return t[0]=n[0]+l(n)/2,t[1]=n[1]+I(n)/2,t[2]=n[2]+y(n)/2,t}function p(n,t=[0,0,0]){return t[0]=l(n),t[1]=I(n),t[2]=y(n),t}function F(n){return Math.max(l(n),y(n),I(n))}function z(n,t){return t[0]>=n[0]&&t[1]>=n[1]&&t[2]>=n[2]&&t[0]<=n[3]&&t[1]<=n[4]&&t[2]<=n[5]}function E(n,t,r){return t[0]>=n[0]-r&&t[1]>=n[1]-r&&t[2]>=n[2]-r&&t[0]<=n[3]+r&&t[1]<=n[4]+r&&t[2]<=n[5]+r}function T(n,t){return t[0]>=n[0]&&t[1]>=n[1]&&t[2]>=n[2]&&t[3]<=n[3]&&t[4]<=n[4]&&t[5]<=n[5]}function b(n,t){return Math.max(t[0],n[0])<=Math.min(t[3],n[3])&&Math.max(t[1],n[1])<=Math.min(t[4],n[4])&&Math.max(t[2],n[2])<=Math.min(t[5],n[5])}function j(t,r){return!!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__[/* isNone */ \"g\"])(r)||b(t,r)}function R(n,t,r,i,a=n){return a[0]=n[0]+t,a[1]=n[1]+r,a[2]=n[2]+i,a[3]=n[3]+t,a[4]=n[4]+r,a[5]=n[5]+i,a}function V(n,t,r=n){const i=n[0]+l(n)/2,a=n[1]+I(n)/2,u=n[2]+y(n)/2;return r[0]=i+(n[0]-i)*t,r[1]=a+(n[1]-a)*t,r[2]=u+(n[2]-u)*t,r[3]=i+(n[3]-i)*t,r[4]=a+(n[4]-a)*t,r[5]=u+(n[5]-u)*t,r}function Y(n,t){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function _(n,t){return t[0]=n[3],t[1]=n[4],t[2]=n[5],t}function d(n,t,r=n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==n&&(r[3]=n[3],r[4]=n[4],r[5]=n[5]),r}function q(n,t,r=n){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==n&&(r[0]=n[0],r[1]=n[1],r[2]=n[2]),n}function w(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function A(n){return n?w(n,C):i(C)}function B(n,t){return t||(t=Object(_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__[/* create */ \"d\"])()),t[0]=n[0],t[1]=n[1],t[2]=n[3],t[3]=n[4],t}function G(n,t){return n[0]=t[0],n[1]=t[1],n[2]=Number.NEGATIVE_INFINITY,n[3]=t[2],n[4]=t[3],n[5]=Number.POSITIVE_INFINITY,n}function O(n){return 6===n.length}function P(n){return 0===l(n)&&0===I(n)&&0===y(n)}function S(t,r,i){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__[/* isNone */ \"g\"])(t)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__[/* isNone */ \"g\"])(r))return t===r;if(!O(t)||!O(r))return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],r[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function k(n,t,r,i,u,e){return a(n,t,r,i,u,e,H)}const v=[-1/0,-1/0,-1/0,1/0,1/0,1/0],C=[1/0,1/0,1/0,-1/0,-1/0,-1/0],D=[0,0,0,0,0,0],H=i();\n\n\n/***/ }),\n\n/***/ \"X2wA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export a */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return r; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return o; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return n; });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(null==n&&o.path)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}\n\n\n/***/ }),\n\n/***/ \"ZBG3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// UNUSED EXPORTS: Feature\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js\nvar lang = __webpack_require__(\"f/qv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(\"srIe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(\"zlDU\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(\"9MzC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\nvar spatialReferenceUtils = __webpack_require__(\"f4Nx\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/boundsUtils.js\nvar boundsUtils = __webpack_require__(\"KLE9\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(\"qatw\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/unitUtils.js\nvar unitUtils = __webpack_require__(\"gEht\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\nvar aaBoundingRect = __webpack_require__(\"kYAx\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MemCache.js\nvar MemCache = __webpack_require__(\"rvq7\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/PromiseQueue.js\nvar PromiseQueue = __webpack_require__(\"MG+P\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FieldsIndex.js\nvar FieldsIndex = __webpack_require__(\"gLc9\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js\nvar QueryEngineCapabilities = __webpack_require__(\"qUyK\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\nvar aaBoundingBox = __webpack_require__(\"QmHG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js\nvar projectionSupport = __webpack_require__(\"HsO1\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/ItemCache.js\nvar ItemCache = __webpack_require__(\"1/KW\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/WhereClause.js + 3 modules\nvar WhereClause = __webpack_require__(\"ZqIb\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/core/sql/WhereClauseCache.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass WhereClauseCache_c{constructor(e,c){this._cache=new ItemCache[\"a\" /* default */](e),this._invalidCache=new ItemCache[\"a\" /* default */](c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=WhereClause[\"WhereClause\"].create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst attributeSupport_s=new WhereClauseCache_c(50,500),attributeSupport_n=\"feature-store:unsupported-query\",attributeSupport_t=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function attributeSupport_r(i,t){if(!t)return!0;const r=attributeSupport_s.get(t,i);if(!r)throw new Error[\"a\" /* default */](attributeSupport_n,\"invalid SQL expression\",{where:t});if(!r.isStandardized)throw new Error[\"a\" /* default */](attributeSupport_n,\"where clause is not standard\",{where:t});return attributeSupport_l(i,r.fieldNames,\"where clause contains missing fields\"),!0}function attributeSupport_o(i,t,r){if(!t)return!0;const o=attributeSupport_s.get(t,i);if(!o)throw new Error[\"a\" /* default */](attributeSupport_n,\"invalid SQL expression\",{having:t});if(!o.isAggregate)throw new Error[\"a\" /* default */](attributeSupport_n,\"having does not contain a valid aggregate function\",{having:t});const a=o.fieldNames;attributeSupport_l(i,a,\"having contains missing fields\");if(!o.getExpressions().every((e=>{const{aggregateType:s,field:n}=e,t=i.has(n)&&i.get(n).name;return r.some((e=>{const{onStatisticField:n,statisticType:r}=e;return(i.has(n)&&i.get(n).name)===t&&r.toLowerCase().trim()===s}))})))throw new Error[\"a\" /* default */](attributeSupport_n,\"expressions in having should also exist in outStatistics\",{having:t});return!0}function attributeSupport_a(e,i){return e?attributeSupport_s.get(e,i):null}function attributeSupport_l(i,s,t,r=!0){const o=[];for(const t of s)if(\"*\"!==t&&!i.has(t))if(r){const s=attributeSupport_c(t);try{const t=attributeSupport_a(s,i);if(!t)throw new Error[\"a\" /* default */](attributeSupport_n,\"invalid SQL expression\",{where:s});if(!t.isStandardized)throw new Error[\"a\" /* default */](attributeSupport_n,\"expression is not standard\",{clause:t});attributeSupport_l(i,t.fieldNames,\"expression contains missing fields\")}catch(e){const i=e&&e.details;if(i&&(i.clause||i.where))throw e;i&&i.missingFields?o.push(...i.missingFields):o.push(t)}}else o.push(t);if(o.length)throw new Error[\"a\" /* default */](attributeSupport_n,t,{missingFields:o})}function attributeSupport_c(e){return e.split(\" as \")[0]}function attributeSupport_d(e){return e.split(\" as \")[1]}function attributeSupport_u(e,i){const s=i.get(e);return!!s&&!attributeSupport_t.has(s.type)}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/spatialQuerySupport.js + 1 modules\nvar spatialQuerySupport = __webpack_require__(\"1Rg/\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js\nvar timeSupport = __webpack_require__(\"q7ja\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js\nvar featureConversionUtils = __webpack_require__(\"ZlUD\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/quantizationUtils.js\nvar quantizationUtils = __webpack_require__(\"AIxD\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\n/* harmony default export */ var AttributesBuilder = (class{constructor(t,a,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=t.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=a;const u=t.outFields;if(u&&-1===u.indexOf(\"*\")){this.outFields=u;let t=0;for(const a of u){const u=attributeSupport_c(a),l=this.fieldsIndex.get(u),n=l?null:attributeSupport_a(u,r),c=l?l.name:attributeSupport_d(a)||\"FIELD_EXP_\"+t++;this._fieldDataCache.set(a,{alias:c,clause:n})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,e,i){const a=i?i.name:e;let r=null;return this._fieldDataCache.has(a)?r=this._fieldDataCache.get(a).clause:i||(r=attributeSupport_a(e,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:r})),i?this.featureAdapter.getAttribute(t,a):r.calculateValue(t,this.featureAdapter)}validateItem(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:attributeSupport_a(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testFeature(t,this.featureAdapter)}validateItems(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:attributeSupport_a(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testSet(t,this.featureAdapter)}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const s={};for(const i of e){const{alias:e,clause:a}=this._fieldDataCache.get(i);s[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return s}_processAttributesForDistinctValues(e){if(Object(maybe[\"g\" /* isNone */])(e)||!this.returnDistinctValues)return e;const s=this.outFields,i=[];if(s)for(const t of s){const{alias:s}=this._fieldDataCache.get(t);i.push(e[s])}else for(const t in e)i.push(e[t]);const a=`${(s||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let r=this._returnDistinctMap.get(a)||0;return this._returnDistinctMap.set(a,++r),r>1?null:e}});\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction QueryEngineResult_g(t){return t.substr(24,12)+t.substr(19,4)+t.substr(16,2)+t.substr(14,2)+t.substr(11,2)+t.substr(9,2)+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)+t.substr(0,2)}function QueryEngineResult_y(t,e,s){return(s?t>e:t<e)?-1:(s?t<e:t>e)?1:0}function QueryEngineResult_I(t,e,s){return s?e-t:t-e}function QueryEngineResult_b(t,e,s,i){if(s&&\"esriFieldTypeDate\"===s.type){const s=new Date(t).getTime(),r=new Date(e).getTime();if(!isNaN(s)&&!isNaN(r))return QueryEngineResult_I(s,r,i)}if(\"number\"==typeof t&&\"number\"==typeof e)return QueryEngineResult_I(t,e,i);if(\"string\"==typeof t&&\"string\"==typeof e){const r=t.toUpperCase(),n=e.toUpperCase();return!s||\"esriFieldTypeGUID\"!==s.type&&\"esriFieldTypeGlobalID\"!==s.type?QueryEngineResult_y(r,n,i):QueryEngineResult_y(QueryEngineResult_g(r),QueryEngineResult_g(n),i)}return i?1:-1}class QueryEngineResult_x{constructor(t,e,s){this.items=t,this.queryGeometry=e,this.definitionExpression=s.definitionExpression,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.fieldsIndex=s.fieldsIndex,this.timeInfo=s.timeInfo,this.featureAdapter=s.featureAdapter,this.aggregateAdapter=s.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(t){const e=new AttributesBuilder(t,this.featureAdapter,this.fieldsIndex);if(!t.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:s,having:i}=t;if(!!!(null==s?void 0:s.length))return 1;const r=new Map,n=new Map,a=new Set,o=t.outStatistics;for(const t of o){const{statisticType:o}=t,u=\"exceedslimit\"!==o?t.onStatisticField:void 0;if(!n.has(u)){const t=[];for(const i of s){const s=this._getAttributeValues(e,i,r);t.push(s)}n.set(u,this._calculateUniqueValues(t))}const l=n.get(u);for(const t in l){const{data:s,items:r}=l[t],n=s.join(\",\");i&&!e.validateItems(r,i)||a.add(n)}}return a.size}createQueryResponse(t){let e;if(t.outStatistics){e=t.outStatistics.some((t=>\"exceedslimit\"===t.statisticType))?this._createExceedsLimitQueryResponse(t):this._createStatisticsQueryResponse(t)}else e=this._createFeatureQueryResponse(t);return t.returnQueryGeometry&&(Object(spatialReferenceUtils[\"i\" /* isValid */])(t.outSR)&&!Object(spatialReferenceUtils[\"c\" /* equals */])(this.queryGeometry.spatialReference,t.outSR)?e.queryGeometry=Object(spatialQuerySupport[\"d\" /* c */])({spatialReference:t.outSR,...Object(projectionSupport[\"b\" /* project */])(this.queryGeometry,this.queryGeometry.spatialReference,t.outSR)}):e.queryGeometry=Object(spatialQuerySupport[\"d\" /* c */])({spatialReference:t.outSR,...this.queryGeometry})),e}executeAttributesQuery(t){const e=attributeSupport_a(t.where,this.fieldsIndex);if(!e)return Object(promiseUtils[\"u\" /* resolve */])(this);if(e.isStandardized){let i=0;const r=[];for(const t of this.items)e.testFeature(t,this.featureAdapter)&&(r[i++]=t);const n=new QueryEngineResult_x(r,this.queryGeometry,this);return n.definitionExpression=t.where,Object(promiseUtils[\"u\" /* resolve */])(n)}return Object(promiseUtils[\"t\" /* reject */])(new TypeError(\"Where clause is not standardized\"))}executeAggregateIdsQuery(e){if(!e.aggregateIds||!e.aggregateIds.length||Object(maybe[\"g\" /* isNone */])(this.aggregateAdapter))return Object(promiseUtils[\"u\" /* resolve */])(this);const i=new Set;for(const t of e.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(t).forEach((t=>i.add(t)))}const r=this.featureAdapter.getObjectId;return Object(promiseUtils[\"u\" /* resolve */])(new QueryEngineResult_x(this.items.filter((t=>i.has(r(t)))),this.queryGeometry,this))}executeObjectIdsQuery(t){if(!t.objectIds||!t.objectIds.length)return Object(promiseUtils[\"u\" /* resolve */])(this);const e=new Set(t.objectIds),i=this.featureAdapter.getObjectId;return Object(promiseUtils[\"u\" /* resolve */])(new QueryEngineResult_x(this.items.filter((t=>e.has(i(t)))),this.queryGeometry,this))}executeTimeQuery(t){const i=Object(timeSupport[\"b\" /* getTimeOperator */])(this.timeInfo,t.timeExtent,this.featureAdapter);if(!Object(maybe[\"h\" /* isSome */])(i))return Object(promiseUtils[\"u\" /* resolve */])(this);const r=this.items.filter(i);return Object(promiseUtils[\"u\" /* resolve */])(new QueryEngineResult_x(r,this.queryGeometry,this))}filterLatest(){const{trackIdField:t,startTimeField:e,endTimeField:i}=this.timeInfo,r=i||e,n=new Map,a=this.featureAdapter.getAttribute;for(const e of this.items){const s=a(e,t),i=a(e,r),o=n.get(s);(!o||i>a(o,r))&&n.set(s,e)}const o=Array.from(n.values());return Object(promiseUtils[\"u\" /* resolve */])(new QueryEngineResult_x(o,this.queryGeometry,this))}async project(t){if(!t||Object(spatialReferenceUtils[\"c\" /* equals */])(this.spatialReference,t))return this;const e=this.featureAdapter,s=(await Object(projectionSupport[\"c\" /* projectMany */])(this.items.map((t=>Object(spatialQuerySupport[\"f\" /* e */])(this.geometryType,this.hasZ,this.hasM,e.getGeometry(t)))),this.spatialReference,t)).map(((t,s)=>e.cloneWithGeometry(this.items[s],Object(featureConversionUtils[\"d\" /* convertFromGeometry */])(t,this.hasZ,this.hasM))));return new QueryEngineResult_x(s,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:t,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}_sortFeatures(t,e,s){if(t.length>1&&e&&e.length)for(const i of e.reverse()){const e=i.split(\" \"),r=e[0],n=this.fieldsIndex.get(r),a=e[1]&&\"desc\"===e[1].toLowerCase();t.sort(((t,e)=>QueryEngineResult_b(s(t,r,n),s(e,r,n),n,a)))}}_createFeatureQueryResponse(t){const e=this.items,{geometryType:s,hasM:i,hasZ:r,objectIdField:n,spatialReference:a}=this,{outFields:o,outSR:u,quantizationParameters:c,resultRecordCount:h,resultOffset:d,returnZ:m,returnM:p}=t,g=null!=h&&e.length>(d||0)+h,y=o&&(o.indexOf(\"*\")>-1?[...this.fieldsIndex.fields]:o.map((t=>this.fieldsIndex.get(t))));return{exceededTransferLimit:g,features:this._createFeatures(t,e),fields:y,geometryType:s,hasM:i&&p,hasZ:r&&m,objectIdFieldName:n,spatialReference:Object(spatialQuerySupport[\"d\" /* c */])(u||a),transform:c&&Object(quantizationUtils[\"c\" /* toQuantizationTransform */])(c)||null}}_createFeatures(t,e){const s=new AttributesBuilder(t,this.featureAdapter,this.fieldsIndex),{hasM:i,hasZ:r}=this,{orderByFields:n,quantizationParameters:a,returnGeometry:o,returnCentroid:u,maxAllowableOffset:c,resultOffset:f,resultRecordCount:p,returnZ:g=!1,returnM:y=!1}=t,I=r&&g,b=i&&y;let x=[],F=0;const T=[...e];if(this._sortFeatures(T,n,((t,e,i)=>s.getFieldValue(t,e,i))),o||u){const t=Object(quantizationUtils[\"c\" /* toQuantizationTransform */])(a);if(o&&!u)for(const e of T)x[F++]={attributes:s.getAttributes(e),geometry:Object(spatialQuerySupport[\"f\" /* e */])(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(e),c,t,I,b)};else if(!o&&u)for(const e of T)x[F++]={attributes:s.getAttributes(e),centroid:Object(spatialQuerySupport[\"i\" /* t */])(this,this.featureAdapter.getCentroid(e,this),t)};else for(const e of T)x[F++]={attributes:s.getAttributes(e),centroid:Object(spatialQuerySupport[\"i\" /* t */])(this,this.featureAdapter.getCentroid(e,this),t),geometry:Object(spatialQuerySupport[\"f\" /* e */])(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(e),c,t,I,b)}}else for(const t of T){const e=s.getAttributes(t);e&&(x[F++]={attributes:e})}const S=f||0;if(null!=p){const t=S+p;x=x.slice(S,Math.min(x.length,t))}return x}_createExceedsLimitQueryResponse(t){let e=!1,s=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const e of t.outStatistics)if(\"exceedslimit\"===e.statisticType){s=null!=e.maxPointCount?e.maxPointCount:Number.POSITIVE_INFINITY,i=null!=e.maxRecordCount?e.maxRecordCount:Number.POSITIVE_INFINITY,r=null!=e.maxVertexCount?e.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)e=this.items.length>s;else if(this.items.length>i)e=!0;else{const t=this.hasZ?this.hasM?4:3:this.hasM?3:2,s=this.featureAdapter;e=this.items.reduce(((t,e)=>{const i=s.getGeometry(e);return t+(i&&i.coords.length||0)}),0)/t>r}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}_createStatisticsQueryResponse(t){const e={attributes:{}},s=[],i=new Map,r=new Map,n=new Map,a=new Map,o=new AttributesBuilder(t,this.featureAdapter,this.fieldsIndex),u=t.outStatistics,{groupByFieldsForStatistics:l,having:c,orderByFields:f}=t,d=l&&l.length,m=!!d,p=m&&l[0],g=m&&!this.fieldsIndex.get(p);for(const t of u){const{outStatisticFieldName:u,statisticType:h}=t,f=t,y=\"exceedslimit\"!==h?t.onStatisticField:void 0,I=\"percentile_disc\"===h||\"percentile_cont\"===h,b=m&&1===d&&(y===p||g)&&\"count\"===h;if(m){if(!n.has(y)){const t=[];for(const e of l){const s=this._getAttributeValues(o,e,i);t.push(s)}n.set(y,this._calculateUniqueValues(t))}const t=n.get(y);for(const e in t){const{count:s,data:r,items:n,itemPositions:h}=t[e],d=r.join(\",\");if(!c||o.validateItems(n,c)){const t=a.get(d)||{attributes:{}};let e=null;if(b)e=s;else{const t=this._getAttributeValues(o,y,i),s=h.map((e=>t[e]));e=I&&\"statisticParameters\"in f?this._getPercentileValue(f,s):this._getStatisticValue(f,s)}t.attributes[u]=e,l.forEach(((e,s)=>t.attributes[this.fieldsIndex.get(e)?e:`EXPR_${s+1}`]=r[s])),a.set(d,t)}}}else{const t=this._getAttributeValues(o,y,i);e.attributes[u]=I&&\"statisticParameters\"in f?this._getPercentileValue(f,t):this._getStatisticValue(f,t,r)}s.push({name:u,alias:u,type:\"esriFieldTypeDouble\"})}const y=m?Array.from(a.values()):[e];return this._sortFeatures(y,f,((t,e)=>t.attributes[e])),{fields:s,features:y}}_getStatisticValue(t,e,s){const{onStatisticField:i,statisticType:r}=t,n=s&&s.has(i)?s.get(i):this._calculateStatistics(e);s&&s.set(i,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(t,e){const{onStatisticField:s,statisticParameters:i,statisticType:r}=t,{value:n,orderBy:a}=i,o=\"desc\"===a,u=this.fieldsIndex.get(s),l=[...e].filter((t=>null!=t)).sort(((t,e)=>QueryEngineResult_b(t,e,u,o)));return this._calculatePercentile(l,n,\"percentile_disc\"===r)}_getAttributeValues(t,e,s){if(s.has(e))return s.get(e);const i=this.fieldsIndex.get(e),r=this.items.map((s=>t.getFieldValue(s,e,i)));return s.set(e,r),r}_calculateStatistics(t){let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,i=null,r=null,n=null,a=null;const o=[];let u=0;for(const r of t)\"string\"==typeof r?u++:null==r||isNaN(r)||(i+=r,e=Math.min(e,r),s=Math.max(s,r),o.push(r),u++);if(u){r=i/u;let t=0;for(const e of o)t+=Math.pow(e-r,2);a=u>1?t/(u-1):0,n=Math.sqrt(a)}else e=null,s=null;return{avg:r,count:u,max:s,min:e,stddev:n,sum:i,variance:a}}_calculateUniqueValues(t){const e={},s=this.items,i=s.length;for(let r=0;r<i;r++){const i=s[r],n=[];for(const e of t)n.push(e[r]);const a=n.join(\",\");null==e[a]?e[a]={count:1,data:n,items:[i],itemPositions:[r]}:(e[a].count++,e[a].items.push(i),e[a].itemPositions.push(r))}return e}_calculatePercentile(t,e,s){if(0===t.length)return null;if(e<=0)return t[0];if(e>=1)return t[t.length-1];const i=(t.length-1)*e,r=Math.floor(i),n=r+1,a=i%1,o=t[r],u=t[n];return n>=t.length||s||\"string\"==typeof o||\"string\"==typeof u?o:o*(1-a)+u*a}}/* harmony default export */ var QueryEngineResult = (QueryEngineResult_x);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass O{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const q=new Set,G=new MemCache[\"c\" /* MemCacheStorage */](2e6);let M=0;const P=Object(aaBoundingBox[\"b\" /* create */])(),v=Object(aaBoundingBox[\"b\" /* create */])();/* harmony default export */ var QueryEngine = __webpack_exports__[\"a\"] = (class{constructor(e){this.capabilities={query:QueryEngineCapabilities[\"a\" /* queryCapabilities */]},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new MemCache[\"b\" /* MemCache */](M+++\"$$\",G)),this.fieldsIndex=new FieldsIndex[\"a\" /* default */](e.fields),e.scheduler&&e.task&&(this._frameQueue=new PromiseQueue[\"a\" /* default */],this._frameTask=e.scheduler.registerTask(e.task,(e=>this._update(e)),(()=>this._frameQueue.length>0)))}destroy(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null),this.clearCache(),this._geometryQueryCache&&this._geometryQueryCache.destroy(),this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null),this.fieldsIndex.destroy()}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:Object(spatialQuerySupport[\"d\" /* c */])(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=Object(timeSupport[\"a\" /* getTimeExtent */])(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(t={},s){let i,r=Object(lang[\"a\" /* clone */])(t);try{r=await this._schedule((()=>Object(spatialQuerySupport[\"b\" /* a */])(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s)}catch(e){if(e!==spatialQuerySupport[\"a\" /* Q */])throw e;i=new QueryEngineResult([],null,this)}return i.createQueryResponse(r)}async executeQueryForCount(t={},s){let i,r=Object(lang[\"a\" /* clone */])(t);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>Object(spatialQuerySupport[\"b\" /* a */])(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s)}catch(e){if(e!==spatialQuerySupport[\"a\" /* Q */])throw e;return 0}return i.createQueryResponseForCount(r)}async executeQueryForExtent(t={},s){let i,r=Object(lang[\"a\" /* clone */])(t);const a=r.outSR;try{r=await this._schedule((()=>Object(spatialQuerySupport[\"b\" /* a */])(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s);const e=i.size;if(!e)return{count:e,extent:null};Object(aaBoundingBox[\"j\" /* set */])(v,aaBoundingBox[\"a\" /* NEGATIVE_INFINITY */]),this.featureStore.forEachBounds(i.items,(e=>Object(aaBoundingBox[\"e\" /* expandWithAABB */])(v,e)),P);const t={xmin:v[0],ymin:v[1],xmax:v[3],ymax:v[4],spatialReference:Object(spatialQuerySupport[\"d\" /* c */])(this.spatialReference)};this.hasZ&&isFinite(v[2])&&isFinite(v[5])&&(t.zmin=v[2],t.zmax=v[5]);const u=Object(projectionSupport[\"b\" /* project */])(t,i.spatialReference,a);if(u.spatialReference=Object(spatialQuerySupport[\"d\" /* c */])(a||this.spatialReference),u.xmax-u.xmin==0){const e=Object(unitUtils[\"c\" /* getMetersPerUnitForSR */])(u.spatialReference);u.xmin-=e,u.xmax+=e}if(u.ymax-u.ymin==0){const e=Object(unitUtils[\"c\" /* getMetersPerUnitForSR */])(u.spatialReference);u.ymin-=e,u.ymax+=e}if(this.hasZ&&null!=u.zmin&&null!=u.zmax&&u.zmax-u.zmin==0){const e=Object(unitUtils[\"c\" /* getMetersPerUnitForSR */])(u.spatialReference);u.zmin-=e,u.zmax+=e}return{count:e,extent:u}}catch(e){if(e===spatialQuerySupport[\"a\" /* Q */])return{count:0,extent:null};throw e}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(t={},s){let i,r=Object(lang[\"a\" /* clone */])(t);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>Object(spatialQuerySupport[\"b\" /* a */])(r,this.definitionExpression,this.spatialReference)),s),r=await this._reschedule((()=>this._checkQuerySupport(r)),s),i=await this._reschedule((()=>this._executeGeometryQuery(r,s)),s),i=await this._reschedule((()=>i.executeAggregateIdsQuery(r)),s),i=await this._reschedule((()=>i.executeObjectIdsQuery(r)),s),i=await this._reschedule((()=>i.executeTimeQuery(r)),s),i=await this._reschedule((()=>i.executeAttributesQuery(r)),s);const e=i.items,t=new Set;return await this._reschedule((()=>{for(const s of e)t.add(i.featureAdapter.getObjectId(s))}),s),t}catch(e){if(e===spatialQuerySupport[\"a\" /* Q */])return new Set;throw e}}async executeQueryForLatestObservations(t={},i){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"Missing timeInfo or timeInfo.trackIdField\",{query:t,timeInfo:this.timeInfo});let r,a=Object(lang[\"a\" /* clone */])(t);try{a=await this._schedule((()=>Object(spatialQuerySupport[\"b\" /* a */])(a,this.definitionExpression,this.spatialReference)),i),a=await this._reschedule((()=>this._checkQuerySupport(a)),i),r=await this._reschedule((()=>this._executeGeometryQuery(a,i)),i),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),i),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),i),r=await this._reschedule((()=>r.executeTimeQuery(a)),i),r=await this._reschedule((()=>r.executeAttributesQuery(a)),i),r=await this._reschedule((()=>r.filterLatest()),i)}catch(e){if(e!==spatialQuerySupport[\"a\" /* Q */])throw e;r=new QueryEngineResult([],null,this)}return r.createQueryResponse(a)}async _schedule(e,t){return this._frameQueue?this._frameQueue.push(e,t):e()}async _reschedule(e,t){return this._frameQueue?this._frameQueue.unshift(e,t):e()}_update(e){for(this._budget=e;!e.done&&this._frameQueue&&this._frameQueue.process();)e.madeProgress();this._budget=null}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new QueryEngineResult(e,null,this)}return this._allItems}async _executeGeometryQuery(e,s){const{geometry:i,outSR:u,spatialRel:n}=e,o=Object(spatialReferenceUtils[\"i\" /* isValid */])(u)&&!Object(spatialReferenceUtils[\"c\" /* equals */])(this.spatialReference,u),h=this._geometryQueryCache?o?JSON.stringify({geometry:i,spatialRelationship:n,outSpatialReference:u}):JSON.stringify({geometry:i,spatialRelationship:n}):null;if(h){const e=this._geometryQueryCache.get(h);if(!Object(maybe[\"i\" /* isUndefined */])(e))return e}const c=async t=>{if(o&&(e.returnGeometry||e.returnCentroid)){const e=await t.project(u);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}return h&&this._geometryQueryCache.put(h,t,t.size||1),t};if(!i)return c(this._getAll());const l=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===n){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return c(this._getAll());let t,r;const a=new Set;for(const t of e)a.add(l.getObjectId(t));await this._reschedule((()=>{let e=0;t=new Array(a.size),this.featureStore.forEach((s=>t[e++]=s)),r=a}),s);return c(await this._reschedule((async()=>{const e=await Object(spatialQuerySupport[\"g\"])(n,i,this.geometryType,this.hasZ,this.hasM);return new QueryEngineResult(await this._runSpatialFilter(t,(t=>!r.has(l.getObjectId(t))||e(l.getGeometry(t))),s),i,this)}),s))}const d=this._searchFeatures(this._getQueryBBoxes(i));if(!d.length){const e=new QueryEngineResult([],i,this);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}if(this._canExecuteSoloPass(i,e))return c(new QueryEngineResult(d,i,this));const f=await Object(spatialQuerySupport[\"g\"])(n,i,this.geometryType,this.hasZ,this.hasM),m=await this._runSpatialFilter(d,(e=>f(l.getGeometry(e))),s);return c(new QueryEngineResult(m,i,this))}async _runSpatialFilter(e,t,s){if(!t)return e;if(!this._budget)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async()=>{for(;i<e.length;){const u=e[i];t(u)&&r.push(u),this._budget.done&&await this._reschedule((()=>a()),s),++i}};return this._reschedule((()=>a()),s).then((()=>r))}_canExecuteSoloPass(e,t){const{geometryType:s}=this,{spatialRel:i}=t;return Object(spatialQuerySupport[\"c\" /* b */])(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===s&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i||\"esriSpatialRelWithin\"===i))}_getQueryBBoxes(e){if(Object(spatialQuerySupport[\"c\" /* b */])(e)){if(Object(jsonUtils[\"d\" /* isExtent */])(e))return[Object(aaBoundingRect[\"i\" /* fromValues */])(e.xmin,e.ymin,e.xmax,e.ymax)];if(Object(jsonUtils[\"g\" /* isPolygon */])(e))return e.rings.map((e=>Object(aaBoundingRect[\"i\" /* fromValues */])(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[Object(boundsUtils[\"a\" /* getBoundsXY */])(Object(aaBoundingRect[\"d\" /* create */])(),e)]}_searchFeatures(e){for(const t of e)this.featureStore.forEachInBounds(t,(e=>{q.add(e)}));const t=new Array(q.size);let s=0;return q.forEach((e=>t[s++]=e)),q.clear(),t}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"Unsupported query options\",{query:e});return Object(promiseUtils[\"b\" /* all */])([this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Object(spatialQuerySupport[\"e\" /* d */])(e,this.geometryType,this.spatialReference),Object(projectionSupport[\"a\" /* checkProjectionSupport */])(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:i,returnDistinctValues:r,outStatistics:a}=e,u=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())):[];if(i&&i.length>0){const e=\" asc\",t=\" desc\",s=i.map((s=>{const i=s.toLowerCase();return i.indexOf(e)>-1?i.split(e)[0]:i.indexOf(t)>-1?i.split(t)[0]:s})).filter((e=>-1===u.indexOf(e)));attributeSupport_l(this.fieldsIndex,s,\"orderByFields contains missing fields\")}if(t&&t.length>0)attributeSupport_l(this.fieldsIndex,t,\"outFields contains missing fields\");else if(r)throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"outFields should be specified for returnDistinctValues\",{query:e});attributeSupport_r(this.fieldsIndex,e.where)}async _checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:i,having:r}=e,a=i&&i.length,u=t&&t.length;if(r){if(!a||!u)throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});attributeSupport_o(this.fieldsIndex,r,t)}if(u){if(!function(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}(t))return;const r=t.map((e=>e.onStatisticField));attributeSupport_l(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&attributeSupport_l(this.fieldsIndex,i,\"groupByFieldsForStatistics contains missing fields\");for(const i of t){const{onStatisticField:t,statisticType:r}=i;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in i){const{statisticParameters:t}=i;if(!t)throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"statisticParamters should be set for percentile type\",{definition:i,query:e})}else if(\"count\"!==r&&t&&attributeSupport_u(t,this.fieldsIndex))throw new Error[\"a\" /* default */](\"feature-store:unsupported-query\",\"outStatistics contains non-numeric fields\",{definition:i,query:e})}}}});\n\n\n/***/ }),\n\n/***/ \"iNG6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return s; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return u; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return i; });\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wSAH\");\n/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"f/qv\");\n/* harmony import */ var _symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"gkbi\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_2__[/* defaultPointSymbolJSON */ \"a\"]:\"esriGeometryPolyline\"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_2__[/* defaultPolylineSymbolJSON */ \"c\"]:_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_2__[/* defaultPolygonSymbolJSON */ \"b\"]}}}function s(r,e){if(Object(_core_has_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(\"csp-restrictions\"))return()=>({[e]:null,...r});try{let t=`this.${e} = null;`;for(const e in r){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(r[e])};`}const n=new Function(t);return()=>new n}catch(t){return()=>({[e]:null,...r})}}function u(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_1__[/* clone */ \"a\"])(t)}}]}\n\n\n/***/ }),\n\n/***/ \"q7ja\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return t; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return n; });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,n){if(!t)return null;const e=n.featureAdapter,{startTimeField:u,endTimeField:r}=t;let l=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(u&&r)n.forEach((t=>{const n=e.getAttribute(t,u),o=e.getAttribute(t,r);null==n||isNaN(n)||(l=Math.min(l,n)),null==o||isNaN(o)||(i=Math.max(i,o))}));else{const t=u||r;n.forEach((n=>{const u=e.getAttribute(n,t);null==u||isNaN(u)||(l=Math.min(l,u),i=Math.max(i,u))}))}return{start:l,end:i}}function n(t,n,e){if(!n||!t)return null;const{startTimeField:u,endTimeField:r}=t;if(!u&&!r)return null;const{start:l,end:i}=n;return null===l&&null===i?null:void 0===l&&void 0===i?()=>!1:u&&r?function(t,n,e,u,r){if(null!=u&&null!=r)return l=>{const i=t.getAttribute(l,n),o=t.getAttribute(l,e);return(null==i||i<=r)&&(null==o||o>=u)};if(null!=u)return n=>{const r=t.getAttribute(n,e);return null==r||r>=u};if(null!=r)return e=>{const u=t.getAttribute(e,n);return null==u||u<=r};return}(e,u,r,l,i):function(t,n,e,u){if(null!=e&&null!=u&&e===u)return u=>t.getAttribute(u,n)===e;if(null!=e&&null!=u)return r=>{const l=t.getAttribute(r,n);return l>=e&&l<=u};if(null!=e)return u=>t.getAttribute(u,n)>=e;if(null!=u)return e=>t.getAttribute(e,n)<=u;return}(e,u||r,l,i)}\n\n\n/***/ }),\n\n/***/ \"qUyK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return t; });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};\n\n\n/***/ })\n\n}]);","inputSourceMap":null}