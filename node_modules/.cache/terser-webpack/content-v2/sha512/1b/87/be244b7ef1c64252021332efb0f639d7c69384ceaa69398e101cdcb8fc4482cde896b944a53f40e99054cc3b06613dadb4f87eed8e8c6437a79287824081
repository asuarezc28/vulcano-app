{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{u6iX:function(e,t,r){\"use strict\";r.r(t);var i,o=r(\"pO5D\"),n=r(\"3r0u\"),a=(r(\"wSAH\"),r(\"srIe\")),s=r(\"6S2I\"),l=r(\"zqDF\"),p=r(\"WbKI\"),c=r(\"+opI\"),d=r(\"r88o\"),b=r(\"C4aV\"),y=r(\"04ZG\"),u=r(\"Cduq\"),j=r(\"zlDU\"),O=(r(\"4EHJ\"),r(\"ju1D\"),r(\"9AIY\"),r(\"9MzC\")),h=r(\"WZb1\"),f=r(\"OvF4\"),m=(r(\"4GrV\"),r(\"wdpY\")),g=r(\"SFah\"),v=r(\"Lqtk\"),w=r(\"nNR5\"),I=r(\"pqNC\"),S=r(\"5pQd\"),R=r(\"/RTN\"),F=r(\"IvSi\"),D=r(\"uRH/\"),T=(r(\"ZnuT\"),r(\"tCO6\"),r(\"2gBT\")),x=(r(\"JhoD\"),r(\"tI3Y\"),r(\"R4xK\"),r(\"/1dM\")),k=r(\"XNvV\"),N=r(\"+Xal\"),P=r(\"ofM5\"),G=r(\"gLc9\"),E=r(\"PVlI\"),L=r(\"mXvl\"),C=r(\"DbUH\"),J=r(\"jhcG\"),W=r(\"WmKv\"),U=r(\"YBpl\"),_=r(\"wkZP\"),A=r(\"Bbcg\"),V=r(\"EOvV\"),q=r(\"YOx9\"),z=r(\"9Ruv\"),Y=r(\"xk++\"),M=r(\"ag7Y\");let H=i=class extends M.a{constructor(){super(...arguments),this.age=null,this.ageReceived=null,this.displayCount=null,this.maxObservations=1}clone(){return new i({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})}};Object(o.a)([Object(p.b)({type:Number,json:{write:!0}})],H.prototype,\"age\",void 0),Object(o.a)([Object(p.b)({type:Number,json:{write:!0}})],H.prototype,\"ageReceived\",void 0),Object(o.a)([Object(p.b)({type:Number,json:{write:!0}})],H.prototype,\"displayCount\",void 0),Object(o.a)([Object(p.b)({type:Number,json:{write:!0}})],H.prototype,\"maxObservations\",void 0),H=i=Object(o.a)([Object(y.a)(\"esri.layers.support.PurgeOptions\")],H);var X=H;const Z=s.a.getLogger(\"esri.layers.StreamLayer\"),B=new c.a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\"});let K=class extends(Object(L.a)(Object(U.a)(Object(W.a)(Object(J.a)(Object(E.a)(Object(D.a)(Object(C.a)(Object(S.a)(I.a))))))))){constructor(...e){super(...e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.geometryDefinition=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.maxReconnectionAttempts=0,this.maxReconnectionInterval=20,this.objectIdField=null,this.operationalLayerType=\"ArcGISStreamLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.purgeOptions=new X,this.screenSizePerspectiveEnabled=!0,this.sourceJSON=null,this.spatialReference=h.a.WGS84,this.type=\"stream\",this.url=null,this.updateInterval=300,this.webSocketUrl=null}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){\"WebSocket\"in n.a||Object(O.t)(new j.a(\"stream-layer:websocket-unsupported\",\"WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service.\"));const t=Object(a.h)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Stream Service\"]},e).catch(e=>e).then(()=>this._fetchService(t))),Object(O.u)(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}readFeatureReduction(e,t){return Object(A.a)(e,t)}writeWebSceneFeatureReduction(e,t,r,i){Object(A.c)(e,t,\"layerDefinition.featureReduction\",i)}get fieldsIndex(){return new G.a(this.fields)}set renderer(e){Object(m.j)(e,this.fields),this._set(\"renderer\",e)}readRenderer(e,t,r){const i=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(i){const e=Object(N.b)(i,t,r)||void 0;return e||Z.error(\"Failed to create renderer\",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),e}if(t.defaultSymbol)return t.types&&t.types.length?new T.a({defaultSymbol:Q(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(e=>({id:e.id,symbol:Q(e.symbol,e,r)}))}):new x.a({symbol:Q(t.defaultSymbol,t,r)})}writeRenderer(e,t,r,i){Object(N.c)(e,t,r,i)}writeWebSceneRenderer(e,t,r,i){Object(N.c)(e,t,\"layerDefinition.drawingInfo.renderer\",i)}createPopupTemplate(e){return Object(z.a)(this,e)}createQuery(){const e=new Y.a;return e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\",e}getFieldDomain(e,t){if(!this.fields)return null;let r=null;return this.fields.some(t=>(t.name===e&&(r=t.domain),!!r)),r}getField(e){return this.fieldsIndex.get(e)}async _fetchService(e){var t;if(this.webSocketUrl){var r;if(null==(r=this.timeInfo)||!r.trackIdField)throw new j.a(\"stream-layer:missing-metadata\",\"The stream layer trackIdField must be specified.\");if(!this.objectIdField)throw new j.a(\"stream-layer:missing-metadata\",\"The stream layer objectIdField must be specified.\");if(!this.fields)throw new j.a(\"stream-layer:missing-metadata\",\"The stream layer fields must be specified.\");if(!this.geometryType)throw new j.a(\"stream-layer:missing-metadata\",\"The stream layer geometryType must be specified.\");this.url=this.webSocketUrl}else if(!this.sourceJSON){const{data:t}=await Object(v.default)(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e});this.sourceJSON=t}return this.sourceJSON={...null!=(t=this.sourceJSON)?t:{},objectIdField:\"__esri_stream_id__\"},this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl}),Object(m.j)(this.renderer,this.fields),Object(m.k)(this.timeInfo,this.fields),Object(q.a)(this,{origin:\"service\"})}};Object(o.a)([Object(p.b)({type:String})],K.prototype,\"copyright\",void 0),Object(o.a)([Object(p.b)({readOnly:!0,dependsOn:[\"fields\",\"title\"]})],K.prototype,\"defaultPopupTemplate\",null),Object(o.a)([Object(p.b)({type:String})],K.prototype,\"definitionExpression\",void 0),Object(o.a)([Object(p.b)({type:String})],K.prototype,\"displayField\",void 0),Object(o.a)([Object(p.b)({type:R.a})],K.prototype,\"elevationInfo\",void 0),Object(o.a)([Object(d.a)(\"featureReduction\",[\"layerDefinition.featureReduction\"])],K.prototype,\"readFeatureReduction\",null),Object(o.a)([Object(u.a)(\"web-scene\",\"featureReduction\",{\"layerDefinition.featureReduction\":{types:A.b}})],K.prototype,\"writeWebSceneFeatureReduction\",null),Object(o.a)([Object(p.b)({type:[P.a]})],K.prototype,\"fields\",void 0),Object(o.a)([Object(p.b)({readOnly:!0,dependsOn:[\"fields\"]})],K.prototype,\"fieldsIndex\",null),Object(o.a)([Object(p.b)({type:f.a})],K.prototype,\"geometryDefinition\",void 0),Object(o.a)([Object(p.b)({type:[\"point\",\"polygon\",\"polyline\",\"multipoint\"],json:{read:{reader:B.read}}})],K.prototype,\"geometryType\",void 0),Object(o.a)([Object(p.b)(F.c)],K.prototype,\"labelsVisible\",void 0),Object(o.a)([Object(p.b)({type:[_.a],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\",reader:V.a},write:{target:\"layerDefinition.drawingInfo.labelingInfo\"}}})],K.prototype,\"labelingInfo\",void 0),Object(o.a)([Object(p.b)(F.d)],K.prototype,\"legendEnabled\",void 0),Object(o.a)([Object(p.b)({type:[\"show\",\"hide\"]})],K.prototype,\"listMode\",void 0),Object(o.a)([Object(p.b)({type:l.a})],K.prototype,\"maxReconnectionAttempts\",void 0),Object(o.a)([Object(p.b)({type:l.a})],K.prototype,\"maxReconnectionInterval\",void 0),Object(o.a)([Object(p.b)({type:String})],K.prototype,\"objectIdField\",void 0),Object(o.a)([Object(p.b)({value:\"ArcGISStreamLayer\",type:[\"ArcGISStreamLayer\"]})],K.prototype,\"operationalLayerType\",void 0),Object(o.a)([Object(p.b)(F.g)],K.prototype,\"popupEnabled\",void 0),Object(o.a)([Object(p.b)({type:g.a,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],K.prototype,\"popupTemplate\",void 0),Object(o.a)([Object(p.b)({type:X})],K.prototype,\"purgeOptions\",void 0),Object(o.a)([Object(p.b)({types:k.a,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}}},write:{target:\"layerDefinition.drawingInfo.renderer\"}}})],K.prototype,\"renderer\",null),Object(o.a)([Object(d.a)(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),Object(d.a)(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],K.prototype,\"readRenderer\",null),Object(o.a)([Object(u.a)(\"renderer\")],K.prototype,\"writeRenderer\",null),Object(o.a)([Object(u.a)(\"web-scene\",\"renderer\",{\"layerDefinition.drawingInfo.renderer\":{types:k.b}})],K.prototype,\"writeWebSceneRenderer\",null),Object(o.a)([Object(p.b)(F.i)],K.prototype,\"screenSizePerspectiveEnabled\",void 0),Object(o.a)([Object(p.b)({type:h.a,json:{origins:{service:{read:{source:\"spatialReference\"}}}}})],K.prototype,\"spatialReference\",void 0),Object(o.a)([Object(p.b)({json:{read:!1}})],K.prototype,\"type\",void 0),Object(o.a)([Object(p.b)(F.j)],K.prototype,\"url\",void 0),Object(o.a)([Object(p.b)({type:Number})],K.prototype,\"updateInterval\",void 0),Object(o.a)([Object(p.b)({type:String})],K.prototype,\"webSocketUrl\",void 0),K=Object(o.a)([Object(y.a)(\"esri.layers.StreamLayer\")],K);const Q=Object(b.b)({types:w.a});t.default=K}}]);","name":"135.7ff31c7dc6a7f8534260.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[135],{\n\n/***/ \"u6iX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"pO5D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/global.js\nvar global = __webpack_require__(\"3r0u\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(\"wSAH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(\"srIe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(\"6S2I\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(\"zqDF\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(\"WbKI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js\nvar jsonMap = __webpack_require__(\"+opI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js\nvar reader = __webpack_require__(\"r88o\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js\nvar serializableProperty_reader = __webpack_require__(\"C4aV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js + 1 modules\nvar subclass = __webpack_require__(\"04ZG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js\nvar writer = __webpack_require__(\"Cduq\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(\"zlDU\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js\nvar urlUtils = __webpack_require__(\"4EHJ\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/uuid.js\nvar uuid = __webpack_require__(\"ju1D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/support/resourceExtension.js\nvar resourceExtension = __webpack_require__(\"9AIY\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(\"9MzC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js\nvar SpatialReference = __webpack_require__(\"WZb1\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js\nvar Extent = __webpack_require__(\"OvF4\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry.js\nvar geometry = __webpack_require__(\"4GrV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/fieldUtils.js\nvar fieldUtils = __webpack_require__(\"wdpY\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/PopupTemplate.js + 3 modules\nvar PopupTemplate = __webpack_require__(\"SFah\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(\"Lqtk\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/symbols.js + 10 modules\nvar symbols = __webpack_require__(\"nNR5\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/Layer.js\nvar Layer = __webpack_require__(\"pqNC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js + 2 modules\nvar MultiOriginJSONSupport = __webpack_require__(\"5pQd\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/ElevationInfo.js + 2 modules\nvar ElevationInfo = __webpack_require__(\"/RTN\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js\nvar commonProperties = __webpack_require__(\"IvSi\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js + 1 modules\nvar OperationalLayer = __webpack_require__(\"uRH/\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/Renderer.js + 4 modules\nvar Renderer = __webpack_require__(\"ZnuT\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js\nvar ClassBreaksRenderer = __webpack_require__(\"tCO6\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js\nvar UniqueValueRenderer = __webpack_require__(\"2gBT\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/DictionaryRenderer.js\nvar DictionaryRenderer = __webpack_require__(\"JhoD\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/DotDensityRenderer.js + 2 modules\nvar DotDensityRenderer = __webpack_require__(\"tI3Y\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/HeatmapRenderer.js + 1 modules\nvar HeatmapRenderer = __webpack_require__(\"R4xK\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/SimpleRenderer.js\nvar SimpleRenderer = __webpack_require__(\"/1dM\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/types.js\nvar types = __webpack_require__(\"XNvV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(\"+Xal\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js\nvar Field = __webpack_require__(\"ofM5\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FieldsIndex.js\nvar FieldsIndex = __webpack_require__(\"gLc9\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ArcGISService.js\nvar ArcGISService = __webpack_require__(\"PVlI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/BlendLayer.js\nvar BlendLayer = __webpack_require__(\"mXvl\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js\nvar PortalLayer = __webpack_require__(\"DbUH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js\nvar RefreshableLayer = __webpack_require__(\"jhcG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js\nvar ScaleRangeLayer = __webpack_require__(\"WmKv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js\nvar TemporalLayer = __webpack_require__(\"YBpl\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/LabelClass.js + 1 modules\nvar LabelClass = __webpack_require__(\"wkZP\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/featureReductionUtils.js\nvar featureReductionUtils = __webpack_require__(\"Bbcg\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/labelingInfo.js\nvar labelingInfo = __webpack_require__(\"EOvV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/styleUtils.js\nvar styleUtils = __webpack_require__(\"YOx9\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/popupUtils.js\nvar popupUtils = __webpack_require__(\"9Ruv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/support/Query.js\nvar Query = __webpack_require__(\"xk++\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js\nvar JSONSupport = __webpack_require__(\"ag7Y\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/PurgeOptions.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar PurgeOptions_t;let p=PurgeOptions_t=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(){super(...arguments),this.age=null,this.ageReceived=null,this.displayCount=null,this.maxObservations=1}clone(){return new PurgeOptions_t({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number,json:{write:!0}})],p.prototype,\"age\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number,json:{write:!0}})],p.prototype,\"ageReceived\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number,json:{write:!0}})],p.prototype,\"displayCount\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number,json:{write:!0}})],p.prototype,\"maxObservations\",void 0),p=PurgeOptions_t=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.PurgeOptions\")],p);var i=p;/* harmony default export */ var PurgeOptions = (i);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/StreamLayer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst $=Logger[\"a\" /* default */].getLogger(\"esri.layers.StreamLayer\"),ee=new jsonMap[\"a\" /* JSONMap */]({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\"});let re=class extends(Object(BlendLayer[\"a\" /* BlendLayer */])(Object(TemporalLayer[\"a\" /* TemporalLayer */])(Object(ScaleRangeLayer[\"a\" /* ScaleRangeLayer */])(Object(RefreshableLayer[\"a\" /* RefreshableLayer */])(Object(ArcGISService[\"a\" /* ArcGISService */])(Object(OperationalLayer[\"a\" /* OperationalLayer */])(Object(PortalLayer[\"a\" /* PortalLayer */])(Object(MultiOriginJSONSupport[\"a\" /* MultiOriginJSONMixin */])(Layer[\"a\" /* default */]))))))))){constructor(...e){super(...e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.geometryDefinition=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.maxReconnectionAttempts=0,this.maxReconnectionInterval=20,this.objectIdField=null,this.operationalLayerType=\"ArcGISStreamLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.purgeOptions=new PurgeOptions,this.screenSizePerspectiveEnabled=!0,this.sourceJSON=null,this.spatialReference=SpatialReference[\"a\" /* default */].WGS84,this.type=\"stream\",this.url=null,this.updateInterval=300,this.webSocketUrl=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){\"WebSocket\"in global[\"a\" /* default */]||Object(promiseUtils[\"t\" /* reject */])(new Error[\"a\" /* default */](\"stream-layer:websocket-unsupported\",\"WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service.\"));const o=Object(maybe[\"h\" /* isSome */])(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Stream Service\"]},e).catch((e=>e)).then((()=>this._fetchService(o)))),Object(promiseUtils[\"u\" /* resolve */])(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}readFeatureReduction(e,r){return Object(featureReductionUtils[\"a\" /* read */])(e,r)}writeWebSceneFeatureReduction(e,r,t,o){Object(featureReductionUtils[\"c\" /* writeTarget */])(e,r,\"layerDefinition.featureReduction\",o)}get fieldsIndex(){return new FieldsIndex[\"a\" /* default */](this.fields)}set renderer(e){Object(fieldUtils[\"j\" /* fixRendererFields */])(e,this.fields),this._set(\"renderer\",e)}readRenderer(e,r,t){const o=(r=r.layerDefinition||r).drawingInfo&&r.drawingInfo.renderer||void 0;if(o){const e=Object(jsonUtils[\"b\" /* read */])(o,r,t)||void 0;return e||$.error(\"Failed to create renderer\",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:t}),e}if(r.defaultSymbol)return r.types&&r.types.length?new UniqueValueRenderer[\"a\" /* default */]({defaultSymbol:te(r.defaultSymbol,r,t),field:r.typeIdField,uniqueValueInfos:r.types.map((e=>({id:e.id,symbol:te(e.symbol,e,t)})))}):new SimpleRenderer[\"a\" /* default */]({symbol:te(r.defaultSymbol,r,t)})}writeRenderer(e,r,t,o){Object(jsonUtils[\"c\" /* write */])(e,r,t,o)}writeWebSceneRenderer(e,r,t,o){Object(jsonUtils[\"c\" /* write */])(e,r,\"layerDefinition.drawingInfo.renderer\",o)}createPopupTemplate(e){return Object(popupUtils[\"a\" /* createPopupTemplate */])(this,e)}createQuery(){const e=new Query[\"a\" /* default */];return e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\",e}getFieldDomain(e,r){if(!this.fields)return null;let t=null;return this.fields.some((r=>(r.name===e&&(t=r.domain),!!t))),t}getField(e){return this.fieldsIndex.get(e)}async _fetchService(e){var r;if(!!this.webSocketUrl){var t;if(null==(t=this.timeInfo)||!t.trackIdField)throw new Error[\"a\" /* default */](\"stream-layer:missing-metadata\",\"The stream layer trackIdField must be specified.\");if(!this.objectIdField)throw new Error[\"a\" /* default */](\"stream-layer:missing-metadata\",\"The stream layer objectIdField must be specified.\");if(!this.fields)throw new Error[\"a\" /* default */](\"stream-layer:missing-metadata\",\"The stream layer fields must be specified.\");if(!this.geometryType)throw new Error[\"a\" /* default */](\"stream-layer:missing-metadata\",\"The stream layer geometryType must be specified.\");this.url=this.webSocketUrl}else if(!this.sourceJSON){const{data:r}=await Object(request[\"default\"])(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e});this.sourceJSON=r}return this.sourceJSON={...null!=(r=this.sourceJSON)?r:{},objectIdField:\"__esri_stream_id__\"},this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl}),Object(fieldUtils[\"j\" /* fixRendererFields */])(this.renderer,this.fields),Object(fieldUtils[\"k\" /* fixTimeInfoFields */])(this.timeInfo,this.fields),Object(styleUtils[\"a\" /* loadStyleRenderer */])(this,{origin:\"service\"})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],re.prototype,\"copyright\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,dependsOn:[\"fields\",\"title\"]})],re.prototype,\"defaultPopupTemplate\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],re.prototype,\"definitionExpression\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],re.prototype,\"displayField\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:ElevationInfo[\"a\" /* default */]})],re.prototype,\"elevationInfo\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"featureReduction\",[\"layerDefinition.featureReduction\"])],re.prototype,\"readFeatureReduction\",null),Object(tslib_es6[\"a\" /* _ */])([Object(writer[\"a\" /* writer */])(\"web-scene\",\"featureReduction\",{\"layerDefinition.featureReduction\":{types:featureReductionUtils[\"b\" /* webSceneFeatureReductionTypes */]}})],re.prototype,\"writeWebSceneFeatureReduction\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Field[\"a\" /* default */]]})],re.prototype,\"fields\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,dependsOn:[\"fields\"]})],re.prototype,\"fieldsIndex\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Extent[\"a\" /* default */]})],re.prototype,\"geometryDefinition\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"point\",\"polygon\",\"polyline\",\"multipoint\"],json:{read:{reader:ee.read}}})],re.prototype,\"geometryType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"c\" /* labelsVisible */])],re.prototype,\"labelsVisible\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[LabelClass[\"a\" /* default */]],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\",reader:labelingInfo[\"a\" /* reader */]},write:{target:\"layerDefinition.drawingInfo.labelingInfo\"}}})],re.prototype,\"labelingInfo\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"d\" /* legendEnabled */])],re.prototype,\"legendEnabled\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"show\",\"hide\"]})],re.prototype,\"listMode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:ensureType[\"a\" /* Integer */]})],re.prototype,\"maxReconnectionAttempts\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:ensureType[\"a\" /* Integer */]})],re.prototype,\"maxReconnectionInterval\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],re.prototype,\"objectIdField\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({value:\"ArcGISStreamLayer\",type:[\"ArcGISStreamLayer\"]})],re.prototype,\"operationalLayerType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"g\" /* popupEnabled */])],re.prototype,\"popupEnabled\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:PopupTemplate[\"a\" /* default */],json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],re.prototype,\"popupTemplate\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:PurgeOptions})],re.prototype,\"purgeOptions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({types:types[\"a\" /* rendererTypes */],json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}}},write:{target:\"layerDefinition.drawingInfo.renderer\"}}})],re.prototype,\"renderer\",null),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),Object(reader[\"a\" /* reader */])(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],re.prototype,\"readRenderer\",null),Object(tslib_es6[\"a\" /* _ */])([Object(writer[\"a\" /* writer */])(\"renderer\")],re.prototype,\"writeRenderer\",null),Object(tslib_es6[\"a\" /* _ */])([Object(writer[\"a\" /* writer */])(\"web-scene\",\"renderer\",{\"layerDefinition.drawingInfo.renderer\":{types:types[\"b\" /* webSceneRendererTypes */]}})],re.prototype,\"writeWebSceneRenderer\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"i\" /* screenSizePerspectiveEnabled */])],re.prototype,\"screenSizePerspectiveEnabled\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:SpatialReference[\"a\" /* default */],json:{origins:{service:{read:{source:\"spatialReference\"}}}}})],re.prototype,\"spatialReference\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({json:{read:!1}})],re.prototype,\"type\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"j\" /* url */])],re.prototype,\"url\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number})],re.prototype,\"updateInterval\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],re.prototype,\"webSocketUrl\",void 0),re=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.StreamLayer\")],re);const te=Object(serializableProperty_reader[\"b\" /* createTypeReader */])({types:symbols[\"a\"]});var oe=re;/* harmony default export */ var StreamLayer = __webpack_exports__[\"default\"] = (oe);\n\n\n/***/ })\n\n}]);","inputSourceMap":null}