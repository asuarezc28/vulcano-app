{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{yvy3:function(e,t,r){\"use strict\";r.r(t);var i=r(\"pO5D\"),o=(r(\"wSAH\"),r(\"srIe\")),s=(r(\"6S2I\"),r(\"zqDF\"),r(\"WbKI\")),a=r(\"r88o\"),n=r(\"04ZG\"),c=r(\"zlDU\"),p=r(\"/PL2\"),l=r(\"evjZ\"),y=r(\"Jpjp\"),d=r(\"4EHJ\"),u=r(\"ju1D\"),b=r(\"ku/q\"),h=r(\"9AIY\");function O(e){const t=Object(o.h)(e)&&e.origins?e.origins:[void 0];return(r,i)=>{const a=function(e,t,r){if(Object(o.h)(e)&&\"resource\"===e.type)return function(e,t,r){const i=Object(l.b)(t,r);return{type:String,read:(e,t,r)=>{const o=Object(p.d)(e,t,r);return i.type===String?o:\"function\"==typeof i.type?new i.type({url:o}):void 0},write:{writer(t,s,a,n){if(!n||!n.resources)return\"string\"==typeof t?void(s[a]=Object(p.e)(t,n)):void(s[a]=t.write({},n));const c=(O=t,Object(o.g)(O)?null:\"string\"==typeof O?O:O.url),l=c?Object(p.e)(c,{...n,verifyItemRelativeUrls:n&&n.verifyItemRelativeUrls?{writtenUrls:n.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}):null,u=i.type!==String&&(!Object(y.a)(this)||n&&n.origin&&this.originIdOf(r)>Object(b.d)(n.origin));var O;n&&n.portalItem&&Object(o.h)(l)&&!Object(d.s)(l)?u?function(e,t,r,i,o,s,a,n){const c=a.portalItem.resourceFromPath(i),p=m(r,i,a);Object(h.a)(p)===Object(d.n)(c.path)?(j(e,t,c,p,a.resources.toUpdate),o[s]=i):f(e,t,r,i,o,s,a,n)}(this,r,t,l,s,a,n,e):function(e,t,r,i){i.resources.toKeep.push({resource:i.portalItem.resourceFromPath(e)}),t[r]=e}(l,s,a,n):n&&n.portalItem&&(Object(o.g)(l)||Object(o.h)(Object(p.b)(l))||Object(d.t)(l)||u)?f(this,r,t,l,s,a,n,e):s[a]=l}}}}(e,t,r);switch(Object(o.h)(e)&&e.type?e.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:e,write:t}=p.c;return{read:e,write:t}}}}(e,r,i);for(const e of t){const t=Object(s.c)(r,e,i);for(const e in a)t[e]=a[e]}}}function f(e,t,i,s,a,n,c,p){const l=Object(u.a)(),y=m(i,s,c),b=Object(d.x)(Object(o.f)(p,\"prefix\"),l),O=`${b}.${Object(h.a)(y)}`,f=c.portalItem.resourceFromPath(O);Object(d.t)(s)&&c.resources.pendingOperations.push(async function(e){const t=(await Promise.resolve().then(r.bind(null,\"Lqtk\"))).default,{data:i}=await t(e,{responseType:\"blob\"});return i}(s).then(e=>{f.path=`${b}.${Object(h.a)(e)}`,a[n]=f.itemRelativeUrl}).catch(()=>{})),j(e,t,f,y,c.resources.toAdd),a[n]=f.itemRelativeUrl}function j(e,t,r,i,o){o.push({resource:r,content:i,finish:r=>{!function(e,t,r){\"string\"==typeof e[t]?e[t]=r.url:e[t].url=r.url}(e,t,r)}})}function m(e,t,r){return\"string\"==typeof e?{url:t}:new Blob([JSON.stringify(e.toJSON(r))],{type:\"application/json\"})}var v,g=r(\"r0DZ\"),w=r(\"pqNC\"),S=r(\"5pQd\"),I=r(\"N5XI\"),T=r(\"IvSi\"),R=r(\"uRH/\"),N=r(\"PVlI\"),_=r(\"DbUH\"),L=r(\"WmKv\"),U=r(\"XTTP\"),x=r(\"lq5k\"),J=r(\"ag7Y\"),M=r(\"LE9a\"),P=r(\"Lqtk\"),D=r(\"f/qv\"),q=r(\"ACjl\"),A=r(\"Cduq\"),k=r(\"Ehki\"),K=(r(\"4GrV\"),r(\"gYg2\"));let V=v=class extends J.a{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,t,r,i){if(i.layer&&i.layer.spatialReference&&!i.layer.spatialReference.equals(this.geometry.spatialReference)){if(!Object(K.a)(e.spatialReference,i.layer.spatialReference))return void(i&&i.messages&&i.messages.push(new q.a(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:i.layer.spatialReference,context:i})));const o=new k.a;Object(K.i)(e,o,i.layer.spatialReference),t[r]=o.toJSON(i)}else t[r]=e.toJSON(i);delete t[r].spatialReference}clone(){return new v({geometry:Object(D.a)(this.geometry),type:this.type})}};Object(i.a)([Object(s.b)({type:k.a}),O()],V.prototype,\"geometry\",void 0),Object(i.a)([Object(A.a)([\"web-scene\",\"portal-item\"],\"geometry\")],V.prototype,\"writeGeometry\",null),Object(i.a)([Object(s.b)({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),O()],V.prototype,\"type\",void 0),V=v=Object(i.a)([Object(n.a)(\"esri.layers.support.SceneModification\")],V);var F,z=V;let C=F=class extends(Object(J.b)(M.a.ofType(z))){constructor(e){super(e),this.url=null}toJSON(e){return this.toArray().map(t=>t.toJSON(e)).filter(e=>!!e.geometry)}clone(){return new F({url:this.url,items:this.items.map(e=>e.clone())})}_readModifications(e,t){for(const r of e)this.add(z.fromJSON(r,t))}static fromJSON(e,t){const r=new F;return r._readModifications(e,t),r}static async fromUrl(e,t,r){const i={url:Object(d.I)(e),origin:\"service\"},s=await Object(P.default)(e,{responseType:\"json\",signal:Object(o.f)(r,\"signal\")}),a=t.toJSON(),n=[];for(const o of s.data)n.push(z.fromJSON({...o,geometry:{...o.geometry,spatialReference:a}},i));return new F({url:e,items:n})}};Object(i.a)([Object(s.b)({type:String})],C.prototype,\"url\",void 0),C=F=Object(i.a)([Object(n.a)(\"esri.layers.support.SceneModifications\")],C);var E=C;let G=class extends(Object(x.a)(Object(N.a)(Object(R.a)(Object(_.a)(Object(L.a)(Object(S.a)(w.a))))))){constructor(...e){super(...e),this.handles=new g.a,this.geometryType=\"mesh\",this.operationalLayerType=\"IntegratedMeshLayer\",this.type=\"integrated-mesh\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile=\"mesh-pyramids\",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this.handles.destroy()}initialize(){this.handles.add(Object(I.b)(this,\"modifications\",\"after-changes\",()=>this.modifications=this.modifications,null,null,!0))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}readModifications(e,t,r){this._modificationsSource={url:Object(p.a)(e,r),context:r}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const t=Object(o.f)(e,\"signal\");try{await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e)}catch(e){}if(await this._fetchService(t),Object(o.h)(this._modificationsSource)){const t=await E.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin(\"modifications\",t,this._modificationsSource.context.origin),this._modificationsSource=null}await this._verifyRootNodeAndUpdateExtent(this.nodePages,t)}beforeSave(){if(!Object(o.g)(this._modificationsSource))return this.load().then(()=>{},()=>{})}async saveAs(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"},e)}async save(){return this._debouncedSaveOperations(0,{getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"})}validateLayer(e){if(e.layerType&&\"IntegratedMesh\"!==e.layerType)throw new c.a(\"integrated-mesh-layer:layer-type-not-supported\",\"IntegratedMeshLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new c.a(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"});if(this.version.major>1)throw new c.a(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"})}_getTypeKeywords(){return[\"IntegratedMeshLayer\"]}};Object(i.a)([Object(s.b)({type:String,readOnly:!0})],G.prototype,\"geometryType\",void 0),Object(i.a)([Object(s.b)({type:[\"show\",\"hide\"]})],G.prototype,\"listMode\",void 0),Object(i.a)([Object(s.b)({type:[\"IntegratedMeshLayer\"]})],G.prototype,\"operationalLayerType\",void 0),Object(i.a)([Object(s.b)({json:{read:!1},readOnly:!0})],G.prototype,\"type\",void 0),Object(i.a)([Object(s.b)({type:U.c,readOnly:!0})],G.prototype,\"nodePages\",void 0),Object(i.a)([Object(s.b)({type:[U.b],readOnly:!0})],G.prototype,\"materialDefinitions\",void 0),Object(i.a)([Object(s.b)({type:[U.d],readOnly:!0})],G.prototype,\"textureSetDefinitions\",void 0),Object(i.a)([Object(s.b)({type:[U.a],readOnly:!0})],G.prototype,\"geometryDefinitions\",void 0),Object(i.a)([Object(s.b)({readOnly:!0})],G.prototype,\"serviceUpdateTimeStamp\",void 0),Object(i.a)([Object(s.b)({type:E}),O({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"modifications\"})],G.prototype,\"modifications\",void 0),Object(i.a)([Object(a.a)([\"web-scene\",\"portal-item\"],\"modifications\")],G.prototype,\"readModifications\",null),Object(i.a)([Object(s.b)(T.b)],G.prototype,\"elevationInfo\",void 0),Object(i.a)([Object(s.b)({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],G.prototype,\"path\",void 0),G=Object(i.a)([Object(n.a)(\"esri.layers.IntegratedMeshLayer\")],G),t.default=G}}]);","name":"129.00fbc1e4d065b09ee1d6.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[129],{\n\n/***/ \"yvy3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"pO5D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(\"wSAH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(\"srIe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(\"6S2I\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(\"zqDF\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(\"WbKI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js\nvar reader = __webpack_require__(\"r88o\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js + 1 modules\nvar subclass = __webpack_require__(\"04ZG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(\"zlDU\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/persistableUrlUtils.js\nvar persistableUrlUtils = __webpack_require__(\"/PL2\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/metadata.js\nvar metadata = __webpack_require__(\"evjZ\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js\nvar multiOriginJSONSupportUtils = __webpack_require__(\"Jpjp\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js\nvar urlUtils = __webpack_require__(\"4EHJ\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/uuid.js\nvar uuid = __webpack_require__(\"ju1D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js\nvar PropertyOrigin = __webpack_require__(\"ku/q\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/support/resourceExtension.js\nvar resourceExtension = __webpack_require__(\"9AIY\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction persistable_g(e){const p=Object(maybe[\"h\" /* isSome */])(e)&&e.origins?e.origins:[void 0];return(c,g)=>{const j=function(e,i,p){if(Object(maybe[\"h\" /* isSome */])(e)&&\"resource\"===e.type)return function(e,i,p){const c=Object(metadata[\"b\" /* getOwnPropertyMetadata */])(i,p);return{type:String,read:(t,r,e)=>{const o=Object(persistableUrlUtils[\"d\" /* r */])(t,r,e);return c.type===String?o:\"function\"==typeof c.type?new c.type({url:o}):void 0},write:{writer(o,i,m,d){if(!d||!d.resources)return\"string\"==typeof o?void(i[m]=Object(persistableUrlUtils[\"e\" /* t */])(o,d)):void(i[m]=o.write({},d));const g=function(t){if(Object(maybe[\"g\" /* isNone */])(t))return null;if(\"string\"==typeof t)return t;return t.url}(o),j=g?Object(persistableUrlUtils[\"e\" /* t */])(g,{...d,verifyItemRelativeUrls:d&&d.verifyItemRelativeUrls?{writtenUrls:d.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}):null,I=c.type!==String&&(!Object(multiOriginJSONSupportUtils[\"a\" /* isMultiOriginJSONMixin */])(this)||d&&d.origin&&this.originIdOf(p)>Object(PropertyOrigin[\"d\" /* nameToId */])(d.origin));d&&d.portalItem&&Object(maybe[\"h\" /* isSome */])(j)&&!Object(urlUtils[\"s\" /* isAbsolute */])(j)?I?function(t,r,e,o,i,n,s,u){const p=s.portalItem.resourceFromPath(o),c=U(e,o,s),l=Object(resourceExtension[\"a\" /* getResourceContentExtension */])(c),m=Object(urlUtils[\"n\" /* getPathExtension */])(p.path);if(l!==m)return void v(t,r,e,o,i,n,s,u);w(t,r,p,c,s.resources.toUpdate),i[n]=o}(this,p,o,j,i,m,d,e):function(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}(j,i,m,d):d&&d.portalItem&&(Object(maybe[\"g\" /* isNone */])(j)||Object(maybe[\"h\" /* isSome */])(Object(persistableUrlUtils[\"b\" /* i */])(j))||Object(urlUtils[\"t\" /* isBlobProtocol */])(j)||I)?v(this,p,o,j,i,m,d,e):i[m]=j}}}}(e,i,p);switch(Object(maybe[\"h\" /* isSome */])(e)&&e.type?e.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=persistableUrlUtils[\"c\" /* p */];return{read:t,write:r}}}}(e,c,g);for(const t of p){const r=Object(property[\"c\" /* propertyJSONMeta */])(c,t,g);for(const t in j)r[t]=j[t]}}}function v(t,r,o,i,n,s,a,l){const m=Object(uuid[\"a\" /* generateUUID */])(),y=U(o,i,a),h=Object(urlUtils[\"x\" /* join */])(Object(maybe[\"f\" /* get */])(l,\"prefix\"),m),d=`${h}.${Object(resourceExtension[\"a\" /* getResourceContentExtension */])(y)}`,g=a.portalItem.resourceFromPath(d);Object(urlUtils[\"t\" /* isBlobProtocol */])(i)&&a.resources.pendingOperations.push(async function(t){const r=(await Promise.resolve(/* import() */).then(__webpack_require__.bind(null, \"Lqtk\"))).default,{data:e}=await r(t,{responseType:\"blob\"});return e}(i).then((t=>{g.path=`${h}.${Object(resourceExtension[\"a\" /* getResourceContentExtension */])(t)}`,n[s]=g.itemRelativeUrl})).catch((()=>{}))),w(t,r,g,y,a.resources.toAdd),n[s]=g.itemRelativeUrl}function w(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{!function(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}(t,r,e)}})}function U(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Handles.js\nvar Handles = __webpack_require__(\"r0DZ\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/Layer.js\nvar Layer = __webpack_require__(\"pqNC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js + 2 modules\nvar MultiOriginJSONSupport = __webpack_require__(\"5pQd\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/watchUtils.js\nvar watchUtils = __webpack_require__(\"N5XI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js\nvar commonProperties = __webpack_require__(\"IvSi\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js + 1 modules\nvar OperationalLayer = __webpack_require__(\"uRH/\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ArcGISService.js\nvar ArcGISService = __webpack_require__(\"PVlI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js\nvar PortalLayer = __webpack_require__(\"DbUH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js\nvar ScaleRangeLayer = __webpack_require__(\"WmKv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js\nvar I3SLayerDefinitions = __webpack_require__(\"XTTP\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/SceneService.js + 2 modules\nvar SceneService = __webpack_require__(\"lq5k\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js\nvar JSONSupport = __webpack_require__(\"ag7Y\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Collection.js\nvar Collection = __webpack_require__(\"LE9a\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(\"Lqtk\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js\nvar lang = __webpack_require__(\"f/qv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Warning.js\nvar Warning = __webpack_require__(\"ACjl\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js\nvar writer = __webpack_require__(\"Cduq\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polygon.js\nvar Polygon = __webpack_require__(\"Ehki\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry.js\nvar geometry = __webpack_require__(\"4GrV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/projection.js + 4 modules\nvar projection = __webpack_require__(\"gYg2\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/SceneModification.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar SceneModification_l;let SceneModification_y=SceneModification_l=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!Object(projection[\"a\" /* canProjectWithoutEngine */])(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new Warning[\"a\" /* default */](\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new Polygon[\"a\" /* default */];Object(projection[\"i\" /* projectPolygon */])(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new SceneModification_l({geometry:Object(lang[\"a\" /* clone */])(this.geometry),type:this.type})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Polygon[\"a\" /* default */]}),persistable_g()],SceneModification_y.prototype,\"geometry\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(writer[\"a\" /* writer */])([\"web-scene\",\"portal-item\"],\"geometry\")],SceneModification_y.prototype,\"writeGeometry\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),persistable_g()],SceneModification_y.prototype,\"type\",void 0),SceneModification_y=SceneModification_l=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.SceneModification\")],SceneModification_y);var f=SceneModification_y;/* harmony default export */ var SceneModification = (f);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/SceneModifications.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar SceneModifications_m;let SceneModifications_n=SceneModifications_m=class extends(Object(JSONSupport[\"b\" /* JSONSupportMixin */])(Collection[\"a\" /* default */].ofType(SceneModification))){constructor(r){super(r),this.url=null}toJSON(r){return this.toArray().map((o=>o.toJSON(r))).filter((r=>!!r.geometry))}clone(){return new SceneModifications_m({url:this.url,items:this.items.map((r=>r.clone()))})}_readModifications(r,o){for(const t of r)this.add(SceneModification.fromJSON(t,o))}static fromJSON(r,o){const t=new SceneModifications_m;return t._readModifications(r,o),t}static async fromUrl(r,t,e){const i={url:Object(urlUtils[\"I\" /* urlToObject */])(r),origin:\"service\"},c=await Object(request[\"default\"])(r,{responseType:\"json\",signal:Object(maybe[\"f\" /* get */])(e,\"signal\")}),n=t.toJSON(),u=[];for(const r of c.data)u.push(SceneModification.fromJSON({...r,geometry:{...r.geometry,spatialReference:n}},i));return new SceneModifications_m({url:r,items:u})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],SceneModifications_n.prototype,\"url\",void 0),SceneModifications_n=SceneModifications_m=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.SceneModifications\")],SceneModifications_n);var SceneModifications_u=SceneModifications_n;/* harmony default export */ var SceneModifications = (SceneModifications_u);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/IntegratedMeshLayer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nlet x=class extends(Object(SceneService[\"a\" /* SceneService */])(Object(ArcGISService[\"a\" /* ArcGISService */])(Object(OperationalLayer[\"a\" /* OperationalLayer */])(Object(PortalLayer[\"a\" /* PortalLayer */])(Object(ScaleRangeLayer[\"a\" /* ScaleRangeLayer */])(Object(MultiOriginJSONSupport[\"a\" /* MultiOriginJSONMixin */])(Layer[\"a\" /* default */]))))))){constructor(...e){super(...e),this.handles=new Handles[\"a\" /* default */],this.geometryType=\"mesh\",this.operationalLayerType=\"IntegratedMeshLayer\",this.type=\"integrated-mesh\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile=\"mesh-pyramids\",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this.handles.destroy()}initialize(){this.handles.add(Object(watchUtils[\"b\" /* on */])(this,\"modifications\",\"after-changes\",(()=>this.modifications=this.modifications),null,null,!0))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}readModifications(e,t,o){this._modificationsSource={url:Object(persistableUrlUtils[\"a\" /* f */])(e,o),context:o}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const r=Object(maybe[\"f\" /* get */])(e,\"signal\");try{await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e)}catch(e){}if(await this._fetchService(r),Object(maybe[\"h\" /* isSome */])(this._modificationsSource)){const t=await SceneModifications.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin(\"modifications\",t,this._modificationsSource.context.origin),this._modificationsSource=null}await this._verifyRootNodeAndUpdateExtent(this.nodePages,r)}beforeSave(){if(!Object(maybe[\"g\" /* isNone */])(this._modificationsSource))return this.load().then((()=>{}),(()=>{}))}async saveAs(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"};return this._debouncedSaveOperations(0,e)}validateLayer(e){if(e.layerType&&\"IntegratedMesh\"!==e.layerType)throw new Error[\"a\" /* default */](\"integrated-mesh-layer:layer-type-not-supported\",\"IntegratedMeshLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new Error[\"a\" /* default */](\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"});if(this.version.major>1)throw new Error[\"a\" /* default */](\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"})}_getTypeKeywords(){return[\"IntegratedMeshLayer\"]}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,readOnly:!0})],x.prototype,\"geometryType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"show\",\"hide\"]})],x.prototype,\"listMode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"IntegratedMeshLayer\"]})],x.prototype,\"operationalLayerType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({json:{read:!1},readOnly:!0})],x.prototype,\"type\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:I3SLayerDefinitions[\"c\" /* I3SNodePageDefinition */],readOnly:!0})],x.prototype,\"nodePages\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[I3SLayerDefinitions[\"b\" /* I3SMaterialDefinition */]],readOnly:!0})],x.prototype,\"materialDefinitions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[I3SLayerDefinitions[\"d\" /* I3STextureSetDefinition */]],readOnly:!0})],x.prototype,\"textureSetDefinitions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[I3SLayerDefinitions[\"a\" /* I3SGeometryDefinition */]],readOnly:!0})],x.prototype,\"geometryDefinitions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0})],x.prototype,\"serviceUpdateTimeStamp\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:SceneModifications}),persistable_g({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"modifications\"})],x.prototype,\"modifications\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])([\"web-scene\",\"portal-item\"],\"modifications\")],x.prototype,\"readModifications\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"b\" /* elevationInfo */])],x.prototype,\"elevationInfo\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],x.prototype,\"path\",void 0),x=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.IntegratedMeshLayer\")],x);var O=x;/* harmony default export */ var IntegratedMeshLayer = __webpack_exports__[\"default\"] = (O);\n\n\n/***/ })\n\n}]);","inputSourceMap":null}