{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{TWTt:function(e,t,r){\"use strict\";r.r(t);var i=r(\"pO5D\"),s=(r(\"wSAH\"),r(\"f/qv\")),a=r(\"srIe\"),o=r(\"6S2I\"),l=r(\"zqDF\"),n=r(\"WbKI\"),c=r(\"r88o\"),p=r(\"04ZG\"),d=r(\"zlDU\"),y=r(\"4EHJ\"),b=r(\"ju1D\"),u=(r(\"9AIY\"),r(\"9MzC\")),O=r(\"WZb1\"),j=r(\"OvF4\"),h=r(\"LE9a\"),f=r(\"GFPt\"),v=r(\"TRCY\"),g=r(\"pqNC\"),m=r(\"5pQd\"),w=r(\"IvSi\"),S=r(\"uRH/\"),I=r(\"PVlI\"),x=r(\"DbUH\"),T=r(\"WmKv\"),F=r(\"+opI\"),L=r(\"RI0u\"),B=r(\"SFah\"),q=r(\"Lqtk\"),E=r(\"+rMe\"),A=r(\"bV/r\"),R=r(\"/RTN\"),N=(r(\"ZnuT\"),r(\"tCO6\"),r(\"2gBT\"),r(\"JhoD\"),r(\"tI3Y\"),r(\"R4xK\"),r(\"/1dM\"),r(\"XNvV\")),k=(r(\"+Xal\"),r(\"gLc9\")),M=r(\"L+uT\"),_=r(\"9Ruv\"),P=r(\"xk++\"),D=r(\"W9Wu\"),Q=r(\"pdg3\");let U=class extends(Object(Q.a)(m.b)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(e,t){return\"string\"==typeof t.alias?t.alias:\"string\"==typeof t.name?t.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:void 0}};Object(i.a)([Object(n.b)({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],U.prototype,\"title\",void 0),Object(i.a)([Object(c.a)(\"service\",\"title\",[\"alias\",\"name\"])],U.prototype,\"readTitle\",null),Object(i.a)([Object(n.b)()],U.prototype,\"layer\",void 0),Object(i.a)([Object(n.b)({type:l.a,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],U.prototype,\"id\",void 0),Object(i.a)([Object(c.a)(\"service\",\"id\")],U.prototype,\"readIdOnlyOnce\",null),Object(i.a)([Object(n.b)(Object(w.h)(String))],U.prototype,\"modelName\",void 0),Object(i.a)([Object(n.b)(Object(w.h)(Boolean))],U.prototype,\"isEmpty\",void 0),Object(i.a)([Object(n.b)({type:Boolean,json:{name:\"visibility\",write:!0}})],U.prototype,\"visible\",void 0),Object(i.a)([Object(n.b)({type:Number,json:{write:!0}})],U.prototype,\"opacity\",void 0),U=Object(i.a)([Object(p.a)(\"esri.layers.buildingSublayers.BuildingSublayer\")],U);var C=U,V=r(\"fqtG\"),J=r(\"XTTP\");const K=Object(M.a)();let H=class extends(A.a.LoadableMixin(Object(E.b)(C))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new k.a(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,i=t.associatedLayerID;return Object(a.h)(r)&&\"number\"==typeof i?new D.default({portalItem:r,layerId:i}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return Object(a.h)(this.associatedLayer)?this.associatedLayer.displayField:null}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=Object(a.h)(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Object(u.u)(this)}createPopupTemplate(e){return Object(_.a)(this,e)}async _fetchService(e){const t=(await Object(q.default)(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e){const t=this.getField(e);return t&&t.domain?t.domain:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=Object(a.h)(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:V.a,{query:t,data:{supportsZ:r,supportsM:i,isVersioned:s}}=e;return{query:t,data:{supportsZ:r,supportsM:i,isVersioned:s}}}createQuery(){const e=new P.a;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryExtent(e||this.createQuery(),t))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryFeatureCount(e||this.createQuery(),t))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryFeatures(e||this.createQuery(),t)).then(e=>{if(e&&e.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this;return e})}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryObjectIds(e||this.createQuery(),t))}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:Object(a.h)(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return Object(a.h)(e)&&e.loaded?Object(u.u)(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),Object(a.g)(this.associatedLayer))throw new d.a(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new d.a(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};Object(i.a)([Object(n.b)({readOnly:!0,dependsOn:[\"layer\",\"id\"]})],H.prototype,\"parsedUrl\",null),Object(i.a)([Object(n.b)({type:J.c,readOnly:!0})],H.prototype,\"nodePages\",void 0),Object(i.a)([Object(n.b)({type:[J.b],readOnly:!0})],H.prototype,\"materialDefinitions\",void 0),Object(i.a)([Object(n.b)({type:[J.d],readOnly:!0})],H.prototype,\"textureSetDefinitions\",void 0),Object(i.a)([Object(n.b)({type:[J.a],readOnly:!0})],H.prototype,\"geometryDefinitions\",void 0),Object(i.a)([Object(n.b)({readOnly:!0})],H.prototype,\"serviceUpdateTimeStamp\",void 0),Object(i.a)([Object(n.b)({readOnly:!0})],H.prototype,\"store\",void 0),Object(i.a)([Object(n.b)({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],H.prototype,\"rootNode\",void 0),Object(i.a)([Object(n.b)({readOnly:!0})],H.prototype,\"attributeStorageInfo\",void 0),Object(i.a)([Object(n.b)(K.fields)],H.prototype,\"fields\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,dependsOn:[\"fields\"]})],H.prototype,\"fieldsIndex\",null),Object(i.a)([Object(n.b)({readOnly:!0,type:D.default})],H.prototype,\"associatedLayer\",void 0),Object(i.a)([Object(c.a)(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],H.prototype,\"readAssociatedLayer\",null),Object(i.a)([Object(n.b)(K.outFields)],H.prototype,\"outFields\",void 0),Object(i.a)([Object(n.b)({type:String,dependsOn:[\"fields\"],readOnly:!0})],H.prototype,\"objectIdField\",null),Object(i.a)([Object(n.b)({readOnly:!0,type:String,json:{read:!1},dependsOn:[\"associatedLayer.displayField\"]})],H.prototype,\"displayField\",null),Object(i.a)([Object(n.b)({readOnly:!0,type:j.a,aliasOf:\"layer.fullExtent\"})],H.prototype,\"fullExtent\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:O.a,aliasOf:\"layer.spatialReference\"})],H.prototype,\"spatialReference\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,aliasOf:\"layer.version\"})],H.prototype,\"version\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:R.a,aliasOf:\"layer.elevationInfo\"})],H.prototype,\"elevationInfo\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:Number,aliasOf:\"layer.minScale\"})],H.prototype,\"minScale\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:Number,aliasOf:\"layer.maxScale\"})],H.prototype,\"maxScale\",void 0),Object(i.a)([Object(n.b)({type:[\"hide\",\"show\"],json:{write:!0}})],H.prototype,\"listMode\",void 0),Object(i.a)([Object(n.b)({types:N.b,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],H.prototype,\"renderer\",void 0),Object(i.a)([Object(n.b)({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:\"layerDefinition.definitionExpression\"},write:{target:\"layerDefinition.definitionExpression\"}}})],H.prototype,\"definitionExpression\",void 0),Object(i.a)([Object(n.b)(w.g)],H.prototype,\"popupEnabled\",void 0),Object(i.a)([Object(n.b)({type:B.a,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],H.prototype,\"popupTemplate\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],H.prototype,\"normalReferenceFrame\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,json:{read:!1},dependsOn:[\"fields\",\"title\"]})],H.prototype,\"defaultPopupTemplate\",null),Object(i.a)([Object(n.b)({json:{write:!1}}),Object(L.a)(new F.a({\"3DObject\":\"3d-object\",Point:\"point\"}))],H.prototype,\"layerType\",void 0),Object(i.a)([Object(n.b)({dependsOn:[\"layerType\"]})],H.prototype,\"geometryType\",null),Object(i.a)([Object(n.b)({dependsOn:[\"layerType\"]})],H.prototype,\"profile\",null),Object(i.a)([Object(n.b)({readOnly:!0,json:{read:!1},dependsOn:[\"associatedLayer.capabilities\"]})],H.prototype,\"capabilities\",null),H=Object(i.a)([Object(p.a)(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],H);var W,Z=H,G=r(\"ACjl\");const Y={type:h.a,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:z}}},read:!1}};function z(e,t,r){if(e&&Array.isArray(e))return new h.a(e.map(e=>{const t=function(e){return\"group\"===e.layerType?X:Z}(e);if(t){const i=new t;return i.read(e,r),i}r&&r.messages&&e&&r.messages.push(new G.a(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(e.type||\"unknown\")+\"' are not supported\",{definition:e,context:r}))}))}let X=W=class extends C{constructor(e){super(e),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return Object(f.b)(this,e=>W.forEachSublayer(this.sublayers,t=>{\"building-group\"!==t.type&&e(t)}))}};var $;Object(i.a)([Object(n.b)({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],X.prototype,\"listMode\",void 0),Object(i.a)([Object(n.b)(Y)],X.prototype,\"sublayers\",void 0),X=W=Object(i.a)([Object(p.a)(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],X),($=X||(X={})).sublayersProperty=Y,$.readSublayers=z,$.forEachSublayer=function e(t,r){t.forEach(t=>{r(t),\"building-group\"===t.type&&e(t.sublayers,r)})};var ee=X,te=r(\"lq5k\"),re=r(\"ag7Y\");let ie=class extends re.a{constructor(){super(...arguments),this.type=null}};Object(i.a)([Object(n.b)({type:String,readOnly:!0,json:{write:!0}})],ie.prototype,\"type\",void 0),ie=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterAuthoringInfo\")],ie);var se,ae=ie;let oe=se=class extends re.a{constructor(){super(...arguments),this.filterType=null,this.filterValues=null}clone(){return new se({filterType:this.filterType,filterValues:Object(s.a)(this.filterValues)})}};var le;Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],oe.prototype,\"filterType\",void 0),Object(i.a)([Object(n.b)({type:[String],json:{write:!0}})],oe.prototype,\"filterValues\",void 0),oe=se=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterAuthoringInfoType\")],oe);const ne=h.a.ofType(oe);let ce=le=class extends re.a{clone(){return new le({filterTypes:Object(s.a)(this.filterTypes)})}};var pe;Object(i.a)([Object(n.b)({type:ne,json:{write:!0}})],ce.prototype,\"filterTypes\",void 0),ce=le=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterAuthoringInfoBlock\")],ce);const de=h.a.ofType(ce);let ye=pe=class extends ae{constructor(){super(...arguments),this.type=\"checkbox\"}clone(){return new pe({filterBlocks:Object(s.a)(this.filterBlocks)})}};Object(i.a)([Object(n.b)({type:[\"checkbox\"]})],ye.prototype,\"type\",void 0),Object(i.a)([Object(n.b)({type:de,json:{write:!0}})],ye.prototype,\"filterBlocks\",void 0),ye=pe=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterAuthoringInfoCheckbox\")],ye);var be=ye;let ue=class extends re.a{};Object(i.a)([Object(n.b)({readOnly:!0,json:{read:!1}})],ue.prototype,\"type\",void 0),ue=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterMode\")],ue);var Oe,je=ue;let he=Oe=class extends je{constructor(){super(...arguments),this.type=\"solid\"}clone(){return new Oe}};Object(i.a)([Object(n.b)({type:[\"solid\"],readOnly:!0,json:{write:!0}})],he.prototype,\"type\",void 0),he=Oe=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterModeSolid\")],he);var fe,ve=he,ge=r(\"9quj\");let me=fe=class extends je{constructor(){super(...arguments),this.type=\"wire-frame\",this.edges=null}clone(){return new fe({edges:Object(s.a)(this.edges)})}};Object(i.a)([Object(L.a)({wireFrame:\"wire-frame\"})],me.prototype,\"type\",void 0),Object(i.a)([Object(n.b)(ge.a)],me.prototype,\"edges\",void 0),me=fe=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterModeWireFrame\")],me);var we,Se=me;let Ie=we=class extends je{constructor(){super(...arguments),this.type=\"x-ray\"}clone(){return new we}};Object(i.a)([Object(n.b)({type:[\"x-ray\"],readOnly:!0,json:{write:!0}})],Ie.prototype,\"type\",void 0),Ie=we=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterModeXRay\")],Ie);var xe,Te=Ie;const Fe={nonNullable:!0,types:{key:\"type\",base:je,typeMap:{solid:ve,\"wire-frame\":Se,\"x-ray\":Te}},json:{read:e=>{switch(e&&e.type){case\"solid\":return ve.fromJSON(e);case\"wireFrame\":return Se.fromJSON(e);case\"x-ray\":return Te.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}};let Le=xe=class extends re.a{constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new ve,this.title=\"\"}clone(){return new xe({filterExpression:this.filterExpression,filterMode:Object(s.a)(this.filterMode),title:this.title})}};var Be;Object(i.a)([Object(n.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],Le.prototype,\"filterExpression\",void 0),Object(i.a)([Object(n.b)(Fe)],Le.prototype,\"filterMode\",void 0),Object(i.a)([Object(n.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],Le.prototype,\"title\",void 0),Le=xe=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilterBlock\")],Le);const qe=h.a.ofType(Le);let Ee=Be=class extends re.a{constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=Object(b.a)(),this.name=null}clone(){return new Be({description:this.description,filterBlocks:Object(s.a)(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:Object(s.a)(this.filterAuthoringInfo)})}};Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],Ee.prototype,\"description\",void 0),Object(i.a)([Object(n.b)({type:qe,json:{write:{enabled:!0,isRequired:!0}}})],Ee.prototype,\"filterBlocks\",void 0),Object(i.a)([Object(n.b)({types:{key:\"type\",base:ae,typeMap:{checkbox:be}},json:{read:e=>{switch(e&&e.type){case\"checkbox\":return be.fromJSON(e);default:return null}},write:!0}})],Ee.prototype,\"filterAuthoringInfo\",void 0),Object(i.a)([Object(n.b)({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],Ee.prototype,\"id\",void 0),Object(i.a)([Object(n.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],Ee.prototype,\"name\",void 0),Ee=Be=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFilter\")],Ee);var Ae=Ee;const Re=o.a.getLogger(\"esri.layers.support.BuildingSummaryStatistics\");let Ne=class extends re.a{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};Object(i.a)([Object(n.b)({type:String})],Ne.prototype,\"fieldName\",void 0),Object(i.a)([Object(n.b)({type:String})],Ne.prototype,\"modelName\",void 0),Object(i.a)([Object(n.b)({type:String})],Ne.prototype,\"label\",void 0),Object(i.a)([Object(n.b)({type:Number})],Ne.prototype,\"min\",void 0),Object(i.a)([Object(n.b)({type:Number})],Ne.prototype,\"max\",void 0),Object(i.a)([Object(n.b)({json:{read:e=>Array.isArray(e)&&(e.every(e=>\"string\"==typeof e)||e.every(e=>\"number\"==typeof e))?e.slice():null}})],Ne.prototype,\"mostFrequentValues\",void 0),Object(i.a)([Object(n.b)({type:[Number]})],Ne.prototype,\"subLayerIds\",void 0),Ne=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingFieldStatistics\")],Ne);let ke=class extends(A.a.LoadableMixin(Object(E.b)(re.a))){constructor(){super(...arguments),this.url=null}get fields(){return this.loaded||\"loading\"===this.loadStatus?this._get(\"fields\"):(Re.error(\"building summary statistics are not loaded\"),null)}load(e){const t=Object(a.h)(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Object(u.u)(this)}async _fetchService(e){const t=(await Object(q.default)(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\"})}};Object(i.a)([Object(n.b)({constructOnly:!0,type:String})],ke.prototype,\"url\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:[Ne],json:{read:{source:\"summary\"}}})],ke.prototype,\"fields\",null),ke=Object(i.a)([Object(p.a)(\"esri.layers.support.BuildingSummaryStatistics\")],ke);var Me=ke,_e=r(\"mYC1\");const Pe=o.a.getLogger(\"esri.layers.BuildingSceneLayer\"),De=h.a.ofType(Ae),Qe=Object(s.a)(ee.sublayersProperty);Qe.json.origins[\"web-scene\"]={type:[Z],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},Qe.json.origins[\"portal-item\"]={type:[Z],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}};let Ue=class extends(Object(te.a)(Object(I.a)(Object(S.a)(Object(x.a)(Object(T.a)(Object(m.a)(g.a))))))){constructor(e){super(e),this.operationalLayerType=\"BuildingSceneLayer\",this.allSublayers=new v.a({root:this,rootCollectionNames:[\"sublayers\"],getChildrenFunction:e=>\"building-group\"===e.type?e.sublayers:null}),this.sublayers=null,this.sublayerOverrides=null,this.filters=new De,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.type=\"building-scene\"}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e}destroy(){this.allSublayers.destroy()}readSublayers(e,t,r){const i=ee.readSublayers(e,t,r);return ee.forEachSublayer(i,e=>e.layer=this),this.sublayerOverrides&&(this.applySublayerOverrides(i,this.sublayerOverrides),this.sublayerOverrides=null),i}applySublayerOverrides(e,{overrides:t,context:r}){ee.forEachSublayer(e,e=>e.read(t.get(e.id),r))}readSublayerOverrides(e,t){const r=new Map;for(const i of e)null!=i&&\"object\"==typeof i&&\"number\"==typeof i.id?r.set(i.id,i):t.messages.push(new d.a(\"building-scene-layer:invalid-sublayer-override\",\"Invalid value for sublayer override. Not an object or no id specified.\",{value:i}));return{overrides:r,context:t}}writeSublayerOverrides(e,t,r){const i=[];ee.forEachSublayer(this.sublayers,e=>{const t=e.write({},r);Object.keys(t).length>1&&i.push(t)}),i.length>0&&(t.sublayers=i)}writeUnappliedOverrides(e,t){t.sublayers=[],e.overrides.forEach(e=>{t.sublayers.push(Object(s.a)(e))})}write(e,t){return e=super.write(e,t),!t||\"web-scene\"!==t.origin&&\"portal-item\"!==t.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,t):this.sublayerOverrides&&this.writeUnappliedOverrides(this.sublayerOverrides,e)),e}read(e,t){if(super.read(e,t),t&&(\"web-scene\"===t.origin||\"portal-item\"===t.origin)&&null!=e&&Array.isArray(e.sublayers)){const r=this.readSublayerOverrides(e.sublayers,t);this.sublayers?this.applySublayerOverrides(this.sublayers,r):this.sublayerOverrides=r}}readSummaryStatistics(e,t){if(\"string\"==typeof t.statisticsHRef){const e=Object(y.x)(this.parsedUrl.path,t.statisticsHRef);return new Me({url:e})}return null}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}load(e){const t=Object(a.h)(e)?e.signal:null,r=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(()=>{}).then(()=>this._fetchService(t)).then(()=>this._fetchAssociatedFeatureService(t));return this.addResolvingPromise(r),Object(u.u)(this)}loadAll(){return Object(f.a)(this,e=>{ee.forEachSublayer(this.sublayers,t=>{\"building-group\"!==t.type&&e(t)}),this.summaryStatistics&&e(this.summaryStatistics)})}async saveAs(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"},e)}async save(){return this._debouncedSaveOperations(0,{getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"})}validateLayer(e){if(!e.layerType||\"Building\"!==e.layerType)throw new d.a(\"buildingscenelayer:layer-type-not-supported\",\"BuildingSceneLayer does not support this layer type\",{layerType:e.layerType})}_getTypeKeywords(){return[\"Building\"]}_validateElevationInfo(){const e=this.elevationInfo;e&&(\"absolute-height\"!==e.mode&&Pe.warn(\".elevationInfo=\",\"Building scene layers only support absolute-height elevation mode\"),e.featureExpressionInfo&&\"0\"!==e.featureExpressionInfo.expression&&Pe.warn(\".elevationInfo=\",\"Building scene layers do not support featureExpressionInfo\"))}async _fetchAssociatedFeatureService(e){const t=new _e.a(this.parsedUrl,this.portalItem,e);try{this.associatedFeatureServiceItem=await t.fetchPortalItem()}catch(e){Pe.warn(\"Associated feature service item could not be loaded\",e)}}};Object(i.a)([Object(n.b)({type:[\"BuildingSceneLayer\"]})],Ue.prototype,\"operationalLayerType\",void 0),Object(i.a)([Object(n.b)({readOnly:!0})],Ue.prototype,\"allSublayers\",void 0),Object(i.a)([Object(n.b)(Qe)],Ue.prototype,\"sublayers\",void 0),Object(i.a)([Object(c.a)(\"service\",\"sublayers\")],Ue.prototype,\"readSublayers\",null),Object(i.a)([Object(n.b)({type:De,nonNullable:!0,json:{write:!0}})],Ue.prototype,\"filters\",void 0),Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],Ue.prototype,\"activeFilterId\",void 0),Object(i.a)([Object(n.b)({readOnly:!0,type:Me})],Ue.prototype,\"summaryStatistics\",void 0),Object(i.a)([Object(c.a)(\"summaryStatistics\",[\"statisticsHRef\"])],Ue.prototype,\"readSummaryStatistics\",null),Object(i.a)([Object(n.b)({type:[String],json:{read:!1}})],Ue.prototype,\"outFields\",void 0),Object(i.a)([Object(n.b)(Object(w.h)(j.a))],Ue.prototype,\"fullExtent\",void 0),Object(i.a)([Object(n.b)({type:[\"show\",\"hide\",\"hide-children\"]})],Ue.prototype,\"listMode\",void 0),Object(i.a)([Object(n.b)(Object(w.h)(O.a))],Ue.prototype,\"spatialReference\",void 0),Object(i.a)([Object(n.b)(w.b)],Ue.prototype,\"elevationInfo\",null),Object(i.a)([Object(n.b)({json:{read:!1},readOnly:!0})],Ue.prototype,\"type\",void 0),Object(i.a)([Object(n.b)()],Ue.prototype,\"associatedFeatureServiceItem\",void 0),Ue=Object(i.a)([Object(p.a)(\"esri.layers.BuildingSceneLayer\")],Ue),t.default=Ue}}]);","name":"126.e884a6696e1b458e4cb3.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[126],{\n\n/***/ \"TWTt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"pO5D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(\"wSAH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js\nvar lang = __webpack_require__(\"f/qv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(\"srIe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(\"6S2I\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(\"zqDF\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(\"WbKI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js\nvar reader = __webpack_require__(\"r88o\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js + 1 modules\nvar subclass = __webpack_require__(\"04ZG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(\"zlDU\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js\nvar urlUtils = __webpack_require__(\"4EHJ\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/uuid.js\nvar uuid = __webpack_require__(\"ju1D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/support/resourceExtension.js\nvar resourceExtension = __webpack_require__(\"9AIY\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(\"9MzC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js\nvar SpatialReference = __webpack_require__(\"WZb1\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js\nvar Extent = __webpack_require__(\"OvF4\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Collection.js\nvar Collection = __webpack_require__(\"LE9a\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/loadAll.js\nvar loadAll = __webpack_require__(\"GFPt\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/CollectionFlattener.js\nvar CollectionFlattener = __webpack_require__(\"TRCY\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/Layer.js\nvar Layer = __webpack_require__(\"pqNC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js + 2 modules\nvar MultiOriginJSONSupport = __webpack_require__(\"5pQd\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js\nvar commonProperties = __webpack_require__(\"IvSi\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js + 1 modules\nvar OperationalLayer = __webpack_require__(\"uRH/\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ArcGISService.js\nvar ArcGISService = __webpack_require__(\"PVlI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js\nvar PortalLayer = __webpack_require__(\"DbUH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js\nvar ScaleRangeLayer = __webpack_require__(\"WmKv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js\nvar jsonMap = __webpack_require__(\"+opI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js\nvar enumeration = __webpack_require__(\"RI0u\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/PopupTemplate.js + 3 modules\nvar PopupTemplate = __webpack_require__(\"SFah\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(\"Lqtk\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Promise.js\nvar Promise = __webpack_require__(\"+rMe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Loadable.js\nvar Loadable = __webpack_require__(\"bV/r\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/ElevationInfo.js + 2 modules\nvar ElevationInfo = __webpack_require__(\"/RTN\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/Renderer.js + 4 modules\nvar Renderer = __webpack_require__(\"ZnuT\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js\nvar ClassBreaksRenderer = __webpack_require__(\"tCO6\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js\nvar UniqueValueRenderer = __webpack_require__(\"2gBT\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/DictionaryRenderer.js\nvar DictionaryRenderer = __webpack_require__(\"JhoD\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/DotDensityRenderer.js + 2 modules\nvar DotDensityRenderer = __webpack_require__(\"tI3Y\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/HeatmapRenderer.js + 1 modules\nvar HeatmapRenderer = __webpack_require__(\"R4xK\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/SimpleRenderer.js\nvar SimpleRenderer = __webpack_require__(\"/1dM\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/types.js\nvar types = __webpack_require__(\"XNvV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(\"+Xal\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FieldsIndex.js\nvar FieldsIndex = __webpack_require__(\"gLc9\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/fieldProperties.js\nvar fieldProperties = __webpack_require__(\"L+uT\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/popupUtils.js\nvar popupUtils = __webpack_require__(\"9Ruv\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/support/Query.js\nvar Query = __webpack_require__(\"xk++\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/FeatureLayer.js + 22 modules\nvar FeatureLayer = __webpack_require__(\"W9Wu\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Identifiable.js\nvar Identifiable = __webpack_require__(\"pdg3\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nlet l=class extends(Object(Identifiable[\"a\" /* IdentifiableMixin */])(MultiOriginJSONSupport[\"b\" /* MultiOriginJSONSupport */])){constructor(r){super(r),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(r,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(r){return-1!==this.id?this.id:\"number\"==typeof r?r:void 0}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],l.prototype,\"title\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"service\",\"title\",[\"alias\",\"name\"])],l.prototype,\"readTitle\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])()],l.prototype,\"layer\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:ensureType[\"a\" /* Integer */],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,\"id\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"service\",\"id\")],l.prototype,\"readIdOnlyOnce\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(Object(commonProperties[\"h\" /* readOnlyService */])(String))],l.prototype,\"modelName\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(Object(commonProperties[\"h\" /* readOnlyService */])(Boolean))],l.prototype,\"isEmpty\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Boolean,json:{name:\"visibility\",write:!0}})],l.prototype,\"visible\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number,json:{write:!0}})],l.prototype,\"opacity\",void 0),l=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.buildingSublayers.BuildingSublayer\")],l);var n=l;/* harmony default export */ var BuildingSublayer = (n);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/capabilities.js\nvar capabilities = __webpack_require__(\"fqtG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js\nvar I3SLayerDefinitions = __webpack_require__(\"XTTP\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst D=Object(fieldProperties[\"a\" /* defineFieldProperties */])();let E=class extends(Loadable[\"a\" /* default */].LoadableMixin(Object(Promise[\"b\" /* EsriPromiseMixin */])(BuildingSublayer))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new FieldsIndex[\"a\" /* default */](this.fields)}readAssociatedLayer(e,t){const o=this.layer.associatedFeatureServiceItem,s=t.associatedLayerID;return Object(maybe[\"h\" /* isSome */])(o)&&\"number\"==typeof s?new FeatureLayer[\"default\"]({portalItem:o,layerId:s}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return Object(maybe[\"h\" /* isSome */])(this.associatedLayer)?this.associatedLayer.displayField:null}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=Object(maybe[\"h\" /* isSome */])(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Object(promiseUtils[\"u\" /* resolve */])(this)}createPopupTemplate(e){return Object(popupUtils[\"a\" /* createPopupTemplate */])(this,e)}async _fetchService(e){const r=(await Object(request[\"default\"])(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e){const r=this.getField(e);return r&&r.domain?r.domain:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=Object(maybe[\"h\" /* isSome */])(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:capabilities[\"a\" /* zeroCapabilities */],{query:t,data:{supportsZ:o,supportsM:s,isVersioned:i}}=e;return{query:t,data:{supportsZ:o,supportsM:s,isVersioned:i}}}createQuery(){const e=new Query[\"a\" /* default */];return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(e&&e.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:Object(maybe[\"h\" /* isSome */])(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return Object(maybe[\"h\" /* isSome */])(e)&&e.loaded?Object(promiseUtils[\"u\" /* resolve */])(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),Object(maybe[\"g\" /* isNone */])(this.associatedLayer))throw new Error[\"a\" /* default */](\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new Error[\"a\" /* default */](\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,dependsOn:[\"layer\",\"id\"]})],E.prototype,\"parsedUrl\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:I3SLayerDefinitions[\"c\" /* I3SNodePageDefinition */],readOnly:!0})],E.prototype,\"nodePages\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[I3SLayerDefinitions[\"b\" /* I3SMaterialDefinition */]],readOnly:!0})],E.prototype,\"materialDefinitions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[I3SLayerDefinitions[\"d\" /* I3STextureSetDefinition */]],readOnly:!0})],E.prototype,\"textureSetDefinitions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[I3SLayerDefinitions[\"a\" /* I3SGeometryDefinition */]],readOnly:!0})],E.prototype,\"geometryDefinitions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0})],E.prototype,\"serviceUpdateTimeStamp\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0})],E.prototype,\"store\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],E.prototype,\"rootNode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0})],E.prototype,\"attributeStorageInfo\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(D.fields)],E.prototype,\"fields\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,dependsOn:[\"fields\"]})],E.prototype,\"fieldsIndex\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:FeatureLayer[\"default\"]})],E.prototype,\"associatedLayer\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],E.prototype,\"readAssociatedLayer\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(D.outFields)],E.prototype,\"outFields\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,dependsOn:[\"fields\"],readOnly:!0})],E.prototype,\"objectIdField\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:String,json:{read:!1},dependsOn:[\"associatedLayer.displayField\"]})],E.prototype,\"displayField\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:Extent[\"a\" /* default */],aliasOf:\"layer.fullExtent\"})],E.prototype,\"fullExtent\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:SpatialReference[\"a\" /* default */],aliasOf:\"layer.spatialReference\"})],E.prototype,\"spatialReference\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,aliasOf:\"layer.version\"})],E.prototype,\"version\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:ElevationInfo[\"a\" /* default */],aliasOf:\"layer.elevationInfo\"})],E.prototype,\"elevationInfo\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:Number,aliasOf:\"layer.minScale\"})],E.prototype,\"minScale\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:Number,aliasOf:\"layer.maxScale\"})],E.prototype,\"maxScale\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"hide\",\"show\"],json:{write:!0}})],E.prototype,\"listMode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({types:types[\"b\" /* webSceneRendererTypes */],json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],E.prototype,\"renderer\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:\"layerDefinition.definitionExpression\"},write:{target:\"layerDefinition.definitionExpression\"}}})],E.prototype,\"definitionExpression\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"g\" /* popupEnabled */])],E.prototype,\"popupEnabled\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:PopupTemplate[\"a\" /* default */],json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],E.prototype,\"popupTemplate\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],E.prototype,\"normalReferenceFrame\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,json:{read:!1},dependsOn:[\"fields\",\"title\"]})],E.prototype,\"defaultPopupTemplate\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({json:{write:!1}}),Object(enumeration[\"a\" /* enumeration */])(new jsonMap[\"a\" /* JSONMap */]({\"3DObject\":\"3d-object\",Point:\"point\"}))],E.prototype,\"layerType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({dependsOn:[\"layerType\"]})],E.prototype,\"geometryType\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({dependsOn:[\"layerType\"]})],E.prototype,\"profile\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,json:{read:!1},dependsOn:[\"associatedLayer.capabilities\"]})],E.prototype,\"capabilities\",null),E=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],E);var Q=E;/* harmony default export */ var BuildingComponentSublayer = (Q);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Warning.js\nvar Warning = __webpack_require__(\"ACjl\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar p;const a={type:Collection[\"a\" /* default */],readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:BuildingGroupSublayer_l}}},read:!1}};function BuildingGroupSublayer_l(r,e,s){if(r&&Array.isArray(r))return new Collection[\"a\" /* default */](r.map((r=>{const e=function(r){return\"group\"===r.layerType?c:BuildingComponentSublayer}(r);if(e){const o=new e;return o.read(r,s),o}s&&s.messages&&r&&s.messages.push(new Warning[\"a\" /* default */](\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:s}))})))}let c=p=class extends BuildingSublayer{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return Object(loadAll[\"b\" /* loadAllChildren */])(this,(r=>p.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(a)],c.prototype,\"sublayers\",void 0),c=p=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){r.sublayersProperty=a,r.readSublayers=BuildingGroupSublayer_l,r.forEachSublayer=function r(e,o){e.forEach((e=>{o(e),\"building-group\"===e.type&&r(e.sublayers,o)}))}}(c||(c={}));var y=c;/* harmony default export */ var BuildingGroupSublayer = (y);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/SceneService.js + 2 modules\nvar SceneService = __webpack_require__(\"lq5k\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js\nvar JSONSupport = __webpack_require__(\"ag7Y\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfo.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nlet BuildingFilterAuthoringInfo_e=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(){super(...arguments),this.type=null}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,readOnly:!0,json:{write:!0}})],BuildingFilterAuthoringInfo_e.prototype,\"type\",void 0),BuildingFilterAuthoringInfo_e=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterAuthoringInfo\")],BuildingFilterAuthoringInfo_e);var BuildingFilterAuthoringInfo_p=BuildingFilterAuthoringInfo_e;/* harmony default export */ var BuildingFilterAuthoringInfo = (BuildingFilterAuthoringInfo_p);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoType.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterAuthoringInfoType_p;let BuildingFilterAuthoringInfoType_i=BuildingFilterAuthoringInfoType_p=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(){super(...arguments),this.filterType=null,this.filterValues=null}clone(){return new BuildingFilterAuthoringInfoType_p({filterType:this.filterType,filterValues:Object(lang[\"a\" /* clone */])(this.filterValues)})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{write:!0}})],BuildingFilterAuthoringInfoType_i.prototype,\"filterType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[String],json:{write:!0}})],BuildingFilterAuthoringInfoType_i.prototype,\"filterValues\",void 0),BuildingFilterAuthoringInfoType_i=BuildingFilterAuthoringInfoType_p=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterAuthoringInfoType\")],BuildingFilterAuthoringInfoType_i);var BuildingFilterAuthoringInfoType_l=BuildingFilterAuthoringInfoType_i;/* harmony default export */ var BuildingFilterAuthoringInfoType = (BuildingFilterAuthoringInfoType_l);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoBlock.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterAuthoringInfoBlock_c;const BuildingFilterAuthoringInfoBlock_l=Collection[\"a\" /* default */].ofType(BuildingFilterAuthoringInfoType);let m=BuildingFilterAuthoringInfoBlock_c=class extends JSONSupport[\"a\" /* JSONSupport */]{clone(){return new BuildingFilterAuthoringInfoBlock_c({filterTypes:Object(lang[\"a\" /* clone */])(this.filterTypes)})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:BuildingFilterAuthoringInfoBlock_l,json:{write:!0}})],m.prototype,\"filterTypes\",void 0),m=BuildingFilterAuthoringInfoBlock_c=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterAuthoringInfoBlock\")],m);var u=m;/* harmony default export */ var BuildingFilterAuthoringInfoBlock = (u);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoCheckbox.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterAuthoringInfoCheckbox_c;const BuildingFilterAuthoringInfoCheckbox_l=Collection[\"a\" /* default */].ofType(BuildingFilterAuthoringInfoBlock);let BuildingFilterAuthoringInfoCheckbox_n=BuildingFilterAuthoringInfoCheckbox_c=class extends BuildingFilterAuthoringInfo{constructor(){super(...arguments),this.type=\"checkbox\"}clone(){return new BuildingFilterAuthoringInfoCheckbox_c({filterBlocks:Object(lang[\"a\" /* clone */])(this.filterBlocks)})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"checkbox\"]})],BuildingFilterAuthoringInfoCheckbox_n.prototype,\"type\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:BuildingFilterAuthoringInfoCheckbox_l,json:{write:!0}})],BuildingFilterAuthoringInfoCheckbox_n.prototype,\"filterBlocks\",void 0),BuildingFilterAuthoringInfoCheckbox_n=BuildingFilterAuthoringInfoCheckbox_c=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterAuthoringInfoCheckbox\")],BuildingFilterAuthoringInfoCheckbox_n);var BuildingFilterAuthoringInfoCheckbox_u=BuildingFilterAuthoringInfoCheckbox_n;/* harmony default export */ var BuildingFilterAuthoringInfoCheckbox = (BuildingFilterAuthoringInfoCheckbox_u);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterMode.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nlet BuildingFilterMode_t=class extends JSONSupport[\"a\" /* JSONSupport */]{};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,json:{read:!1}})],BuildingFilterMode_t.prototype,\"type\",void 0),BuildingFilterMode_t=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterMode\")],BuildingFilterMode_t);var BuildingFilterMode_p=BuildingFilterMode_t;/* harmony default export */ var BuildingFilterMode = (BuildingFilterMode_p);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterModeSolid.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterModeSolid_t;let BuildingFilterModeSolid_p=BuildingFilterModeSolid_t=class extends BuildingFilterMode{constructor(){super(...arguments),this.type=\"solid\"}clone(){return new BuildingFilterModeSolid_t}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"solid\"],readOnly:!0,json:{write:!0}})],BuildingFilterModeSolid_p.prototype,\"type\",void 0),BuildingFilterModeSolid_p=BuildingFilterModeSolid_t=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterModeSolid\")],BuildingFilterModeSolid_p);var BuildingFilterModeSolid_i=BuildingFilterModeSolid_p;/* harmony default export */ var BuildingFilterModeSolid = (BuildingFilterModeSolid_i);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/edges/utils.js + 3 modules\nvar utils = __webpack_require__(\"9quj\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterModeWireFrame.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterModeWireFrame_c;let BuildingFilterModeWireFrame_m=BuildingFilterModeWireFrame_c=class extends BuildingFilterMode{constructor(){super(...arguments),this.type=\"wire-frame\",this.edges=null}clone(){return new BuildingFilterModeWireFrame_c({edges:Object(lang[\"a\" /* clone */])(this.edges)})}};Object(tslib_es6[\"a\" /* _ */])([Object(enumeration[\"a\" /* enumeration */])({wireFrame:\"wire-frame\"})],BuildingFilterModeWireFrame_m.prototype,\"type\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(utils[\"a\" /* symbol3dEdgesProperty */])],BuildingFilterModeWireFrame_m.prototype,\"edges\",void 0),BuildingFilterModeWireFrame_m=BuildingFilterModeWireFrame_c=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterModeWireFrame\")],BuildingFilterModeWireFrame_m);var BuildingFilterModeWireFrame_a=BuildingFilterModeWireFrame_m;/* harmony default export */ var BuildingFilterModeWireFrame = (BuildingFilterModeWireFrame_a);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterModeXRay.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterModeXRay_t;let BuildingFilterModeXRay_p=BuildingFilterModeXRay_t=class extends BuildingFilterMode{constructor(){super(...arguments),this.type=\"x-ray\"}clone(){return new BuildingFilterModeXRay_t}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"x-ray\"],readOnly:!0,json:{write:!0}})],BuildingFilterModeXRay_p.prototype,\"type\",void 0),BuildingFilterModeXRay_p=BuildingFilterModeXRay_t=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterModeXRay\")],BuildingFilterModeXRay_p);var BuildingFilterModeXRay_i=BuildingFilterModeXRay_p;/* harmony default export */ var BuildingFilterModeXRay = (BuildingFilterModeXRay_i);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilterBlock.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilterBlock_a;const d={nonNullable:!0,types:{key:\"type\",base:BuildingFilterMode,typeMap:{solid:BuildingFilterModeSolid,\"wire-frame\":BuildingFilterModeWireFrame,\"x-ray\":BuildingFilterModeXRay}},json:{read:r=>{switch(r&&r.type){case\"solid\":return BuildingFilterModeSolid.fromJSON(r);case\"wireFrame\":return BuildingFilterModeWireFrame.fromJSON(r);case\"x-ray\":return BuildingFilterModeXRay.fromJSON(r);default:return}},write:{enabled:!0,isRequired:!0}}};let BuildingFilterBlock_u=BuildingFilterBlock_a=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new BuildingFilterModeSolid,this.title=\"\"}clone(){return new BuildingFilterBlock_a({filterExpression:this.filterExpression,filterMode:Object(lang[\"a\" /* clone */])(this.filterMode),title:this.title})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{write:{enabled:!0,isRequired:!0}}})],BuildingFilterBlock_u.prototype,\"filterExpression\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(d)],BuildingFilterBlock_u.prototype,\"filterMode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{write:{enabled:!0,isRequired:!0}}})],BuildingFilterBlock_u.prototype,\"title\",void 0),BuildingFilterBlock_u=BuildingFilterBlock_a=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilterBlock\")],BuildingFilterBlock_u);var BuildingFilterBlock_c=BuildingFilterBlock_u;/* harmony default export */ var BuildingFilterBlock = (BuildingFilterBlock_c);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingFilter.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar BuildingFilter_u;const BuildingFilter_d=Collection[\"a\" /* default */].ofType(BuildingFilterBlock);let BuildingFilter_m=BuildingFilter_u=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=Object(uuid[\"a\" /* generateUUID */])(),this.name=null}clone(){return new BuildingFilter_u({description:this.description,filterBlocks:Object(lang[\"a\" /* clone */])(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:Object(lang[\"a\" /* clone */])(this.filterAuthoringInfo)})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{write:!0}})],BuildingFilter_m.prototype,\"description\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:BuildingFilter_d,json:{write:{enabled:!0,isRequired:!0}}})],BuildingFilter_m.prototype,\"filterBlocks\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({types:{key:\"type\",base:BuildingFilterAuthoringInfo,typeMap:{checkbox:BuildingFilterAuthoringInfoCheckbox}},json:{read:r=>{switch(r&&r.type){case\"checkbox\":return BuildingFilterAuthoringInfoCheckbox.fromJSON(r);default:return null}},write:!0}})],BuildingFilter_m.prototype,\"filterAuthoringInfo\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],BuildingFilter_m.prototype,\"id\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{write:{enabled:!0,isRequired:!0}}})],BuildingFilter_m.prototype,\"name\",void 0),BuildingFilter_m=BuildingFilter_u=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFilter\")],BuildingFilter_m);var BuildingFilter_a=BuildingFilter_m;/* harmony default export */ var BuildingFilter = (BuildingFilter_a);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/BuildingSummaryStatistics.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst BuildingSummaryStatistics_n=Logger[\"a\" /* default */].getLogger(\"esri.layers.support.BuildingSummaryStatistics\");let BuildingSummaryStatistics_m=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],BuildingSummaryStatistics_m.prototype,\"fieldName\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],BuildingSummaryStatistics_m.prototype,\"modelName\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String})],BuildingSummaryStatistics_m.prototype,\"label\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number})],BuildingSummaryStatistics_m.prototype,\"min\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:Number})],BuildingSummaryStatistics_m.prototype,\"max\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({json:{read:r=>Array.isArray(r)&&(r.every((r=>\"string\"==typeof r))||r.every((r=>\"number\"==typeof r)))?r.slice():null}})],BuildingSummaryStatistics_m.prototype,\"mostFrequentValues\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Number]})],BuildingSummaryStatistics_m.prototype,\"subLayerIds\",void 0),BuildingSummaryStatistics_m=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingFieldStatistics\")],BuildingSummaryStatistics_m);let BuildingSummaryStatistics_c=class extends(Loadable[\"a\" /* default */].LoadableMixin(Object(Promise[\"b\" /* EsriPromiseMixin */])(JSONSupport[\"a\" /* JSONSupport */]))){constructor(){super(...arguments),this.url=null}get fields(){return this.loaded||\"loading\"===this.loadStatus?this._get(\"fields\"):(BuildingSummaryStatistics_n.error(\"building summary statistics are not loaded\"),null)}load(r){const t=Object(maybe[\"h\" /* isSome */])(r)?r.signal:null;return this.addResolvingPromise(this._fetchService(t)),Object(promiseUtils[\"u\" /* resolve */])(this)}async _fetchService(r){const e=(await Object(request[\"default\"])(this.url,{query:{f:\"json\"},responseType:\"json\",signal:r})).data;this.read(e,{origin:\"service\"})}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({constructOnly:!0,type:String})],BuildingSummaryStatistics_c.prototype,\"url\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:[BuildingSummaryStatistics_m],json:{read:{source:\"summary\"}}})],BuildingSummaryStatistics_c.prototype,\"fields\",null),BuildingSummaryStatistics_c=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.support.BuildingSummaryStatistics\")],BuildingSummaryStatistics_c);var BuildingSummaryStatistics_d=BuildingSummaryStatistics_c;/* harmony default export */ var BuildingSummaryStatistics = (BuildingSummaryStatistics_d);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FetchAssociatedFeatureLayer.js\nvar FetchAssociatedFeatureLayer = __webpack_require__(\"mYC1\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/BuildingSceneLayer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst F=Logger[\"a\" /* default */].getLogger(\"esri.layers.BuildingSceneLayer\"),B=Collection[\"a\" /* default */].ofType(BuildingFilter),_=Object(lang[\"a\" /* clone */])(BuildingGroupSublayer.sublayersProperty);_.json.origins[\"web-scene\"]={type:[BuildingComponentSublayer],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},_.json.origins[\"portal-item\"]={type:[BuildingComponentSublayer],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}};let A=class extends(Object(SceneService[\"a\" /* SceneService */])(Object(ArcGISService[\"a\" /* ArcGISService */])(Object(OperationalLayer[\"a\" /* OperationalLayer */])(Object(PortalLayer[\"a\" /* PortalLayer */])(Object(ScaleRangeLayer[\"a\" /* ScaleRangeLayer */])(Object(MultiOriginJSONSupport[\"a\" /* MultiOriginJSONMixin */])(Layer[\"a\" /* default */]))))))){constructor(e){super(e),this.operationalLayerType=\"BuildingSceneLayer\",this.allSublayers=new CollectionFlattener[\"a\" /* default */]({root:this,rootCollectionNames:[\"sublayers\"],getChildrenFunction:e=>\"building-group\"===e.type?e.sublayers:null}),this.sublayers=null,this.sublayerOverrides=null,this.filters=new B,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.type=\"building-scene\"}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e}destroy(){this.allSublayers.destroy()}readSublayers(e,r,t){const s=BuildingGroupSublayer.readSublayers(e,r,t);return BuildingGroupSublayer.forEachSublayer(s,(e=>e.layer=this)),this.sublayerOverrides&&(this.applySublayerOverrides(s,this.sublayerOverrides),this.sublayerOverrides=null),s}applySublayerOverrides(e,{overrides:r,context:t}){BuildingGroupSublayer.forEachSublayer(e,(e=>e.read(r.get(e.id),t)))}readSublayerOverrides(e,r){const t=new Map;for(const s of e)null!=s&&\"object\"==typeof s&&\"number\"==typeof s.id?t.set(s.id,s):r.messages.push(new Error[\"a\" /* default */](\"building-scene-layer:invalid-sublayer-override\",\"Invalid value for sublayer override. Not an object or no id specified.\",{value:s}));return{overrides:t,context:r}}writeSublayerOverrides(e,r,t){const s=[];BuildingGroupSublayer.forEachSublayer(this.sublayers,(e=>{const r=e.write({},t);Object.keys(r).length>1&&s.push(r)})),s.length>0&&(r.sublayers=s)}writeUnappliedOverrides(e,t){t.sublayers=[],e.overrides.forEach((e=>{t.sublayers.push(Object(lang[\"a\" /* clone */])(e))}))}write(e,r){return e=super.write(e,r),!r||\"web-scene\"!==r.origin&&\"portal-item\"!==r.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,r):this.sublayerOverrides&&this.writeUnappliedOverrides(this.sublayerOverrides,e)),e}read(e,r){if(super.read(e,r),r&&(\"web-scene\"===r.origin||\"portal-item\"===r.origin)&&null!=e&&Array.isArray(e.sublayers)){const t=this.readSublayerOverrides(e.sublayers,r);this.sublayers?this.applySublayerOverrides(this.sublayers,t):this.sublayerOverrides=t}}readSummaryStatistics(e,r){if(\"string\"==typeof r.statisticsHRef){const e=Object(urlUtils[\"x\" /* join */])(this.parsedUrl.path,r.statisticsHRef);return new BuildingSummaryStatistics({url:e})}return null}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}load(e){const r=Object(maybe[\"h\" /* isSome */])(e)?e.signal:null,s=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch((()=>{})).then((()=>this._fetchService(r))).then((()=>this._fetchAssociatedFeatureService(r)));return this.addResolvingPromise(s),Object(promiseUtils[\"u\" /* resolve */])(this)}loadAll(){return Object(loadAll[\"a\" /* loadAll */])(this,(e=>{BuildingGroupSublayer.forEachSublayer(this.sublayers,(r=>{\"building-group\"!==r.type&&e(r)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,r){return this._debouncedSaveOperations(1,{...r,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"};return this._debouncedSaveOperations(0,e)}validateLayer(e){if(!e.layerType||\"Building\"!==e.layerType)throw new Error[\"a\" /* default */](\"buildingscenelayer:layer-type-not-supported\",\"BuildingSceneLayer does not support this layer type\",{layerType:e.layerType})}_getTypeKeywords(){return[\"Building\"]}_validateElevationInfo(){const e=this.elevationInfo;e&&(\"absolute-height\"!==e.mode&&F.warn(\".elevationInfo=\",\"Building scene layers only support absolute-height elevation mode\"),e.featureExpressionInfo&&\"0\"!==e.featureExpressionInfo.expression&&F.warn(\".elevationInfo=\",\"Building scene layers do not support featureExpressionInfo\"))}async _fetchAssociatedFeatureService(e){const r=new FetchAssociatedFeatureLayer[\"a\" /* FetchAssociatedFeatureLayer */](this.parsedUrl,this.portalItem,e);try{this.associatedFeatureServiceItem=await r.fetchPortalItem()}catch(e){F.warn(\"Associated feature service item could not be loaded\",e)}}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"BuildingSceneLayer\"]})],A.prototype,\"operationalLayerType\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0})],A.prototype,\"allSublayers\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(_)],A.prototype,\"sublayers\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"service\",\"sublayers\")],A.prototype,\"readSublayers\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:B,nonNullable:!0,json:{write:!0}})],A.prototype,\"filters\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:String,json:{write:!0}})],A.prototype,\"activeFilterId\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({readOnly:!0,type:BuildingSummaryStatistics})],A.prototype,\"summaryStatistics\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"summaryStatistics\",[\"statisticsHRef\"])],A.prototype,\"readSummaryStatistics\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[String],json:{read:!1}})],A.prototype,\"outFields\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(Object(commonProperties[\"h\" /* readOnlyService */])(Extent[\"a\" /* default */]))],A.prototype,\"fullExtent\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[\"show\",\"hide\",\"hide-children\"]})],A.prototype,\"listMode\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(Object(commonProperties[\"h\" /* readOnlyService */])(SpatialReference[\"a\" /* default */]))],A.prototype,\"spatialReference\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])(commonProperties[\"b\" /* elevationInfo */])],A.prototype,\"elevationInfo\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({json:{read:!1},readOnly:!0})],A.prototype,\"type\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])()],A.prototype,\"associatedFeatureServiceItem\",void 0),A=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.layers.BuildingSceneLayer\")],A);var P=A;/* harmony default export */ var BuildingSceneLayer = __webpack_exports__[\"default\"] = (P);\n\n\n/***/ })\n\n}]);","inputSourceMap":null}