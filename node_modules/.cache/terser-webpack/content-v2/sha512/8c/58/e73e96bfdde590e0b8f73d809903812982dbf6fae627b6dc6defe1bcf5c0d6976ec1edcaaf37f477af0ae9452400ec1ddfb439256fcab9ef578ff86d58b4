{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{P3Vg:function(e,t,s){\"use strict\";s.r(t),s.d(t,\"Colorize\",function(){return n}),s(\"wSAH\"),s(\"n4uK\");var i=s(\"of9L\"),r=(s(\"0meK\"),s(\"bfJE\"),s(\"gjrC\"));class n{constructor(){this._size=[0,0],this._programDesc={vsPath:\"post-processing/pp\",fsPath:\"post-processing/filterEffect\",attributes:{a_position:0}}}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(e,t,s){const{width:i,height:r}=t;this._createOrResizeResources(e,i,r);const{context:n,painter:a}=e,{materialManager:o}=a,c=this._programDesc,u=this._quad,l=s.colorMatrix;u.bind();const d=this._layerFBOTexture;n.bindFramebuffer(t),t.copyToTexture(0,0,i,r,0,0,d),n.setBlendingEnabled(!1),n.setStencilTestEnabled(!1);const h=o.getProgram(e,c);n.bindProgram(h),n.bindTexture(d,2),h.setUniformMatrix4fv(\"u_coefficients\",l),h.setUniform1i(\"u_colorTexture\",2),u.draw(),n.setBlendingEnabled(!0),n.setBlendFunction(1,771),n.setStencilTestEnabled(!0),u.unbind()}_createOrResizeResources(e,t,s){const{context:n}=e;this._layerFBOTexture&&this._size[0]===t&&this._size[1]===s||(this._size[0]=t,this._size[1]=s,this._layerFBOTexture?this._layerFBOTexture.resize(t,s):this._layerFBOTexture=new i.a(n,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!1,width:t,height:s}),this._quad||(this._quad=new r.a(n,[-1,-1,1,-1,-1,1,1,1])))}}}}]);","name":"152.c74a700110208a1dd2d6.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[152],{\n\n/***/ \"P3Vg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Colorize\", function() { return s; });\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wSAH\");\n/* harmony import */ var _chunks_builtins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"n4uK\");\n/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"of9L\");\n/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"0meK\");\n/* harmony import */ var _webgl_RenderingContext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"bfJE\");\n/* harmony import */ var _VertexStream_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"gjrC\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass s{constructor(){this._size=[0,0],this._programDesc={vsPath:\"post-processing/pp\",fsPath:\"post-processing/filterEffect\",attributes:{a_position:0}}}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(e,t,s){const{width:r,height:i}=t;this._createOrResizeResources(e,r,i);const{context:o,painter:a}=e,{materialManager:n}=a,l=this._programDesc,c=this._quad,h=s.colorMatrix;c.bind();const u=this._layerFBOTexture;o.bindFramebuffer(t),t.copyToTexture(0,0,r,i,0,0,u),o.setBlendingEnabled(!1),o.setStencilTestEnabled(!1);const d=n.getProgram(e,l);o.bindProgram(d),o.bindTexture(u,2),d.setUniformMatrix4fv(\"u_coefficients\",h),d.setUniform1i(\"u_colorTexture\",2),c.draw(),o.setBlendingEnabled(!0),o.setBlendFunction(1,771),o.setStencilTestEnabled(!0),c.unbind()}_createOrResizeResources(s,r,i){const{context:o}=s;this._layerFBOTexture&&this._size[0]===r&&this._size[1]===i||(this._size[0]=r,this._size[1]=i,this._layerFBOTexture?this._layerFBOTexture.resize(r,i):this._layerFBOTexture=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"](o,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!1,width:r,height:i}),this._quad||(this._quad=new _VertexStream_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"](o,[-1,-1,1,-1,-1,1,1,1])))}}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}