{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{t0D6:function(e,t,r){\"use strict\";r.r(t);var i=r(\"pO5D\"),s=(r(\"wSAH\"),r(\"6S2I\"),r(\"zqDF\"),r(\"WbKI\")),a=r(\"04ZG\"),o=(r(\"4EHJ\"),r(\"ju1D\"),r(\"9AIY\"),r(\"9MzC\")),n=r(\"Lqtk\"),l=r(\"qNUd\"),c=r(\"kglp\"),u=r(\"o6Le\"),p=r(\"OvWd\"),b=r(\"srIe\"),y=r(\"r88o\"),d=r(\"ag7Y\"),O=r(\"WZb1\"),f=r(\"SuVq\"),j=r(\"Ehki\"),m=r(\"UhwK\"),h=(r(\"4GrV\"),r(\"jWBI\")),B=r(\"8prj\"),g=r(\"eKLr\"),v=r(\"54nt\");function k(e){return B.default.fromJSON(e).features.map(e=>e.geometry)}let S=class extends d.a{constructor(e){super(e),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(e){return k(e)}readIncidents(e){return k(e)}readPointBarriers(e,t){return k(t.barriers)}readPolylineBarriers(e){return k(e)}readPolygonBarriers(e){return k(e)}readRoutes(e){return function(e){return e.features.map(t=>{const r=O.a.fromJSON(e.spatialReference),i=h.a.fromJSON(t);return Object(b.h)(i.geometry)&&(i.geometry.spatialReference=r),i})}(e)}};Object(i.a)([Object(s.b)({type:[g.a]})],S.prototype,\"directions\",void 0),Object(i.a)([Object(s.b)({type:[f.a]})],S.prototype,\"facilities\",void 0),Object(i.a)([Object(y.a)(\"facilities\")],S.prototype,\"readFacilities\",null),Object(i.a)([Object(s.b)({type:[f.a]})],S.prototype,\"incidents\",void 0),Object(i.a)([Object(y.a)(\"incidents\")],S.prototype,\"readIncidents\",null),Object(i.a)([Object(s.b)({type:[v.a]})],S.prototype,\"messages\",void 0),Object(i.a)([Object(s.b)({type:[f.a]})],S.prototype,\"pointBarriers\",void 0),Object(i.a)([Object(y.a)(\"pointBarriers\",[\"barriers\"])],S.prototype,\"readPointBarriers\",null),Object(i.a)([Object(s.b)({type:[m.a]})],S.prototype,\"polylineBarriers\",void 0),Object(i.a)([Object(y.a)(\"polylineBarriers\")],S.prototype,\"readPolylineBarriers\",null),Object(i.a)([Object(s.b)({type:[j.a]})],S.prototype,\"polygonBarriers\",void 0),Object(i.a)([Object(y.a)(\"polygonBarriers\")],S.prototype,\"readPolygonBarriers\",null),Object(i.a)([Object(s.b)({type:[h.a]})],S.prototype,\"routes\",void 0),Object(i.a)([Object(y.a)(\"routes\")],S.prototype,\"readRoutes\",null),S=Object(i.a)([Object(a.a)(\"esri.tasks.support.ClosestFacilitySolveResult\")],S);var A=S;const w=Object(u.a)({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},facilities:!0,incidents:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},returnRoutes:{name:\"returnCFRoutes\"},travelMode:!0});let G=class extends(Object(p.a)(c.a)){constructor(e){super(e),this.url=null}solve(e,t){const r=[],i=[],s={},a={};return e.incidents&&e.incidents.features&&this._collectGeometries(e.incidents.features,i,\"incidents.features\",s),e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,i,\"facilities.features\",s),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,i,\"pointBarriers.features\",s),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,i,\"polylineBarriers.features\",s),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,i,\"polygonBarriers.features\",s),Object(l.a)(i).then(e=>{for(const t in s){const i=s[t];r.push(t),a[t]=e.slice(i[0],i[1])}return this._isInputGeometryZAware(a,r)?this.getServiceDescription():Object(o.u)({dontCheck:!0})}).then(i=>{(\"dontCheck\"in i?i.dontCheck:i.hasZ)||this._dropZValuesOffInputGeometry(a,r);for(const t in a)a[t].forEach((r,i)=>{e.get(t)[i].geometry=r});let s={query:{...this.parsedUrl.query,f:\"json\",...w.toQueryParams(e)}};return(this.requestOptions||t)&&(s={...this.requestOptions,...t,...s}),Object(n.default)(this.parsedUrl.path+\"/solveClosestFacility\",s)}).then(e=>A.fromJSON(e.data))}_collectGeometries(e,t,r,i){i[r]=[t.length,t.length+e.length],e.forEach(e=>{t.push(e.geometry)})}};Object(i.a)([Object(s.b)()],G.prototype,\"url\",void 0),G=Object(i.a)([Object(a.a)(\"esri.tasks.ClosestFacilityTask\")],G),t.default=G}}]);","name":"146.332176bb6e53bc637016.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[146],{\n\n/***/ \"t0D6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"pO5D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(\"wSAH\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(\"6S2I\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(\"zqDF\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(\"WbKI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js + 1 modules\nvar subclass = __webpack_require__(\"04ZG\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js\nvar urlUtils = __webpack_require__(\"4EHJ\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/uuid.js\nvar uuid = __webpack_require__(\"ju1D\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/support/resourceExtension.js\nvar resourceExtension = __webpack_require__(\"9AIY\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(\"9MzC\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(\"Lqtk\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/normalizeUtils.js + 2 modules\nvar normalizeUtils = __webpack_require__(\"qNUd\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/Task.js\nvar Task = __webpack_require__(\"kglp\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/queryUtils.js\nvar queryUtils = __webpack_require__(\"o6Le\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js\nvar NAServiceDescription = __webpack_require__(\"OvWd\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(\"srIe\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js\nvar reader = __webpack_require__(\"r88o\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js\nvar JSONSupport = __webpack_require__(\"ag7Y\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js\nvar SpatialReference = __webpack_require__(\"WZb1\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 2 modules\nvar Point = __webpack_require__(\"SuVq\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polygon.js\nvar Polygon = __webpack_require__(\"Ehki\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polyline.js\nvar Polyline = __webpack_require__(\"UhwK\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry.js\nvar geometry = __webpack_require__(\"4GrV\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(\"jWBI\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/support/FeatureSet.js\nvar FeatureSet = __webpack_require__(\"8prj\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js\nvar DirectionsFeatureSet = __webpack_require__(\"eKLr\");\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/support/NAMessage.js\nvar NAMessage = __webpack_require__(\"54nt\");\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/tasks/support/ClosestFacilitySolveResult.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction d(r){return FeatureSet[\"default\"].fromJSON(r).features.map((r=>r.geometry))}let f=class extends JSONSupport[\"a\" /* JSONSupport */]{constructor(r){super(r),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(r){return d(r)}readIncidents(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readRoutes(r){return function(r){return r.features.map((o=>{const t=SpatialReference[\"a\" /* default */].fromJSON(r.spatialReference),s=Graphic[\"a\" /* default */].fromJSON(o);return Object(maybe[\"h\" /* isSome */])(s.geometry)&&(s.geometry.spatialReference=t),s}))}(r)}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[DirectionsFeatureSet[\"a\" /* default */]]})],f.prototype,\"directions\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Point[\"a\" /* default */]]})],f.prototype,\"facilities\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"facilities\")],f.prototype,\"readFacilities\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Point[\"a\" /* default */]]})],f.prototype,\"incidents\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"incidents\")],f.prototype,\"readIncidents\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[NAMessage[\"a\" /* default */]]})],f.prototype,\"messages\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Point[\"a\" /* default */]]})],f.prototype,\"pointBarriers\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Polyline[\"a\" /* default */]]})],f.prototype,\"polylineBarriers\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Polygon[\"a\" /* default */]]})],f.prototype,\"polygonBarriers\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])({type:[Graphic[\"a\" /* default */]]})],f.prototype,\"routes\",void 0),Object(tslib_es6[\"a\" /* _ */])([Object(reader[\"a\" /* reader */])(\"routes\")],f.prototype,\"readRoutes\",null),f=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.tasks.support.ClosestFacilitySolveResult\")],f);var j=f;/* harmony default export */ var ClosestFacilitySolveResult = (j);\n\n// CONCATENATED MODULE: ./node_modules/@arcgis/core/tasks/ClosestFacilityTask.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst l=Object(queryUtils[\"a\" /* createQueryParamsHelper */])({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},facilities:!0,incidents:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},returnRoutes:{name:\"returnCFRoutes\"},travelMode:!0});let p=class extends(Object(NAServiceDescription[\"a\" /* NAServiceDescriptionMixin */])(Task[\"a\" /* default */])){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],n={},c={};return e.incidents&&e.incidents.features&&this._collectGeometries(e.incidents.features,a,\"incidents.features\",n),e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),Object(normalizeUtils[\"a\" /* normalizeCentralMeridian */])(a).then((e=>{for(const r in n){const s=n[r];t.push(r),c[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(c,t)?this.getServiceDescription():Object(promiseUtils[\"u\" /* resolve */])({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(c,t);for(const r in c)c[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};return(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o}),Object(request[\"default\"])(`${this.parsedUrl.path}/solveClosestFacility`,o)})).then((e=>ClosestFacilitySolveResult.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};Object(tslib_es6[\"a\" /* _ */])([Object(property[\"b\" /* property */])()],p.prototype,\"url\",void 0),p=Object(tslib_es6[\"a\" /* _ */])([Object(subclass[\"a\" /* subclass */])(\"esri.tasks.ClosestFacilityTask\")],p);var m=p;/* harmony default export */ var ClosestFacilityTask = __webpack_exports__[\"default\"] = (m);\n\n\n/***/ })\n\n}]);","inputSourceMap":null}