(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"136L":function(t,e,n){"use strict";n.r(e),n.d(e,"csvLatitudeFieldNames",function(){return X}),n.d(e,"csvLongitudeFieldNames",function(){return B});var i=n("wSAH"),r=n("f/qv"),s=n("zlDU"),o=n("4EHJ"),a=n("9MzC"),l=n("f4Nx"),u=n("WZb1"),c=n("l4ZG"),h=(n("4GrV"),n("Lqtk")),f=n("gYg2"),d=n("cBWO"),m=n("k5I3"),p=n("gVKr"),g=n("gLc9"),x=n("1kEK"),y=n("HsO1"),b=n("iNG6"),I=n("ZRfE"),_=n("ZBG3");const N=/^\s*"([\S\s]*)"\s*$/,F=/""/g,v=[","," ",";","|","\t"];function M(t,e){const n={},i=t.length;for(let r=0;r<i;r++)n[t[r]]=e[r];return n}function*T(t,e,n){let i=0;for(;i<=t.length;){const r=t.indexOf(e,i),s=t.substring(i,r>-1?r:void 0);i+=s.length+1,n&&!s.trim()||(yield s)}}function E(t){const e=t.includes("\r\n")?"\r\n":"\n";return T(t,e,!0)}function*w(t,e,n){let i="",r="",s=0,o=[];t:for(;;){const{value:a,done:l}=t.next();if(l)return;const u=T(a,n,!1);e:for(;;){const{value:t,done:e}=u.next();if(e)break e;if(i+=r+t,r="",s+=O(t),s%2==0){if(s>0){const t=N.exec(i);if(!t){o=[],i="",s=0;continue t}o.push(t[1].replace(F,'"'))}else o.push(i);i="",s=0}else r=n}0===s?(yield M(e,o),o=[]):r="\n"}}function O(t){let e=0,n=0;for(n=t.indexOf('"',n);n>=0;)e++,n=t.indexOf('"',n+1);return e}const Y=Object(b.c)("esriGeometryPoint"),j=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],X=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],B=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"],D=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,S=["csv"],P=[0,0];class Z{constructor(t,e){this.x=t,this.y=e}}const R=function(){const t=Object(d.a)(),e=new RegExp("^"+t.regexp+"$"),n=new RegExp("["+t.group+"\\s\\xa0]","g"),i=t.factor;return function(r){const s=e.exec(r);if(t.factor=i,!s)return NaN;let o=s[1];if(!s[1]){if(!s[2])return NaN;o=s[2],t.factor*=-1}return o=o.replace(n,"").replace(t.decimal,"."),+o*t.factor}}(),V="isInteger"in Number?Number.isInteger:t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t;e.default=class{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(t,e={}){const[n]=await Object(a.b)([this._fetch(t.url,e),this._checkProjection(e&&t.parsing&&t.parsing.spatialReference)]),i=this._parse(n,t);if(this._queryEngine=this._createQueryEngine(n,i),i.layerDefinition.extent=this._queryEngine.fullExtent,i.layerDefinition.timeInfo){const{start:t,end:e}=this._queryEngine.timeExtent;i.layerDefinition.timeInfo.timeExtent=[t,e]}return i}async applyEdits(){throw new s.a("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer")}async queryFeatures(t={},e={}){return this._queryEngine.executeQuery(t,e.signal)}async queryFeatureCount(t={},e={}){return this._queryEngine.executeQueryForCount(t,e.signal)}async queryObjectIds(t={},e={}){return this._queryEngine.executeQueryForIds(t,e.signal)}async queryExtent(t={},e={}){return this._queryEngine.executeQueryForExtent(t,e.signal)}async _fetch(t,e){if(!t)throw new s.a("csv-source:invalid-source","url not defined");const n=Object(o.I)(t);return(await Object(h.default)(n.path,{query:n.query,responseType:"text",signal:e.signal})).data}_parse(t,e){const n=e.parsing||{},i={columnDelimiter:n.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},a=E(t);let{value:l}=a.next();if(!l)throw new s.a("csv","CSV is empty",{csv:t});if(l=l.trim(),!n.columnDelimiter){const t=function(t){const e=t.trim();let n=0,i="";for(const r of v){const t=e.split(r).length;t>n&&(n=t,i=r)}return""===i?null:i}(l);if(!t)throw new s.a("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");i.columnDelimiter=t}const u=l.split(i.columnDelimiter),c=i.layerDefinition={name:Object(o.k)(e.url,S)||"csv",drawingInfo:Y,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const t=this._inferLocationInfo(u);if(!n.longitudeField&&!t.longitudeFieldName||!n.latitudeField&&!t.latitudeFieldName)throw new s.a("csv","Unable to identify latitudeField and/or longitudeField from CSV");i.locationInfo={longitudeFieldName:n.longitudeField||t.longitudeFieldName,latitudeFieldName:n.latitudeField||t.latitudeFieldName}}const h=this._inferFields(a,i.columnDelimiter,u,i.locationInfo);if(n.fields&&n.fields.length){const t=new Map;for(const e of n.fields)t.set(e.name.toLowerCase(),e);for(const e of h){const n=t.get(e.name.toLowerCase());if(n){const t=e.name;Object(r.d)(e,n),e.name=t}}}if(c.fields=h,!c.fields.some(t=>"esriFieldTypeOID"===t.type&&(c.objectIdField=t.name,!0))){const t={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};c.objectIdField=t.name,c.fields.unshift(t)}if(this._fieldsIndex=new g.a(c.fields),c.timeInfo){const t=c.timeInfo;if(t.startTimeField){const e=this._fieldsIndex.get(t.startTimeField);e?(t.startTimeField=e.name,e.type="esriFieldTypeDate"):t.startTimeField=null}if(t.endTimeField){const e=this._fieldsIndex.get(t.endTimeField);e?(t.endTimeField=e.name,e.type="esriFieldTypeDate"):t.endTimeField=null}if(t.trackIdField){const e=this._fieldsIndex.get(t.trackIdField);t.trackIdField=e?e.name:null}t.startTimeField||t.endTimeField||(c.timeInfo=null)}return i}_inferLocationInfo(t){let e=null,n=null;const i=e=>t.find(t=>t.toLowerCase()===e);return B.some(t=>(e=i(t),!!e)),X.some(t=>(n=i(t),!!n)),{longitudeFieldName:e,latitudeFieldName:n}}_inferFields(t,e,n,i){const r=[],s=w(t,n,e),o=[];t:for(;o.length<10;){const{value:t,done:e}=s.next();if(e)break t;o.push(t)}for(const a of n)if(a===i.longitudeFieldName||a===i.latitudeFieldName)r.push({name:a,type:"esriFieldTypeDouble",alias:a});else{const t=o.map(t=>t[a]),e=this._inferFieldType(t),n={name:a,type:null,alias:a};switch(e){case"integer":n.type="esriFieldTypeInteger";break;case"double":n.type="esriFieldTypeDouble";break;case"date":n.type="esriFieldTypeDate",n.length=36;break;default:n.type="esriFieldTypeString",n.length=255}r.push(n)}return r}_inferFieldType(t){if(!t.length)return"string";const e=/[^+-.,0-9]/;return t.map(t=>{let n=!1;if(""!==t){if(e.test(t))n=!0;else{let e=R(t);if(!isNaN(e))return/[.,]/.test(t)||!V(e)||e>214783647||e<-214783648?"double":"integer";if(-1===t.indexOf("E"))n=!0;else{if(e=Number(t),!isNaN(e))return"double";if(-1===t.indexOf(","))n=!0;else{if(t=t.replace(",","."),e=Number(t),!isNaN(e))return"double";n=!0}}}if(n){if(!/^[-]?\d*[.,]?\d*$/.test(t)){const e=new Date(t);return this._isValidDate(e,t)?"date":"string"}return"string"}return"string"}}).reduce((t,e)=>void 0===t||t===e?e:"string"===t||"string"===e?"string":"double"===t||"double"===e?"double":void 0)}_isValidDate(t,e){if(!t||"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return!1;let n=!0;if(Object(i.a)("chrome")&&/\d+\W*$/.test(e)){const t=e.match(/[a-zA-Z]{2,}/);if(t){let e=!1,i=0;for(;!e&&i<=t.length;)e=!D.test(t[i]),i++;n=!e}}return n}_createQueryEngine(t,e){const{latitudeFieldName:n,longitudeFieldName:i}=e.locationInfo,{objectIdField:r,fields:s,extent:o,timeInfo:a}=e.layerDefinition;let h=[];const d=[],g=new Set,y=new Set,b=[];for(const{name:l,type:u}of s)"esriFieldTypeDate"===u?g.add(l):j.indexOf(u)>-1&&y.add(l),l!==r&&b.push(l);let N=0;const F=E(t);F.next();const v=w(F,b,e.columnDelimiter);t:for(;;){const{value:t,done:e}=v.next();if(e)break t;const s=this._parseCoordinateValue(t[n]),o=this._parseCoordinateValue(t[i]);if(null!=o&&null!=s&&!isNaN(s)&&!isNaN(o)){t[n]=s,t[i]=o;for(const e in t)if(e!==n&&e!==i)if(g.has(e)){const n=new Date(t[e]);t[e]=this._isValidDate(n,t[e])?n.getTime():null}else if(y.has(e)){const n=R(t[e]);t[e]=isNaN(n)?null:n}t[r]=N,N++,h.push(new Z(o,s)),d.push(t)}}if(!Object(l.c)({wkid:4326},o.spatialReference))if(Object(l.m)(o.spatialReference))for(const l of h)[l.x,l.y]=Object(c.c)(l.x,l.y,P);else h=Object(f.h)(x.a,h,u.a.WGS84,o.spatialReference,null);const M=new I.a({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1}),T=new _.a({fields:e.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:a,objectIdField:r,spatialReference:o.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:M}),O=[];for(let l=0;l<h.length;l++){const{x:t,y:e}=h[l],n=d[l];n[r]=l+1,O.push(new m.a(new p.a([],[t,e]),n,null,n[r]))}return M.addMany(O),T}_parseCoordinateValue(t){if(null==t||""===t)return null;let e=R(t);return(isNaN(e)||Math.abs(e)>181)&&(e=parseFloat(t)),e}async _checkProjection(t){try{await Object(y.a)(l.a,t)}catch{throw new s.a("csv-layer","Projection not supported")}}}},"1kEK":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,n){const i=new r(t.getPointX(e),t.getPointY(e),n),s=t.hasZ(e),o=t.hasM(e);return s&&(i.z=t.getPointZ(e)),o&&(i.m=t.getPointM(e)),i},exportPolygon:function(t,e,n){return new s(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,n){return new o(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,n){return new a(t.exportPoints(e),n,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,n){const i=t.hasZ(e),r=t.hasM(e),s=new l(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),n);if(i){const n=t.getZExtent(e);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=t.getMExtent(e);s.mmin=n.vmin,s.mmax=n.vmax}return s}};class r{constructor(t,e,n){this.x=t,this.y=e,this.spatialReference=n,this.z=void 0,this.m=void 0}}class s{constructor(t,e,n,i){this.rings=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(t,e,n,i){this.paths=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(t,e,n,i){this.points=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class l{constructor(t,e,n,i,r){this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},"2X7Z":function(t,e,n){"use strict";function i(t,e){return t?e?4:3:e?3:2}function r(t,e,n,r,a){if(!e||!e.lengths.length)return null;const l="upperLeft"===(null==a?void 0:a.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const u=t.coords,c=[],h=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:f,coords:d}=e,m=i(n,r);let p=0;for(const i of f){const t=s(h,d,p,i,n,r,l);t&&c.push(t),p+=i*m}if(c.sort((t,e)=>{let i=l*t[2]-l*e[2];return 0===i&&n&&(i=t[4]-e[4]),i}),c.length){let t=6*c[0][2];u[0]=c[0][0]/t,u[1]=c[0][1]/t,n&&(t=6*c[0][4],u[2]=0!==t?c[0][3]/t:0),(u[0]<h[0]||u[0]>h[1]||u[1]<h[2]||u[1]>h[3]||n&&(u[2]<h[4]||u[2]>h[5]))&&(u.length=0)}if(!u.length){const t=e.lengths[0]?o(d,0,f[0],n,r):null;if(!t)return null;u[0]=t[0],u[1]=t[1],n&&t.length>2&&(u[2]=t[2])}return t}function s(t,e,n,r,s,o,a=1){const l=i(s,o);let u=n,c=n+l,h=0,f=0,d=0,m=0,p=0;for(let i=0,x=r-1;i<x;i++,u+=l,c+=l){const n=e[u],i=e[u+1],r=e[u+2],o=e[c],a=e[c+1],l=e[c+2];let g=n*a-o*i;m+=g,h+=(n+o)*g,f+=(i+a)*g,s&&(g=n*l-o*r,d+=(r+l)*g,p+=g),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),i<t[2]&&(t[2]=i),i>t[3]&&(t[3]=i),s&&(r<t[4]&&(t[4]=r),r>t[5]&&(t[5]=r))}if(m*a>0&&(m*=-1),p*a>0&&(p*=-1),!m)return null;const g=[h,f,.5*m];return s&&(g[3]=d,g[4]=.5*p),g}function o(t,e,n,r,s){const o=i(r,s);let h=e,f=e+o,d=0,m=0,p=0,g=0;for(let i=0,x=n-1;i<x;i++,h+=o,f+=o){const e=t[h],n=t[h+1],i=t[h+2],s=t[f],o=t[f+1],x=t[f+2],y=r?l(e,n,i,s,o,x):a(e,n,s,o);if(y)if(d+=y,r){const t=c(e,n,i,s,o,x);m+=y*t[0],p+=y*t[1],g+=y*t[2]}else{const t=u(e,n,s,o);m+=y*t[0],p+=y*t[1]}}return d>0?r?[m/d,p/d,g/d]:[m/d,p/d]:n>0?r?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function a(t,e,n,i){const r=n-t,s=i-e;return Math.sqrt(r*r+s*s)}function l(t,e,n,i,r,s){const o=i-t,a=r-e,l=s-n;return Math.sqrt(o*o+a*a+l*l)}function u(t,e,n,i){return[t+.5*(n-t),e+.5*(i-e)]}function c(t,e,n,i,r,s){return[t+.5*(i-t),e+.5*(r-e),n+.5*(s-n)]}n.d(e,"a",function(){return r})},AIxD:function(t,e,n){"use strict";n.d(e,"a",function(){return b}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return I}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return N}),n.d(e,"g",function(){return F});var i=n("qatw");const r=(t,e,n)=>[e,n],s=(t,e,n)=>[e,n,t[2]],o=(t,e,n)=>[e,n,t[2],t[3]];function a(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:[t.tolerance,t.tolerance],translate:[t.extent.xmin,t.extent.ymax]}:null}function l({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function u({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function c(t,e,n){const i=[];let r,s,o,a;for(let c=0;c<n.length;c++){const h=n[c];c>0?(o=l(t,h[0]),a=u(t,h[1]),o===r&&a===s||(i.push(e(h,o-r,a-s)),r=o,s=a)):(r=l(t,h[0]),s=u(t,h[1]),i.push(e(h,r,s)))}return i.length>0?i:null}function h({scale:t,translate:e},n){return n*t[0]+e[0]}function f({scale:t,translate:e},n){return e[1]-n*t[1]}function d(t,e,n){const i=new Array(n.length);if(!n.length)return i;const[r,s]=t.scale;let o=h(t,n[0][0]),a=f(t,n[0][1]);i[0]=e(n[0],o,a);for(let l=1;l<n.length;l++){const t=n[l];o+=t[0]*r,a-=t[1]*s,i[l]=e(t,o,a)}return i}function m(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=d(t,e,n[r]);return i}function p(t,e,n,i,a){return e.points=function(t,e,n,i){return c(t,n?i?o:s:i?s:r,e)}(t,n.points,i,a),e}function g(t,e,n,i,r){return e.x=l(t,n.x),e.y=u(t,n.y),e!==n&&(i&&(e.z=n.z),r&&(e.m=n.m)),e}function x(t,e,n,i,a){const l=function(t,e,n,i){const a=[],l=n?i?o:s:i?s:r;for(let r=0;r<e.length;r++){const n=c(t,l,e[r]);n&&n.length>=3&&a.push(n)}return a.length?a:null}(t,n.rings,i,a);return l?(e.rings=l,e):null}function y(t,e,n,i,a){const l=function(t,e,n,i){const a=[],l=n?i?o:s:i?s:r;for(let r=0;r<e.length;r++){const n=c(t,l,e[r]);n&&n.length>=2&&a.push(n)}return a.length?a:null}(t,n.paths,i,a);return l?(e.paths=l,e):null}function b(t,e){return t&&e?Object(i.f)(e)?g(t,{},e,!1,!1):Object(i.h)(e)?y(t,{},e,!1,!1):Object(i.g)(e)?x(t,{},e,!1,!1):Object(i.e)(e)?p(t,{},e,!1,!1):Object(i.d)(e)?((r={}).xmin=l(n=t,(s=e).xmin),r.ymin=u(n,s.ymin),r.xmax=l(n,s.xmax),r.ymax=u(n,s.ymax),r):null:null;var n,r,s}function I(t,e,n,i,a){return e.points=function(t,e,n,i){return d(t,n?i?o:s:i?s:r,e)}(t,n.points,i,a),e}function _(t,e,n,i,r){return e.x=h(t,n.x),e.y=f(t,n.y),e!==n&&(i&&(e.z=n.z),r&&(e.m=n.m)),e}function N(t,e,n,i,a){return e.rings=function(t,e,n,i){return m(t,n?i?o:s:i?s:r,e)}(t,n.rings,i,a),e}function F(t,e,n,i,a){return e.paths=function(t,e,n,i){return m(t,n?i?o:s:i?s:r,e)}(t,n.paths,i,a),e}},HsO1:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return x});var i=n("9MzC"),r=n("f4Nx"),s=n("l4ZG"),o=n("gYg2"),a=n("1kEK");const l=[0,0];function u(t,e){if(!e)return null;if("x"in e){const n={x:0,y:0};return[n.x,n.y]=t(e.x,e.y,l),null!=e.z&&(n.z=e.z),null!=e.m&&(n.m=e.m),n}if("xmin"in e){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=t(e.xmin,e.ymin,l),[n.xmax,n.ymax]=t(e.xmax,e.ymax,l),e.hasZ&&(n.zmin=e.zmin,n.zmax=e.zmax,n.hasZ=!0),e.hasM&&(n.mmin=e.mmin,n.mmax=e.mmax,n.hasM=!0),n}return"rings"in e?{rings:c(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:c(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:h(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:void 0}function c(t,e){const n=[];for(const i of t)n.push(h(i,e));return n}function h(t,e){const n=[];for(const i of t){const t=e(i[0],i[1],[0,0]);n.push(t),i.length>2&&t.push(i[2]),i.length>3&&t.push(i[3])}return n}async function f(t,e){if(!e)return;const n=Array.isArray(t)?t.map(t=>{var e;return null==(e=t.geometry)?void 0:e.spatialReference}):[t];await Object(o.b)(n.map(t=>({source:t,dest:e})))}const d=u.bind(null,s.c),m=u.bind(null,s.f);function p(t,e,n){return t?(n||(n=e,e=t.spatialReference),Object(r.i)(e)&&Object(r.i)(n)&&!Object(r.c)(e,n)?Object(s.a)(e,n)?Object(r.m)(n)?d(t):m(t):Object(o.h)(a.a,[t],e,n,null)[0]:t):t}const g=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,n){!t||!t.length||!e||!n||Object(r.c)(e,n);const s={geometries:t,inSpatialReference:e,outSpatialReference:n,resolve:null};return this._jobs.push(s),Object(i.c)(t=>{s.resolve=t,null===this._timer&&(this._timer=setTimeout(this._process,10))})}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:e,inSpatialReference:n,outSpatialReference:i,resolve:l}=t;Object(s.a)(n,i)?Object(r.m)(i)?l(e.map(d)):l(e.map(m)):l(Object(o.h)(a.a,e,n,i,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};async function x(t,e,n){return g.push(t,e,n)}},RjdO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("X2wA"),r=Object(i.b)(function(t){var e;void 0!==(e=function(){function t(n,i,r,s,o){for(;s>r;){if(s-r>600){var a=s-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-l*c/a+h)),Math.min(s,Math.floor(i+(a-l)*c/a+h)),o)}var f=n[i],d=r,m=s;for(e(n,r,i),o(n[s],f)>0&&e(n,r,s);d<m;){for(e(n,d,m),d++,m--;o(n[d],f)<0;)d++;for(;o(n[m],f)>0;)m--}0===o(n[r],f)?e(n,r,m):e(n,++m,s),m<=i&&(r=m+1),i<=m&&(s=m-1)}}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}return function(e,i,r,s,o){t(e,i,r||0,s||e.length-1,o||n)}}())&&(t.exports=e)})},"kB+0":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("RjdO");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}function s(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,o=e;o<n;o++)s=t.children[o],l(r,t.leaf?i(s):s);return r}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,r,s){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Object(i.a)(t,o,e,n,s),a.push(e,o,o,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!m(t,e))return n;for(var r,s,o,a,l=[];e;){for(r=0,s=e.children.length;r<s;r++)o=e.children[r],m(t,a=e.leaf?i(o):o)&&(e.leaf?n.push(o):d(t,a)?this._all(o,n):l.push(o));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!m(t,e))return!1;for(var i,r,s,o,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(s=e.children[i],m(t,o=e.leaf?n(s):s)){if(e.leaf||d(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,a=this.data,l=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=c.pop(),o=!0),a.leaf&&-1!==(r=s(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!d(a,l)?i?(n++,a=i.children[n],o=!1):a=null:(u.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return o(r=p(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=p([])).leaf=!1,r.height=i;var l,u,c,h,f=Math.ceil(s/a),d=f*Math.ceil(Math.sqrt(a));for(g(t,e,n,d,this.compareMinX),l=e;l<=n;l+=d)for(g(t,l,c=Math.min(l+d-1,n),f,this.compareMinY),u=l;u<=c;u+=f)h=Math.min(u+f-1,c),r.children.push(this._build(t,u,h,i-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,s,o,a,l,u,c,f,d,m;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,s=e.children.length;r<s;r++)l=h(o=e.children[r]),d=t,m=o,(u=(Math.max(m.maxX,d.maxX)-Math.min(m.minX,d.minX))*(Math.max(m.maxY,d.maxY)-Math.min(m.minY,d.minY))-l)<f?(f=u,c=l<c?l:c,a=o):u===f&&l<c&&(c=l,a=o);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),r=[],s=this._chooseSubtree(i,this.data,e,r);for(s.children.push(t),l(s,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=p(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,s,o,l,u,c,f,d,m,p,g,x,y;for(u=c=1/0,i=e;i<=n-e;i++)d=r=a(t,0,i,this.toBBox),m=s=a(t,i,n,this.toBBox),p=Math.max(d.minX,m.minX),g=Math.max(d.minY,m.minY),x=Math.min(d.maxX,m.maxX),y=Math.min(d.maxY,m.maxY),o=Math.max(0,x-p)*Math.max(0,y-g),l=h(r)+h(s),o<u?(u=o,f=i,c=l<c?l:c):o===u&&l<c&&(c=l,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,s,o=this.toBBox,u=a(t,0,e,o),c=a(t,n-e,n,o),h=f(u)+f(c);for(r=e;r<n-e;r++)s=t.children[r],l(u,t.leaf?o(s):s),h+=f(u);for(r=n-e-1;r>=e;r--)s=t.children[r],l(c,t.leaf?o(s):s),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)l(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}}}]);